/*! For license information please see main.5c075fdd.js.LICENSE.txt */
(()=>{"use strict";var t={4:(t,e,n)=>{var i=n(853),s=n(43),r=n(950);function a(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),g=Symbol.for("react.consumer"),m=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),x=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var _=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var S=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function A(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=k&&t[k]||t["@@iterator"])?t:null}var C=Symbol.for("react.client.reference");function E(t){if(null==t)return null;if("function"===typeof t)return t.$$typeof===C?null:t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case u:return"Fragment";case d:return"Portal";case p:return"Profiler";case h:return"StrictMode";case b:return"Suspense";case y:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case m:return(t.displayName||"Context")+".Provider";case g:return(t._context.displayName||"Context")+".Consumer";case v:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case w:return null!==(e=t.displayName||null)?e:E(t.type)||"Memo";case x:e=t._payload,t=t._init;try{return E(t(e))}catch(n){}}return null}var T,P,M=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign;function R(t){if(void 0===T)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);T=e&&e[1]||"",P=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+T+t+P}var I=!1;function L(t,e){if(!t||I)return"";I=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(s){var i=s}Reflect.construct(t,[],n)}else{try{n.call()}catch(r){i=r}t.call(n.prototype)}}else{try{throw Error()}catch(a){i=a}(n=t())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(o){if(o&&i&&"string"===typeof o.stack)return[o.stack,i.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),a=r[0],o=r[1];if(a&&o){var l=a.split("\n"),c=o.split("\n");for(s=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(i===l.length||s===c.length)for(i=l.length-1,s=c.length-1;1<=i&&0<=s&&l[i]!==c[s];)s--;for(;1<=i&&0<=s;i--,s--)if(l[i]!==c[s]){if(1!==i||1!==s)do{if(i--,0>--s||l[i]!==c[s]){var d="\n"+l[i].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}}while(1<=i&&0<=s);break}}}finally{I=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?R(n):""}function O(t){switch(t.tag){case 26:case 27:case 5:return R(t.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 15:return t=L(t.type,!1);case 11:return t=L(t.type.render,!1);case 1:return t=L(t.type,!0);default:return""}}function F(t){try{var e="";do{e+=O(t),t=t.return}while(t);return e}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function B(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function N(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function z(t){if(B(t)!==t)throw Error(a(188))}function U(t){var e=t.tag;if(5===e||26===e||27===e||6===e)return t;for(t=t.child;null!==t;){if(null!==(e=U(t)))return e;t=t.sibling}return null}var j=Array.isArray,H=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},$=[],W=-1;function G(t){return{current:t}}function q(t){0>W||(t.current=$[W],$[W]=null,W--)}function X(t,e){W++,$[W]=t.current,t.current=e}var K=G(null),Y=G(null),Q=G(null),J=G(null);function Z(t,e){switch(X(Q,e),X(Y,t),X(K,null),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)&&(e=e.namespaceURI)?Yd(e):0;break;default:if(e=(t=8===t?e.parentNode:e).tagName,t=t.namespaceURI)e=Qd(t=Yd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(K),X(K,e)}function tt(){q(K),q(Y),q(Q)}function et(t){null!==t.memoizedState&&X(J,t);var e=K.current,n=Qd(e,t.type);e!==n&&(X(Y,t),X(K,n))}function nt(t){Y.current===t&&(q(K),q(Y)),J.current===t&&(q(J),Fu._currentValue=V)}var it=Object.prototype.hasOwnProperty,st=i.unstable_scheduleCallback,rt=i.unstable_cancelCallback,at=i.unstable_shouldYield,ot=i.unstable_requestPaint,lt=i.unstable_now,ct=i.unstable_getCurrentPriorityLevel,dt=i.unstable_ImmediatePriority,ut=i.unstable_UserBlockingPriority,ht=i.unstable_NormalPriority,pt=i.unstable_LowPriority,ft=i.unstable_IdlePriority,gt=i.log,mt=i.unstable_setDisableYieldValue,vt=null,bt=null;function yt(t){if("function"===typeof gt&&mt(t),bt&&"function"===typeof bt.setStrictMode)try{bt.setStrictMode(vt,t)}catch(e){}}var wt=Math.clz32?Math.clz32:function(t){return 0===(t>>>=0)?32:31-(xt(t)/_t|0)|0},xt=Math.log,_t=Math.LN2;var St=128,kt=4194304;function At(t){var e=42&t;if(0!==e)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&t;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&t;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ct(t,e){var n=t.pendingLanes;if(0===n)return 0;var i=0,s=t.suspendedLanes,r=t.pingedLanes,a=t.warmLanes;t=0!==t.finishedLanes;var o=134217727&n;return 0!==o?0!==(n=o&~s)?i=At(n):0!==(r&=o)?i=At(r):t||0!==(a=o&~a)&&(i=At(a)):0!==(o=n&~s)?i=At(o):0!==r?i=At(r):t||0!==(a=n&~a)&&(i=At(a)),0===i?0:0!==e&&e!==i&&0===(e&s)&&((s=i&-i)>=(a=e&-e)||32===s&&0!==(4194176&a))?e:i}function Et(t,e){return 0===(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)}function Tt(t,e){switch(t){case 1:case 2:case 4:case 8:return e+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function Pt(){var t=St;return 0===(4194176&(St<<=1))&&(St=128),t}function Mt(){var t=kt;return 0===(62914560&(kt<<=1))&&(kt=4194304),t}function Dt(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Rt(t,e){t.pendingLanes|=e,268435456!==e&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function It(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-wt(e);t.entangledLanes|=e,t.entanglements[i]=1073741824|t.entanglements[i]|4194218&n}function Lt(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-wt(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}function Ot(t){return 2<(t&=-t)?8<t?0!==(134217727&t)?32:268435456:8:2}function Ft(){var t=H.p;return 0!==t?t:void 0===(t=window.event)?32:Qu(t.type)}var Bt=Math.random().toString(36).slice(2),Nt="__reactFiber$"+Bt,zt="__reactProps$"+Bt,Ut="__reactContainer$"+Bt,jt="__reactEvents$"+Bt,Ht="__reactListeners$"+Bt,Vt="__reactHandles$"+Bt,$t="__reactResources$"+Bt,Wt="__reactMarker$"+Bt;function Gt(t){delete t[Nt],delete t[zt],delete t[jt],delete t[Ht],delete t[Vt]}function qt(t){var e=t[Nt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ut]||n[Nt]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=lu(t);null!==t;){if(n=t[Nt])return n;t=lu(t)}return e}n=(t=n).parentNode}return null}function Xt(t){if(t=t[Nt]||t[Ut]){var e=t.tag;if(5===e||6===e||13===e||26===e||27===e||3===e)return t}return null}function Kt(t){var e=t.tag;if(5===e||26===e||27===e||6===e)return t.stateNode;throw Error(a(33))}function Yt(t){var e=t[$t];return e||(e=t[$t]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Qt(t){t[Wt]=!0}var Jt=new Set,Zt={};function te(t,e){ee(t,e),ee(t+"Capture",e)}function ee(t,e){for(Zt[t]=e,t=0;t<e.length;t++)Jt.add(e[t])}var ne=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),ie=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),se={},re={};function ae(t,e,n){if(s=e,it.call(re,s)||!it.call(se,s)&&(ie.test(s)?re[s]=!0:(se[s]=!0,0)))if(null===n)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":return void t.removeAttribute(e);case"boolean":var i=e.toLowerCase().slice(0,5);if("data-"!==i&&"aria-"!==i)return void t.removeAttribute(e)}t.setAttribute(e,""+n)}var s}function oe(t,e,n){if(null===n)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void t.removeAttribute(e)}t.setAttribute(e,""+n)}}function le(t,e,n,i){if(null===i)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":return void t.removeAttribute(n)}t.setAttributeNS(e,n,""+i)}}function ce(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function de(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function ue(t){t._valueTracker||(t._valueTracker=function(t){var e=de(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(t){i=""+t,r.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function he(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=de(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function pe(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}var fe=/[\n"\\]/g;function ge(t){return t.replace(fe,(function(t){return"\\"+t.charCodeAt(0).toString(16)+" "}))}function me(t,e,n,i,s,r,a,o){t.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?t.type=a:t.removeAttribute("type"),null!=e?"number"===a?(0===e&&""===t.value||t.value!=e)&&(t.value=""+ce(e)):t.value!==""+ce(e)&&(t.value=""+ce(e)):"submit"!==a&&"reset"!==a||t.removeAttribute("value"),null!=e?be(t,a,ce(e)):null!=n?be(t,a,ce(n)):null!=i&&t.removeAttribute("value"),null==s&&null!=r&&(t.defaultChecked=!!r),null!=s&&(t.checked=s&&"function"!==typeof s&&"symbol"!==typeof s),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?t.name=""+ce(o):t.removeAttribute("name")}function ve(t,e,n,i,s,r,a,o){if(null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&"boolean"!==typeof r&&(t.type=r),null!=e||null!=n){if(!("submit"!==r&&"reset"!==r||void 0!==e&&null!==e))return;n=null!=n?""+ce(n):"",e=null!=e?""+ce(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}i="function"!==typeof(i=null!=i?i:s)&&"symbol"!==typeof i&&!!i,t.checked=o?t.checked:!!i,t.defaultChecked=!!i,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(t.name=a)}function be(t,e,n){"number"===e&&pe(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function ye(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+ce(n),e=null,s=0;s<t.length;s++){if(t[s].value===n)return t[s].selected=!0,void(i&&(t[s].defaultSelected=!0));null!==e||t[s].disabled||(e=t[s])}null!==e&&(e.selected=!0)}}function we(t,e,n){null==e||((e=""+ce(e))!==t.value&&(t.value=e),null!=n)?t.defaultValue=null!=n?""+ce(n):"":t.defaultValue!==e&&(t.defaultValue=e)}function xe(t,e,n,i){if(null==e){if(null!=i){if(null!=n)throw Error(a(92));if(j(i)){if(1<i.length)throw Error(a(93));i=i[0]}n=i}null==n&&(n=""),e=n}n=ce(e),t.defaultValue=n,(i=t.textContent)===n&&""!==i&&null!==i&&(t.value=i)}function _e(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var Se=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ke(t,e,n){var i=0===e.indexOf("--");null==n||"boolean"===typeof n||""===n?i?t.setProperty(e,""):"float"===e?t.cssFloat="":t[e]="":i?t.setProperty(e,n):"number"!==typeof n||0===n||Se.has(e)?"float"===e?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function Ae(t,e,n){if(null!=e&&"object"!==typeof e)throw Error(a(62));if(t=t.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=e&&e.hasOwnProperty(i)||(0===i.indexOf("--")?t.setProperty(i,""):"float"===i?t.cssFloat="":t[i]="");for(var s in e)i=e[s],e.hasOwnProperty(s)&&n[s]!==i&&ke(t,s,i)}else for(var r in e)e.hasOwnProperty(r)&&ke(t,r,e[r])}function Ce(t){if(-1===t.indexOf("-"))return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ee=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Te=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pe(t){return Te.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Me=null;function De(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Re=null,Ie=null;function Le(t){var e=Xt(t);if(e&&(t=e.stateNode)){var n=t[zt]||null;t:switch(t=e.stateNode,e.type){case"input":if(me(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ge(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=i[zt]||null;if(!s)throw Error(a(90));me(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(e=0;e<n.length;e++)(i=n[e]).form===t.form&&he(i)}break t;case"textarea":we(t,n.value,n.defaultValue);break t;case"select":null!=(e=n.value)&&ye(t,!!n.multiple,e,!1)}}}var Oe=!1;function Fe(t,e,n){if(Oe)return t(e,n);Oe=!0;try{return t(e)}finally{if(Oe=!1,(null!==Re||null!==Ie)&&(Nc(),Re&&(e=Re,t=Ie,Ie=Re=null,Le(e),t)))for(e=0;e<t.length;e++)Le(t[e])}}function Be(t,e){var n=t.stateNode;if(null===n)return null;var i=n[zt]||null;if(null===i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(a(231,e,typeof n));return n}var Ne=!1;if(ne)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(xh){Ne=!1}var Ue=null,je=null,He=null;function Ve(){if(He)return He;var t,e,n=je,i=n.length,s="value"in Ue?Ue.value:Ue.textContent,r=s.length;for(t=0;t<i&&n[t]===s[t];t++);var a=i-t;for(e=1;e<=a&&n[i-e]===s[r-e];e++);return He=s.slice(t,1<e?1-e:void 0)}function $e(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function We(){return!0}function Ge(){return!1}function qe(t){function e(e,n,i,s,r){for(var a in this._reactName=e,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=r,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(s):s[a]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?We:Ge,this.isPropagationStopped=Ge,this}return D(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=We)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=We)},persist:function(){},isPersistent:We}),e}var Xe,Ke,Ye,Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Je=qe(Qe),Ze=D({},Qe,{view:0,detail:0}),tn=qe(Ze),en=D({},Ze,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ye&&(Ye&&"mousemove"===t.type?(Xe=t.screenX-Ye.screenX,Ke=t.screenY-Ye.screenY):Ke=Xe=0,Ye=t),Xe)},movementY:function(t){return"movementY"in t?t.movementY:Ke}}),nn=qe(en),sn=qe(D({},en,{dataTransfer:0})),rn=qe(D({},Ze,{relatedTarget:0})),an=qe(D({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0})),on=qe(D({},Qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}})),ln=qe(D({},Qe,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},un={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=un[t])&&!!e[t]}function pn(){return hn}var fn=qe(D({},Ze,{key:function(t){if(t.key){var e=cn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=$e(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?dn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(t){return"keypress"===t.type?$e(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?$e(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}})),gn=qe(D({},en,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),mn=qe(D({},Ze,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=qe(D({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=qe(D({},en,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0})),yn=qe(D({},Qe,{newState:0,oldState:0})),wn=[9,13,27,32],xn=ne&&"CompositionEvent"in window,_n=null;ne&&"documentMode"in document&&(_n=document.documentMode);var Sn=ne&&"TextEvent"in window&&!_n,kn=ne&&(!xn||_n&&8<_n&&11>=_n),An=String.fromCharCode(32),Cn=!1;function En(t,e){switch(t){case"keyup":return-1!==wn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Pn=!1;var Mn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Mn[t.type]:"textarea"===e}function Rn(t,e,n,i){Re?Ie?Ie.push(i):Ie=[i]:Re=i,0<(e=Fd(e,"onChange")).length&&(n=new Je("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var In=null,Ln=null;function On(t){Td(t,0)}function Fn(t){if(he(Kt(t)))return t}function Bn(t,e){if("change"===t)return e}var Nn=!1;if(ne){var zn;if(ne){var Un="oninput"in document;if(!Un){var jn=document.createElement("div");jn.setAttribute("oninput","return;"),Un="function"===typeof jn.oninput}zn=Un}else zn=!1;Nn=zn&&(!document.documentMode||9<document.documentMode)}function Hn(){In&&(In.detachEvent("onpropertychange",Vn),Ln=In=null)}function Vn(t){if("value"===t.propertyName&&Fn(Ln)){var e=[];Rn(e,Ln,t,De(t)),Fe(On,e)}}function $n(t,e,n){"focusin"===t?(Hn(),Ln=n,(In=e).attachEvent("onpropertychange",Vn)):"focusout"===t&&Hn()}function Wn(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Fn(Ln)}function Gn(t,e){if("click"===t)return Fn(e)}function qn(t,e){if("input"===t||"change"===t)return Fn(e)}var Xn="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function Kn(t,e){if(Xn(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!it.call(e,s)||!Xn(t[s],e[s]))return!1}return!0}function Yn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qn(t,e){var n,i=Yn(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=Yn(i)}}function Jn(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?Jn(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function Zn(t){for(var e=pe((t=null!=t&&null!=t.ownerDocument&&null!=t.ownerDocument.defaultView?t.ownerDocument.defaultView:window).document);e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(i){n=!1}if(!n)break;e=pe((t=e.contentWindow).document)}return e}function ti(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function ei(t,e){var n=Zn(e);e=t.focusedElem;var i=t.selectionRange;if(n!==e&&e&&e.ownerDocument&&Jn(e.ownerDocument.documentElement,e)){if(null!==i&&ti(e))if(t=i.start,void 0===(n=i.end)&&(n=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(n,e.value.length);else if((n=(t=e.ownerDocument||document)&&t.defaultView||window).getSelection){n=n.getSelection();var s=e.textContent.length,r=Math.min(i.start,s);i=void 0===i.end?r:Math.min(i.end,s),!n.extend&&r>i&&(s=i,i=r,r=s),s=Qn(e,r);var a=Qn(e,i);s&&a&&(1!==n.rangeCount||n.anchorNode!==s.node||n.anchorOffset!==s.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&((t=t.createRange()).setStart(s.node,s.offset),n.removeAllRanges(),r>i?(n.addRange(t),n.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),n.addRange(t)))}for(t=[],n=e;n=n.parentNode;)1===n.nodeType&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"===typeof e.focus&&e.focus(),e=0;e<t.length;e++)(n=t[e]).element.scrollLeft=n.left,n.element.scrollTop=n.top}}var ni=ne&&"documentMode"in document&&11>=document.documentMode,ii=null,si=null,ri=null,ai=!1;function oi(t,e,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ai||null==ii||ii!==pe(i)||("selectionStart"in(i=ii)&&ti(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},ri&&Kn(ri,i)||(ri=i,0<(i=Fd(si,"onSelect")).length&&(e=new Je("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=ii)))}function li(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ci={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionrun:li("Transition","TransitionRun"),transitionstart:li("Transition","TransitionStart"),transitioncancel:li("Transition","TransitionCancel"),transitionend:li("Transition","TransitionEnd")},di={},ui={};function hi(t){if(di[t])return di[t];if(!ci[t])return t;var e,n=ci[t];for(e in n)if(n.hasOwnProperty(e)&&e in ui)return di[t]=n[e];return t}ne&&(ui=document.createElement("div").style,"AnimationEvent"in window||(delete ci.animationend.animation,delete ci.animationiteration.animation,delete ci.animationstart.animation),"TransitionEvent"in window||delete ci.transitionend.transition);var pi=hi("animationend"),fi=hi("animationiteration"),gi=hi("animationstart"),mi=hi("transitionrun"),vi=hi("transitionstart"),bi=hi("transitioncancel"),yi=hi("transitionend"),wi=new Map,xi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function _i(t,e){wi.set(t,e),te(e,[t])}var Si=[],ki=0,Ai=0;function Ci(){for(var t=ki,e=Ai=ki=0;e<t;){var n=Si[e];Si[e++]=null;var i=Si[e];Si[e++]=null;var s=Si[e];Si[e++]=null;var r=Si[e];if(Si[e++]=null,null!==i&&null!==s){var a=i.pending;null===a?s.next=s:(s.next=a.next,a.next=s),i.pending=s}0!==r&&Mi(n,s,r)}}function Ei(t,e,n,i){Si[ki++]=t,Si[ki++]=e,Si[ki++]=n,Si[ki++]=i,Ai|=i,t.lanes|=i,null!==(t=t.alternate)&&(t.lanes|=i)}function Ti(t,e,n,i){return Ei(t,e,n,i),Di(t)}function Pi(t,e){return Ei(t,null,null,e),Di(t)}function Mi(t,e,n){t.lanes|=n;var i=t.alternate;null!==i&&(i.lanes|=n);for(var s=!1,r=t.return;null!==r;)r.childLanes|=n,null!==(i=r.alternate)&&(i.childLanes|=n),22===r.tag&&(null===(t=r.stateNode)||1&t._visibility||(s=!0)),t=r,r=r.return;s&&null!==e&&3===t.tag&&(r=t.stateNode,s=31-wt(n),null===(t=(r=r.hiddenUpdates)[s])?r[s]=[e]:t.push(e),e.lane=536870912|n)}function Di(t){if(50<Tc)throw Tc=0,Pc=null,Error(a(185));for(var e=t.return;null!==e;)e=(t=e).return;return 3===t.tag?t.stateNode:null}var Ri={},Ii=new WeakMap;function Li(t,e){if("object"===typeof t&&null!==t){var n=Ii.get(t);return void 0!==n?n:(e={value:t,source:e,stack:F(e)},Ii.set(t,e),e)}return{value:t,source:e,stack:F(e)}}var Oi=[],Fi=0,Bi=null,Ni=0,zi=[],Ui=0,ji=null,Hi=1,Vi="";function $i(t,e){Oi[Fi++]=Ni,Oi[Fi++]=Bi,Bi=t,Ni=e}function Wi(t,e,n){zi[Ui++]=Hi,zi[Ui++]=Vi,zi[Ui++]=ji,ji=t;var i=Hi;t=Vi;var s=32-wt(i)-1;i&=~(1<<s),n+=1;var r=32-wt(e)+s;if(30<r){var a=s-s%5;r=(i&(1<<a)-1).toString(32),i>>=a,s-=a,Hi=1<<32-wt(e)+s|n<<s|i,Vi=r+t}else Hi=1<<r|n<<s|i,Vi=t}function Gi(t){null!==t.return&&($i(t,1),Wi(t,1,0))}function qi(t){for(;t===Bi;)Bi=Oi[--Fi],Oi[Fi]=null,Ni=Oi[--Fi],Oi[Fi]=null;for(;t===ji;)ji=zi[--Ui],zi[Ui]=null,Vi=zi[--Ui],zi[Ui]=null,Hi=zi[--Ui],zi[Ui]=null}var Xi=null,Ki=null,Yi=!1,Qi=null,Ji=!1,Zi=Error(a(519));function ts(t){throw rs(Li(Error(a(418,"")),t)),Zi}function es(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[Nt]=t,e[zt]=i,n){case"dialog":Pd("cancel",e),Pd("close",e);break;case"iframe":case"object":case"embed":Pd("load",e);break;case"video":case"audio":for(n=0;n<Cd.length;n++)Pd(Cd[n],e);break;case"source":Pd("error",e);break;case"img":case"image":case"link":Pd("error",e),Pd("load",e);break;case"details":Pd("toggle",e);break;case"input":Pd("invalid",e),ve(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),ue(e);break;case"select":Pd("invalid",e);break;case"textarea":Pd("invalid",e),xe(e,i.value,i.defaultValue,i.children),ue(e)}"string"!==typeof(n=i.children)&&"number"!==typeof n&&"bigint"!==typeof n||e.textContent===""+n||!0===i.suppressHydrationWarning||Hd(e.textContent,n)?(null!=i.popover&&(Pd("beforetoggle",e),Pd("toggle",e)),null!=i.onScroll&&Pd("scroll",e),null!=i.onScrollEnd&&Pd("scrollend",e),null!=i.onClick&&(e.onclick=Vd),e=!0):e=!1,e||ts(t)}function ns(t){for(Xi=t.return;Xi;)switch(Xi.tag){case 3:case 27:return void(Ji=!0);case 5:case 13:return void(Ji=!1);default:Xi=Xi.return}}function is(t){if(t!==Xi)return!1;if(!Yi)return ns(t),Yi=!0,!1;var e,n=!1;if((e=3!==t.tag&&27!==t.tag)&&((e=5===t.tag)&&(e=!("form"!==(e=t.type)&&"button"!==e)||Jd(t.type,t.memoizedProps)),e=!e),e&&(n=!0),n&&Ki&&ts(t),ns(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(8===t.nodeType)if("/$"===(e=t.data)){if(0===n){Ki=ou(t.nextSibling);break t}n--}else"$"!==e&&"$!"!==e&&"$?"!==e||n++;t=t.nextSibling}Ki=null}}else Ki=Xi?ou(t.stateNode.nextSibling):null;return!0}function ss(){Ki=Xi=null,Yi=!1}function rs(t){null===Qi?Qi=[t]:Qi.push(t)}var as=Error(a(460)),os=Error(a(474)),ls={then:function(){}};function cs(t){return"fulfilled"===(t=t.status)||"rejected"===t}function ds(){}function us(t,e,n){switch(void 0===(n=t[n])?t.push(e):n!==e&&(e.then(ds,ds),e=n),e.status){case"fulfilled":return e.value;case"rejected":if((t=e.reason)===as)throw Error(a(483));throw t;default:if("string"===typeof e.status)e.then(ds,ds);else{if(null!==(t=ec)&&100<t.shellSuspendCounter)throw Error(a(482));(t=e).status="pending",t.then((function(t){if("pending"===e.status){var n=e;n.status="fulfilled",n.value=t}}),(function(t){if("pending"===e.status){var n=e;n.status="rejected",n.reason=t}}))}switch(e.status){case"fulfilled":return e.value;case"rejected":if((t=e.reason)===as)throw Error(a(483));throw t}throw hs=e,as}}var hs=null;function ps(){if(null===hs)throw Error(a(459));var t=hs;return hs=null,t}var fs=null,gs=0;function ms(t){var e=gs;return gs+=1,null===fs&&(fs=[]),us(fs,t,e)}function vs(t,e){e=e.props.ref,t.ref=void 0!==e?e:null}function bs(t,e){if(e.$$typeof===l)throw Error(a(525));throw t=Object.prototype.toString.call(e),Error(a(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ys(t){return(0,t._init)(t._payload)}function ws(t){function e(e,n){if(t){var i=e.deletions;null===i?(e.deletions=[n],e.flags|=16):i.push(n)}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t){for(var e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(t,e){return(t=Bl(t,e)).index=0,t.sibling=null,t}function r(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.flags|=33554434,n):i:(e.flags|=33554434,n):(e.flags|=1048576,n)}function o(e){return t&&null===e.alternate&&(e.flags|=33554434),e}function l(t,e,n,i){return null===e||6!==e.tag?((e=Hl(n,t.mode,i)).return=t,e):((e=s(e,n)).return=t,e)}function h(t,e,n,i){var r=n.type;return r===u?f(t,e,n.props.children,i,n.key):null!==e&&(e.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===x&&ys(r)===e.type)?(vs(e=s(e,n.props),n),e.return=t,e):(vs(e=zl(n.type,n.key,n.props,null,t.mode,i),n),e.return=t,e)}function p(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Vl(n,t.mode,i)).return=t,e):((e=s(e,n.children||[])).return=t,e)}function f(t,e,n,i,r){return null===e||7!==e.tag?((e=Ul(n,t.mode,i,r)).return=t,e):((e=s(e,n)).return=t,e)}function g(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e||"bigint"===typeof e)return(e=Hl(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case c:return vs(n=zl(e.type,e.key,e.props,null,t.mode,n),e),n.return=t,n;case d:return(e=Vl(e,t.mode,n)).return=t,e;case x:return g(t,e=(0,e._init)(e._payload),n)}if(j(e)||A(e))return(e=Ul(e,t.mode,n,null)).return=t,e;if("function"===typeof e.then)return g(t,ms(e),n);if(e.$$typeof===m)return g(t,Co(t,e),n);bs(t,e)}return null}function v(t,e,n,i){var s=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==s?null:l(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case c:return n.key===s?h(t,e,n,i):null;case d:return n.key===s?p(t,e,n,i):null;case x:return v(t,e,n=(s=n._init)(n._payload),i)}if(j(n)||A(n))return null!==s?null:f(t,e,n,i,null);if("function"===typeof n.then)return v(t,e,ms(n),i);if(n.$$typeof===m)return v(t,e,Co(t,n),i);bs(t,n)}return null}function b(t,e,n,i,s){if("string"===typeof i&&""!==i||"number"===typeof i||"bigint"===typeof i)return l(e,t=t.get(n)||null,""+i,s);if("object"===typeof i&&null!==i){switch(i.$$typeof){case c:return h(e,t=t.get(null===i.key?n:i.key)||null,i,s);case d:return p(e,t=t.get(null===i.key?n:i.key)||null,i,s);case x:return b(t,e,n,i=(0,i._init)(i._payload),s)}if(j(i)||A(i))return f(e,t=t.get(n)||null,i,s,null);if("function"===typeof i.then)return b(t,e,n,ms(i),s);if(i.$$typeof===m)return b(t,e,n,Co(e,i),s);bs(e,i)}return null}function y(l,h,p,f){if("object"===typeof p&&null!==p&&p.type===u&&null===p.key&&(p=p.props.children),"object"===typeof p&&null!==p){switch(p.$$typeof){case c:t:{for(var w=p.key;null!==h;){if(h.key===w){if((w=p.type)===u){if(7===h.tag){n(l,h.sibling),(f=s(h,p.props.children)).return=l,l=f;break t}}else if(h.elementType===w||"object"===typeof w&&null!==w&&w.$$typeof===x&&ys(w)===h.type){n(l,h.sibling),vs(f=s(h,p.props),p),f.return=l,l=f;break t}n(l,h);break}e(l,h),h=h.sibling}p.type===u?((f=Ul(p.props.children,l.mode,f,p.key)).return=l,l=f):(vs(f=zl(p.type,p.key,p.props,null,l.mode,f),p),f.return=l,l=f)}return o(l);case d:t:{for(w=p.key;null!==h;){if(h.key===w){if(4===h.tag&&h.stateNode.containerInfo===p.containerInfo&&h.stateNode.implementation===p.implementation){n(l,h.sibling),(f=s(h,p.children||[])).return=l,l=f;break t}n(l,h);break}e(l,h),h=h.sibling}(f=Vl(p,l.mode,f)).return=l,l=f}return o(l);case x:return y(l,h,p=(w=p._init)(p._payload),f)}if(j(p))return function(s,a,o,l){for(var c=null,d=null,u=a,h=a=0,p=null;null!==u&&h<o.length;h++){u.index>h?(p=u,u=null):p=u.sibling;var f=v(s,u,o[h],l);if(null===f){null===u&&(u=p);break}t&&u&&null===f.alternate&&e(s,u),a=r(f,a,h),null===d?c=f:d.sibling=f,d=f,u=p}if(h===o.length)return n(s,u),Yi&&$i(s,h),c;if(null===u){for(;h<o.length;h++)null!==(u=g(s,o[h],l))&&(a=r(u,a,h),null===d?c=u:d.sibling=u,d=u);return Yi&&$i(s,h),c}for(u=i(u);h<o.length;h++)null!==(p=b(u,s,h,o[h],l))&&(t&&null!==p.alternate&&u.delete(null===p.key?h:p.key),a=r(p,a,h),null===d?c=p:d.sibling=p,d=p);return t&&u.forEach((function(t){return e(s,t)})),Yi&&$i(s,h),c}(l,h,p,f);if(A(p)){if("function"!==typeof(w=A(p)))throw Error(a(150));return function(s,o,l,c){if(null==l)throw Error(a(151));for(var d=null,u=null,h=o,p=o=0,f=null,m=l.next();null!==h&&!m.done;p++,m=l.next()){h.index>p?(f=h,h=null):f=h.sibling;var y=v(s,h,m.value,c);if(null===y){null===h&&(h=f);break}t&&h&&null===y.alternate&&e(s,h),o=r(y,o,p),null===u?d=y:u.sibling=y,u=y,h=f}if(m.done)return n(s,h),Yi&&$i(s,p),d;if(null===h){for(;!m.done;p++,m=l.next())null!==(m=g(s,m.value,c))&&(o=r(m,o,p),null===u?d=m:u.sibling=m,u=m);return Yi&&$i(s,p),d}for(h=i(h);!m.done;p++,m=l.next())null!==(m=b(h,s,p,m.value,c))&&(t&&null!==m.alternate&&h.delete(null===m.key?p:m.key),o=r(m,o,p),null===u?d=m:u.sibling=m,u=m);return t&&h.forEach((function(t){return e(s,t)})),Yi&&$i(s,p),d}(l,h,p=w.call(p),f)}if("function"===typeof p.then)return y(l,h,ms(p),f);if(p.$$typeof===m)return y(l,h,Co(l,p),f);bs(l,p)}return"string"===typeof p&&""!==p||"number"===typeof p||"bigint"===typeof p?(p=""+p,null!==h&&6===h.tag?(n(l,h.sibling),(f=s(h,p)).return=l,l=f):(n(l,h),(f=Hl(p,l.mode,f)).return=l,l=f),o(l)):n(l,h)}return function(t,e,n,i){try{gs=0;var s=y(t,e,n,i);return fs=null,s}catch(a){if(a===as)throw a;var r=Ol(29,a,null,t.mode);return r.lanes=i,r.return=t,r}}}var xs=ws(!0),_s=ws(!1),Ss=G(null),ks=G(0);function As(t,e){X(ks,t=cc),X(Ss,e),cc=t|e.baseLanes}function Cs(){X(ks,cc),X(Ss,Ss.current)}function Es(){cc=ks.current,q(Ss),q(ks)}var Ts=G(null),Ps=null;function Ms(t){var e=t.alternate;X(Ls,1&Ls.current),X(Ts,t),null===Ps&&(null===e||null!==Ss.current||null!==e.memoizedState)&&(Ps=t)}function Ds(t){if(22===t.tag){if(X(Ls,Ls.current),X(Ts,t),null===Ps){var e=t.alternate;null!==e&&null!==e.memoizedState&&(Ps=t)}}else Rs()}function Rs(){X(Ls,Ls.current),X(Ts,Ts.current)}function Is(t){q(Ts),Ps===t&&(Ps=null),q(Ls)}var Ls=G(0);function Os(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Fs="undefined"!==typeof AbortController?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(e,n){t.push(n)}};this.abort=function(){e.aborted=!0,t.forEach((function(t){return t()}))}},Bs=i.unstable_scheduleCallback,Ns=i.unstable_NormalPriority,zs={$$typeof:m,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Us(){return{controller:new Fs,data:new Map,refCount:0}}function js(t){t.refCount--,0===t.refCount&&Bs(Ns,(function(){t.controller.abort()}))}var Hs=null,Vs=0,$s=0,Ws=null;function Gs(){if(0===--Vs&&null!==Hs){null!==Ws&&(Ws.status="fulfilled");var t=Hs;Hs=null,$s=0,Ws=null;for(var e=0;e<t.length;e++)(0,t[e])()}}var qs=M.S;M.S=function(t,e){"object"===typeof e&&null!==e&&"function"===typeof e.then&&function(t,e){if(null===Hs){var n=Hs=[];Vs=0,$s=xd(),Ws={status:"pending",value:void 0,then:function(t){n.push(t)}}}Vs++,e.then(Gs,Gs)}(0,e),null!==qs&&qs(t,e)};var Xs=G(null);function Ks(){var t=Xs.current;return null!==t?t:ec.pooledCache}function Ys(t,e){X(Xs,null===e?Xs.current:e.pool)}function Qs(){var t=Ks();return null===t?null:{parent:zs._currentValue,pool:t}}var Js=0,Zs=null,tr=null,er=null,nr=!1,ir=!1,sr=!1,rr=0,ar=0,or=null,lr=0;function cr(){throw Error(a(321))}function dr(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Xn(t[n],e[n]))return!1;return!0}function ur(t,e,n,i,s,r){return Js=r,Zs=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,M.H=null===t||null===t.memoizedState?Aa:Ca,sr=!1,r=n(i,s),sr=!1,ir&&(r=pr(e,n,i,s)),hr(t),r}function hr(t){M.H=ka;var e=null!==tr&&null!==tr.next;if(Js=0,er=tr=Zs=null,nr=!1,ar=0,or=null,e)throw Error(a(300));null===t||Va||null!==(t=t.dependencies)&&So(t)&&(Va=!0)}function pr(t,e,n,i){Zs=t;var s=0;do{if(ir&&(or=null),ar=0,ir=!1,25<=s)throw Error(a(301));if(s+=1,er=tr=null,null!=t.updateQueue){var r=t.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,null!=r.memoCache&&(r.memoCache.index=0)}M.H=Ea,r=e(n,i)}while(ir);return r}function fr(){var t=M.H,e=t.useState()[0];return e="function"===typeof e.then?wr(e):e,t=t.useState()[0],(null!==tr?tr.memoizedState:null)!==t&&(Zs.flags|=1024),e}function gr(){var t=0!==rr;return rr=0,t}function mr(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function vr(t){if(nr){for(t=t.memoizedState;null!==t;){var e=t.queue;null!==e&&(e.pending=null),t=t.next}nr=!1}Js=0,er=tr=Zs=null,ir=!1,ar=rr=0,or=null}function br(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===er?Zs.memoizedState=er=t:er=er.next=t,er}function yr(){if(null===tr){var t=Zs.alternate;t=null!==t?t.memoizedState:null}else t=tr.next;var e=null===er?Zs.memoizedState:er.next;if(null!==e)er=e,tr=t;else{if(null===t){if(null===Zs.alternate)throw Error(a(467));throw Error(a(310))}t={memoizedState:(tr=t).memoizedState,baseState:tr.baseState,baseQueue:tr.baseQueue,queue:tr.queue,next:null},null===er?Zs.memoizedState=er=t:er=er.next=t}return er}function wr(t){var e=ar;return ar+=1,null===or&&(or=[]),t=us(or,t,e),e=Zs,null===(null===er?e.memoizedState:er.next)&&(e=e.alternate,M.H=null===e||null===e.memoizedState?Aa:Ca),t}function xr(t){if(null!==t&&"object"===typeof t){if("function"===typeof t.then)return wr(t);if(t.$$typeof===m)return Ao(t)}throw Error(a(438,String(t)))}function _r(t){var e=null,n=Zs.updateQueue;if(null!==n&&(e=n.memoCache),null==e){var i=Zs.alternate;null!==i&&(null!==(i=i.updateQueue)&&(null!=(i=i.memoCache)&&(e={data:i.data.map((function(t){return t.slice()})),index:0})))}if(null==e&&(e={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Zs.updateQueue=n),n.memoCache=e,void 0===(n=e.data[e.index]))for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=S;return e.index++,n}function Sr(t,e){return"function"===typeof e?e(t):e}function kr(t){return Ar(yr(),tr,t)}function Ar(t,e,n){var i=t.queue;if(null===i)throw Error(a(311));i.lastRenderedReducer=n;var s=t.baseQueue,r=i.pending;if(null!==r){if(null!==s){var o=s.next;s.next=r.next,r.next=o}e.baseQueue=s=r,i.pending=null}if(r=t.baseState,null===s)t.memoizedState=r;else{var l=o=null,c=null,d=e=s.next,u=!1;do{var h=-536870913&d.lane;if(h!==d.lane?(ic&h)===h:(Js&h)===h){var p=d.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),h===$s&&(u=!0);else{if((Js&p)===p){d=d.next,p===$s&&(u=!0);continue}h={lane:0,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=h,o=r):c=c.next=h,Zs.lanes|=p,uc|=p}h=d.action,sr&&n(r,h),r=d.hasEagerState?d.eagerState:n(r,h)}else p={lane:h,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=p,o=r):c=c.next=p,Zs.lanes|=h,uc|=h;d=d.next}while(null!==d&&d!==e);if(null===c?o=r:c.next=l,!Xn(r,t.memoizedState)&&(Va=!0,u&&null!==(n=Ws)))throw n;t.memoizedState=r,t.baseState=o,t.baseQueue=c,i.lastRenderedState=r}return null===s&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Cr(t){var e=yr(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,r=e.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{r=t(r,o.action),o=o.next}while(o!==s);Xn(r,e.memoizedState)||(Va=!0),e.memoizedState=r,null===e.baseQueue&&(e.baseState=r),n.lastRenderedState=r}return[r,i]}function Er(t,e,n){var i=Zs,s=yr(),r=Yi;if(r){if(void 0===n)throw Error(a(407));n=n()}else n=e();var o=!Xn((tr||s).memoizedState,n);if(o&&(s.memoizedState=n,Va=!0),s=s.queue,Jr(Mr.bind(null,i,s,t),[t]),s.getSnapshot!==e||o||null!==er&&1&er.memoizedState.tag){if(i.flags|=2048,qr(9,Pr.bind(null,i,s,n,e),{destroy:void 0},null),null===ec)throw Error(a(349));r||0!==(60&Js)||Tr(i,e,n)}return n}function Tr(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=Zs.updateQueue)?(e={lastEffect:null,events:null,stores:null,memoCache:null},Zs.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Pr(t,e,n,i){e.value=n,e.getSnapshot=i,Dr(e)&&Rr(t)}function Mr(t,e,n){return n((function(){Dr(e)&&Rr(t)}))}function Dr(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Xn(t,n)}catch(i){return!0}}function Rr(t){var e=Pi(t,2);null!==e&&Rc(e,t,2)}function Ir(t){var e=br();if("function"===typeof t){var n=t;if(t=n(),sr){yt(!0);try{n()}finally{yt(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:t},e}function Lr(t,e,n,i){return t.baseState=n,Ar(t,tr,"function"===typeof i?i:Sr)}function Or(t,e,n,i,s){if(xa(t))throw Error(a(485));if(null!==(t=e.action)){var r={payload:s,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(t){r.listeners.push(t)}};null!==M.T?n(!0):r.isTransition=!1,i(r),null===(n=e.pending)?(r.next=e.pending=r,Fr(e,r)):(r.next=n.next,e.pending=n.next=r)}}function Fr(t,e){var n=e.action,i=e.payload,s=t.state;if(e.isTransition){var r=M.T,a={};M.T=a;try{var o=n(s,i),l=M.S;null!==l&&l(a,o),Br(t,e,o)}catch(c){zr(t,e,c)}finally{M.T=r}}else try{Br(t,e,r=n(s,i))}catch(d){zr(t,e,d)}}function Br(t,e,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){Nr(t,e,n)}),(function(n){return zr(t,e,n)})):Nr(t,e,n)}function Nr(t,e,n){e.status="fulfilled",e.value=n,Ur(e),t.state=n,null!==(e=t.pending)&&((n=e.next)===e?t.pending=null:(n=n.next,e.next=n,Fr(t,n)))}function zr(t,e,n){var i=t.pending;if(t.pending=null,null!==i){i=i.next;do{e.status="rejected",e.reason=n,Ur(e),e=e.next}while(e!==i)}t.action=null}function Ur(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function jr(t,e){return e}function Hr(t,e){if(Yi){var n=ec.formState;if(null!==n){t:{var i=Zs;if(Yi){if(Ki){e:{for(var s=Ki,r=Ji;8!==s.nodeType;){if(!r){s=null;break e}if(null===(s=ou(s.nextSibling))){s=null;break e}}s="F!"===(r=s.data)||"F"===r?s:null}if(s){Ki=ou(s.nextSibling),i="F!"===s.data;break t}}ts(i)}i=!1}i&&(e=n[0])}}return(n=br()).memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:e},n.queue=i,n=ba.bind(null,Zs,i),i.dispatch=n,i=Ir(!1),r=wa.bind(null,Zs,!1,i.queue),s={state:e,dispatch:null,action:t,pending:null},(i=br()).queue=s,n=Or.bind(null,Zs,s,r,n),s.dispatch=n,i.memoizedState=t,[e,n,!1]}function Vr(t){return $r(yr(),tr,t)}function $r(t,e,n){e=Ar(t,e,jr)[0],t=kr(Sr)[0],e="object"===typeof e&&null!==e&&"function"===typeof e.then?wr(e):e;var i=yr(),s=i.queue,r=s.dispatch;return n!==i.memoizedState&&(Zs.flags|=2048,qr(9,Wr.bind(null,s,n),{destroy:void 0},null)),[e,r,t]}function Wr(t,e){t.action=e}function Gr(t){var e=yr(),n=tr;if(null!==n)return $r(e,n,t);yr(),e=e.memoizedState;var i=(n=yr()).queue.dispatch;return n.memoizedState=t,[e,i,!1]}function qr(t,e,n,i){return t={tag:t,create:e,inst:n,deps:i,next:null},null===(e=Zs.updateQueue)&&(e={lastEffect:null,events:null,stores:null,memoCache:null},Zs.updateQueue=e),null===(n=e.lastEffect)?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function Xr(){return yr().memoizedState}function Kr(t,e,n,i){var s=br();Zs.flags|=t,s.memoizedState=qr(1|e,n,{destroy:void 0},void 0===i?null:i)}function Yr(t,e,n,i){var s=yr();i=void 0===i?null:i;var r=s.memoizedState.inst;null!==tr&&null!==i&&dr(i,tr.memoizedState.deps)?s.memoizedState=qr(e,n,r,i):(Zs.flags|=t,s.memoizedState=qr(1|e,n,r,i))}function Qr(t,e){Kr(8390656,8,t,e)}function Jr(t,e){Yr(2048,8,t,e)}function Zr(t,e){return Yr(4,2,t,e)}function ta(t,e){return Yr(4,4,t,e)}function ea(t,e){if("function"===typeof e){t=t();var n=e(t);return function(){"function"===typeof n?n():e(null)}}if(null!==e&&void 0!==e)return t=t(),e.current=t,function(){e.current=null}}function na(t,e,n){n=null!==n&&void 0!==n?n.concat([t]):null,Yr(4,4,ea.bind(null,e,t),n)}function ia(){}function sa(t,e){var n=yr();e=void 0===e?null:e;var i=n.memoizedState;return null!==e&&dr(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function ra(t,e){var n=yr();e=void 0===e?null:e;var i=n.memoizedState;if(null!==e&&dr(e,i[1]))return i[0];if(i=t(),sr){yt(!0);try{t()}finally{yt(!1)}}return n.memoizedState=[i,e],i}function aa(t,e,n){return void 0===n||0!==(1073741824&Js)?t.memoizedState=e:(t.memoizedState=n,t=Dc(),Zs.lanes|=t,uc|=t,n)}function oa(t,e,n,i){return Xn(n,e)?n:null!==Ss.current?(t=aa(t,n,i),Xn(t,e)||(Va=!0),t):0===(42&Js)?(Va=!0,t.memoizedState=n):(t=Dc(),Zs.lanes|=t,uc|=t,e)}function la(t,e,n,i,s){var r=H.p;H.p=0!==r&&8>r?r:8;var a=M.T,o={};M.T=o,wa(t,!1,e,n);try{var l=s(),c=M.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)ya(t,e,function(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(t){n.push(t)}};return t.then((function(){i.status="fulfilled",i.value=e;for(var t=0;t<n.length;t++)(0,n[t])(e)}),(function(t){for(i.status="rejected",i.reason=t,t=0;t<n.length;t++)(0,n[t])(void 0)})),i}(l,i),Mc());else ya(t,e,i,Mc())}catch(d){ya(t,e,{then:function(){},status:"rejected",reason:d},Mc())}finally{H.p=r,M.T=a}}function ca(){}function da(t,e,n,i){if(5!==t.tag)throw Error(a(476));var s=ua(t).queue;la(t,s,e,V,null===n?ca:function(){return ha(t),n(i)})}function ua(t){var e=t.memoizedState;if(null!==e)return e;var n={};return(e={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:V},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:n},next:null},t.memoizedState=e,null!==(t=t.alternate)&&(t.memoizedState=e),e}function ha(t){ya(t,ua(t).next.queue,{},Mc())}function pa(){return Ao(Fu)}function fa(){return yr().memoizedState}function ga(){return yr().memoizedState}function ma(t){for(var e=t.return;null!==e;){switch(e.tag){case 24:case 3:var n=Mc(),i=Ro(e,t=Do(n),n);return null!==i&&(Rc(i,e,n),Io(i,e,n)),e={cache:Us()},void(t.payload=e)}e=e.return}}function va(t,e,n){var i=Mc();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},xa(t)?_a(e,n):null!==(n=Ti(t,e,n,i))&&(Rc(n,t,i),Sa(n,e,i))}function ba(t,e,n){ya(t,e,n,Mc())}function ya(t,e,n,i){var s={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(xa(t))_a(e,s);else{var r=t.alternate;if(0===t.lanes&&(null===r||0===r.lanes)&&null!==(r=e.lastRenderedReducer))try{var a=e.lastRenderedState,o=r(a,n);if(s.hasEagerState=!0,s.eagerState=o,Xn(o,a))return Ei(t,e,s,0),null===ec&&Ci(),!1}catch(l){}if(null!==(n=Ti(t,e,s,i)))return Rc(n,t,i),Sa(n,e,i),!0}return!1}function wa(t,e,n,i){if(i={lane:2,revertLane:xd(),action:i,hasEagerState:!1,eagerState:null,next:null},xa(t)){if(e)throw Error(a(479))}else null!==(e=Ti(t,n,i,2))&&Rc(e,t,2)}function xa(t){var e=t.alternate;return t===Zs||null!==e&&e===Zs}function _a(t,e){ir=nr=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Sa(t,e,n){if(0!==(4194176&n)){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,Lt(t,n)}}var ka={readContext:Ao,use:xr,useCallback:cr,useContext:cr,useEffect:cr,useImperativeHandle:cr,useLayoutEffect:cr,useInsertionEffect:cr,useMemo:cr,useReducer:cr,useRef:cr,useState:cr,useDebugValue:cr,useDeferredValue:cr,useTransition:cr,useSyncExternalStore:cr,useId:cr};ka.useCacheRefresh=cr,ka.useMemoCache=cr,ka.useHostTransitionStatus=cr,ka.useFormState=cr,ka.useActionState=cr,ka.useOptimistic=cr;var Aa={readContext:Ao,use:xr,useCallback:function(t,e){return br().memoizedState=[t,void 0===e?null:e],t},useContext:Ao,useEffect:Qr,useImperativeHandle:function(t,e,n){n=null!==n&&void 0!==n?n.concat([t]):null,Kr(4194308,4,ea.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Kr(4194308,4,t,e)},useInsertionEffect:function(t,e){Kr(4,2,t,e)},useMemo:function(t,e){var n=br();e=void 0===e?null:e;var i=t();if(sr){yt(!0);try{t()}finally{yt(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=br();if(void 0!==n){var s=n(e);if(sr){yt(!0);try{n(e)}finally{yt(!1)}}}else s=e;return i.memoizedState=i.baseState=s,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},i.queue=t,t=t.dispatch=va.bind(null,Zs,t),[i.memoizedState,t]},useRef:function(t){return t={current:t},br().memoizedState=t},useState:function(t){var e=(t=Ir(t)).queue,n=ba.bind(null,Zs,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:ia,useDeferredValue:function(t,e){return aa(br(),t,e)},useTransition:function(){var t=Ir(!1);return t=la.bind(null,Zs,t.queue,!0,!1),br().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=Zs,s=br();if(Yi){if(void 0===n)throw Error(a(407));n=n()}else{if(n=e(),null===ec)throw Error(a(349));0!==(60&ic)||Tr(i,e,n)}s.memoizedState=n;var r={value:n,getSnapshot:e};return s.queue=r,Qr(Mr.bind(null,i,r,t),[t]),i.flags|=2048,qr(9,Pr.bind(null,i,r,n,e),{destroy:void 0},null),n},useId:function(){var t=br(),e=ec.identifierPrefix;if(Yi){var n=Vi;e=":"+e+"R"+(n=(Hi&~(1<<32-wt(Hi)-1)).toString(32)+n),0<(n=rr++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=lr++).toString(32)+":";return t.memoizedState=e},useCacheRefresh:function(){return br().memoizedState=ma.bind(null,Zs)}};Aa.useMemoCache=_r,Aa.useHostTransitionStatus=pa,Aa.useFormState=Hr,Aa.useActionState=Hr,Aa.useOptimistic=function(t){var e=br();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=wa.bind(null,Zs,!0,n),n.dispatch=e,[t,e]};var Ca={readContext:Ao,use:xr,useCallback:sa,useContext:Ao,useEffect:Jr,useImperativeHandle:na,useInsertionEffect:Zr,useLayoutEffect:ta,useMemo:ra,useReducer:kr,useRef:Xr,useState:function(){return kr(Sr)},useDebugValue:ia,useDeferredValue:function(t,e){return oa(yr(),tr.memoizedState,t,e)},useTransition:function(){var t=kr(Sr)[0],e=yr().memoizedState;return["boolean"===typeof t?t:wr(t),e]},useSyncExternalStore:Er,useId:fa};Ca.useCacheRefresh=ga,Ca.useMemoCache=_r,Ca.useHostTransitionStatus=pa,Ca.useFormState=Vr,Ca.useActionState=Vr,Ca.useOptimistic=function(t,e){return Lr(yr(),0,t,e)};var Ea={readContext:Ao,use:xr,useCallback:sa,useContext:Ao,useEffect:Jr,useImperativeHandle:na,useInsertionEffect:Zr,useLayoutEffect:ta,useMemo:ra,useReducer:Cr,useRef:Xr,useState:function(){return Cr(Sr)},useDebugValue:ia,useDeferredValue:function(t,e){var n=yr();return null===tr?aa(n,t,e):oa(n,tr.memoizedState,t,e)},useTransition:function(){var t=Cr(Sr)[0],e=yr().memoizedState;return["boolean"===typeof t?t:wr(t),e]},useSyncExternalStore:Er,useId:fa};function Ta(t,e,n,i){n=null===(n=n(i,e=t.memoizedState))||void 0===n?e:D({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}Ea.useCacheRefresh=ga,Ea.useMemoCache=_r,Ea.useHostTransitionStatus=pa,Ea.useFormState=Gr,Ea.useActionState=Gr,Ea.useOptimistic=function(t,e){var n=yr();return null!==tr?Lr(n,0,t,e):(n.baseState=t,[t,n.queue.dispatch])};var Pa={isMounted:function(t){return!!(t=t._reactInternals)&&B(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Mc(),s=Do(i);s.payload=e,void 0!==n&&null!==n&&(s.callback=n),null!==(e=Ro(t,s,i))&&(Rc(e,t,i),Io(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Mc(),s=Do(i);s.tag=1,s.payload=e,void 0!==n&&null!==n&&(s.callback=n),null!==(e=Ro(t,s,i))&&(Rc(e,t,i),Io(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mc(),i=Do(n);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),null!==(e=Ro(t,i,n))&&(Rc(e,t,n),Io(e,t,n))}};function Ma(t,e,n,i,s,r,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,r,a):!e.prototype||!e.prototype.isPureReactComponent||(!Kn(n,i)||!Kn(s,r))}function Da(t,e,n,i){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Pa.enqueueReplaceState(e,e.state,null)}function Ra(t,e){var n=e;if("ref"in e)for(var i in n={},e)"ref"!==i&&(n[i]=e[i]);if(t=t.defaultProps)for(var s in n===e&&(n=D({},n)),t)void 0===n[s]&&(n[s]=t[s]);return n}var Ia="function"===typeof reportError?reportError:function(t){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof t&&null!==t&&"string"===typeof t.message?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",t);console.error(t)};function La(t){Ia(t)}function Oa(t){console.error(t)}function Fa(t){Ia(t)}function Ba(t,e){try{(0,t.onUncaughtError)(e.value,{componentStack:e.stack})}catch(n){setTimeout((function(){throw n}))}}function Na(t,e,n){try{(0,t.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===e.tag?e.stateNode:null})}catch(i){setTimeout((function(){throw i}))}}function za(t,e,n){return(n=Do(n)).tag=3,n.payload={element:null},n.callback=function(){Ba(t,e)},n}function Ua(t){return(t=Do(t)).tag=3,t}function ja(t,e,n,i){var s=n.type.getDerivedStateFromError;if("function"===typeof s){var r=i.value;t.payload=function(){return s(r)},t.callback=function(){Na(e,n,i)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(t.callback=function(){Na(e,n,i),"function"!==typeof s&&(null===_c?_c=new Set([this]):_c.add(this));var t=i.stack;this.componentDidCatch(i.value,{componentStack:null!==t?t:""})})}var Ha=Error(a(461)),Va=!1;function $a(t,e,n,i){e.child=null===t?_s(e,null,n,i):xs(e,t.child,n,i)}function Wa(t,e,n,i,s){n=n.render;var r=e.ref;if("ref"in i){var a={};for(var o in i)"ref"!==o&&(a[o]=i[o])}else a=i;return ko(e),i=ur(t,e,n,a,r,s),o=gr(),null===t||Va?(Yi&&o&&Gi(e),e.flags|=1,$a(t,e,i,s),e.child):(mr(t,e,s),ho(t,e,s))}function Ga(t,e,n,i,s){if(null===t){var r=n.type;return"function"!==typeof r||Fl(r)||void 0!==r.defaultProps||null!==n.compare?((t=zl(n.type,null,i,e,e.mode,s)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=r,qa(t,e,r,i,s))}if(r=t.child,!po(t,s)){var a=r.memoizedProps;if((n=null!==(n=n.compare)?n:Kn)(a,i)&&t.ref===e.ref)return ho(t,e,s)}return e.flags|=1,(t=Bl(r,i)).ref=e.ref,t.return=e,e.child=t}function qa(t,e,n,i,s){if(null!==t){var r=t.memoizedProps;if(Kn(r,i)&&t.ref===e.ref){if(Va=!1,e.pendingProps=i=r,!po(t,s))return e.lanes=t.lanes,ho(t,e,s);0!==(131072&t.flags)&&(Va=!0)}}return Qa(t,e,n,i,s)}function Xa(t,e,n){var i=e.pendingProps,s=i.children,r=0!==(2&e.stateNode._pendingVisibility),a=null!==t?t.memoizedState:null;if(Ya(t,e),"hidden"===i.mode||r){if(0!==(128&e.flags)){if(i=null!==a?a.baseLanes|n:n,null!==t){for(s=e.child=t.child,r=0;null!==s;)r=r|s.lanes|s.childLanes,s=s.sibling;e.childLanes=r&~i}else e.childLanes=0,e.child=null;return Ka(t,e,i,n)}if(0===(536870912&n))return e.lanes=e.childLanes=536870912,Ka(t,e,null!==a?a.baseLanes|n:n,n);e.memoizedState={baseLanes:0,cachePool:null},null!==t&&Ys(0,null!==a?a.cachePool:null),null!==a?As(e,a):Cs(),Ds(e)}else null!==a?(Ys(0,a.cachePool),As(e,a),Rs(),e.memoizedState=null):(null!==t&&Ys(0,null),Cs(),Rs());return $a(t,e,s,n),e.child}function Ka(t,e,n,i){var s=Ks();return s=null===s?null:{parent:zs._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},null!==t&&Ys(0,null),Cs(),Ds(e),null!==t&&_o(t,e,i,!0),null}function Ya(t,e){var n=e.ref;if(null===n)null!==t&&null!==t.ref&&(e.flags|=2097664);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==t&&t.ref===n||(e.flags|=2097664)}}function Qa(t,e,n,i,s){return ko(e),n=ur(t,e,n,i,void 0,s),i=gr(),null===t||Va?(Yi&&i&&Gi(e),e.flags|=1,$a(t,e,n,s),e.child):(mr(t,e,s),ho(t,e,s))}function Ja(t,e,n,i,s,r){return ko(e),e.updateQueue=null,n=pr(e,i,n,s),hr(t),i=gr(),null===t||Va?(Yi&&i&&Gi(e),e.flags|=1,$a(t,e,n,r),e.child):(mr(t,e,r),ho(t,e,r))}function Za(t,e,n,i,s){if(ko(e),null===e.stateNode){var r=Ri,a=n.contextType;"object"===typeof a&&null!==a&&(r=Ao(a)),r=new n(i,r),e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,r.updater=Pa,e.stateNode=r,r._reactInternals=e,(r=e.stateNode).props=i,r.state=e.memoizedState,r.refs={},Po(e),a=n.contextType,r.context="object"===typeof a&&null!==a?Ao(a):Ri,r.state=e.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(Ta(e,n,a,i),r.state=e.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(a=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),a!==r.state&&Pa.enqueueReplaceState(r,r.state,null),Bo(e,i,r,s),Fo(),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308),i=!0}else if(null===t){r=e.stateNode;var o=e.memoizedProps,l=Ra(n,o);r.props=l;var c=r.context,d=n.contextType;a=Ri,"object"===typeof d&&null!==d&&(a=Ao(d));var u=n.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof r.getSnapshotBeforeUpdate,o=e.pendingProps!==o,d||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(o||c!==a)&&Da(e,r,i,a),To=!1;var h=e.memoizedState;r.state=h,Bo(e,i,r,s),Fo(),c=e.memoizedState,o||h!==c||To?("function"===typeof u&&(Ta(e,n,u,i),c=e.memoizedState),(l=To||Ma(e,n,l,i,h,c,a))?(d||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||("function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"===typeof r.componentDidMount&&(e.flags|=4194308)):("function"===typeof r.componentDidMount&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),r.props=i,r.state=c,r.context=a,i=l):("function"===typeof r.componentDidMount&&(e.flags|=4194308),i=!1)}else{r=e.stateNode,Mo(t,e),d=Ra(n,a=e.memoizedProps),r.props=d,u=e.pendingProps,h=r.context,c=n.contextType,l=Ri,"object"===typeof c&&null!==c&&(l=Ao(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(a!==u||h!==l)&&Da(e,r,i,l),To=!1,h=e.memoizedState,r.state=h,Bo(e,i,r,s),Fo();var p=e.memoizedState;a!==u||h!==p||To||null!==t&&null!==t.dependencies&&So(t.dependencies)?("function"===typeof o&&(Ta(e,n,o,i),p=e.memoizedState),(d=To||Ma(e,n,d,i,h,p,l)||null!==t&&null!==t.dependencies&&So(t.dependencies))?(c||"function"!==typeof r.UNSAFE_componentWillUpdate&&"function"!==typeof r.componentWillUpdate||("function"===typeof r.componentWillUpdate&&r.componentWillUpdate(i,p,l),"function"===typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(i,p,l)),"function"===typeof r.componentDidUpdate&&(e.flags|=4),"function"===typeof r.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof r.componentDidUpdate||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),r.props=i,r.state=p,r.context=l,i=d):("function"!==typeof r.componentDidUpdate||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),i=!1)}return r=i,Ya(t,e),i=0!==(128&e.flags),r||i?(r=e.stateNode,n=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render(),e.flags|=1,null!==t&&i?(e.child=xs(e,t.child,null,s),e.child=xs(e,null,n,s)):$a(t,e,n,s),e.memoizedState=r.state,t=e.child):t=ho(t,e,s),t}function to(t,e,n,i){return ss(),e.flags|=256,$a(t,e,n,i),e.child}var eo={dehydrated:null,treeContext:null,retryLane:0};function no(t){return{baseLanes:t,cachePool:Qs()}}function io(t,e,n){return t=null!==t?t.childLanes&~n:0,e&&(t|=fc),t}function so(t,e,n){var i,s=e.pendingProps,r=!1,o=0!==(128&e.flags);if((i=o)||(i=(null===t||null!==t.memoizedState)&&0!==(2&Ls.current)),i&&(r=!0,e.flags&=-129),i=0!==(32&e.flags),e.flags&=-33,null===t){if(Yi){if(r?Ms(e):Rs(),Yi){var l,c=Ki;if(l=c){t:{for(l=c,c=Ji;8!==l.nodeType;){if(!c){c=null;break t}if(null===(l=ou(l.nextSibling))){c=null;break t}}c=l}null!==c?(e.memoizedState={dehydrated:c,treeContext:null!==ji?{id:Hi,overflow:Vi}:null,retryLane:536870912},(l=Ol(18,null,null,0)).stateNode=c,l.return=e,e.child=l,Xi=e,Ki=null,l=!0):l=!1}l||ts(e)}if(null!==(c=e.memoizedState)&&null!==(c=c.dehydrated))return"$!"===c.data?e.lanes=16:e.lanes=536870912,null;Is(e)}return c=s.children,s=s.fallback,r?(Rs(),c=ao({mode:"hidden",children:c},r=e.mode),s=Ul(s,r,n,null),c.return=e,s.return=e,c.sibling=s,e.child=c,(r=e.child).memoizedState=no(n),r.childLanes=io(t,i,n),e.memoizedState=eo,s):(Ms(e),ro(e,c))}if(null!==(l=t.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&e.flags?(Ms(e),e.flags&=-257,e=oo(t,e,n)):null!==e.memoizedState?(Rs(),e.child=t.child,e.flags|=128,e=null):(Rs(),r=s.fallback,c=e.mode,s=ao({mode:"visible",children:s.children},c),(r=Ul(r,c,n,null)).flags|=2,s.return=e,r.return=e,s.sibling=r,e.child=s,xs(e,t.child,null,n),(s=e.child).memoizedState=no(n),s.childLanes=io(t,i,n),e.memoizedState=eo,e=r);else if(Ms(e),"$!"===c.data){if(i=c.nextSibling&&c.nextSibling.dataset)var d=i.dgst;i=d,(s=Error(a(419))).stack="",s.digest=i,rs({value:s,source:null,stack:null}),e=oo(t,e,n)}else if(Va||_o(t,e,n,!1),i=0!==(n&t.childLanes),Va||i){if(null!==(i=ec)){if(0!==(42&(s=n&-n)))s=1;else switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=64;break;case 268435456:s=134217728;break;default:s=0}if(0!==(s=0!==(s&(i.suspendedLanes|n))?0:s)&&s!==l.retryLane)throw l.retryLane=s,Pi(t,s),Rc(i,t,s),Ha}"$?"===c.data||$c(),e=oo(t,e,n)}else"$?"===c.data?(e.flags|=128,e.child=t.child,e=od.bind(null,t),c._reactRetry=e,e=null):(t=l.treeContext,Ki=ou(c.nextSibling),Xi=e,Yi=!0,Qi=null,Ji=!1,null!==t&&(zi[Ui++]=Hi,zi[Ui++]=Vi,zi[Ui++]=ji,Hi=t.id,Vi=t.overflow,ji=e),(e=ro(e,s.children)).flags|=4096);return e}return r?(Rs(),r=s.fallback,c=e.mode,d=(l=t.child).sibling,(s=Bl(l,{mode:"hidden",children:s.children})).subtreeFlags=31457280&l.subtreeFlags,null!==d?r=Bl(d,r):(r=Ul(r,c,n,null)).flags|=2,r.return=e,s.return=e,s.sibling=r,e.child=s,s=r,r=e.child,null===(c=t.child.memoizedState)?c=no(n):(null!==(l=c.cachePool)?(d=zs._currentValue,l=l.parent!==d?{parent:d,pool:d}:l):l=Qs(),c={baseLanes:c.baseLanes|n,cachePool:l}),r.memoizedState=c,r.childLanes=io(t,i,n),e.memoizedState=eo,s):(Ms(e),t=(n=t.child).sibling,(n=Bl(n,{mode:"visible",children:s.children})).return=e,n.sibling=null,null!==t&&(null===(i=e.deletions)?(e.deletions=[t],e.flags|=16):i.push(t)),e.child=n,e.memoizedState=null,n)}function ro(t,e){return(e=ao({mode:"visible",children:e},t.mode)).return=t,t.child=e}function ao(t,e){return jl(t,e,0,null)}function oo(t,e,n){return xs(e,t.child,null,n),(t=ro(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function lo(t,e,n){t.lanes|=e;var i=t.alternate;null!==i&&(i.lanes|=e),wo(t.return,e,n)}function co(t,e,n,i,s){var r=t.memoizedState;null===r?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function uo(t,e,n){var i=e.pendingProps,s=i.revealOrder,r=i.tail;if($a(t,e,i.children,n),0!==(2&(i=Ls.current)))i=1&i|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&lo(t,n,e);else if(19===t.tag)lo(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}switch(X(Ls,i),s){case"forwards":for(n=e.child,s=null;null!==n;)null!==(t=n.alternate)&&null===Os(t)&&(s=n),n=n.sibling;null===(n=s)?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),co(e,!1,s,n,r);break;case"backwards":for(n=null,s=e.child,e.child=null;null!==s;){if(null!==(t=s.alternate)&&null===Os(t)){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}co(e,!0,n,null,r);break;case"together":co(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ho(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),uc|=e.lanes,0===(n&e.childLanes)){if(null===t)return null;if(_o(t,e,n,!1),0===(n&e.childLanes))return null}if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(n=Bl(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Bl(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function po(t,e){return 0!==(t.lanes&e)||!(null===(t=t.dependencies)||!So(t))}function fo(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps)Va=!0;else{if(!po(t,n)&&0===(128&e.flags))return Va=!1,function(t,e,n){switch(e.tag){case 3:Z(e,e.stateNode.containerInfo),bo(e,zs,t.memoizedState.cache),ss();break;case 27:case 5:et(e);break;case 4:Z(e,e.stateNode.containerInfo);break;case 10:bo(e,e.type,e.memoizedProps.value);break;case 13:var i=e.memoizedState;if(null!==i)return null!==i.dehydrated?(Ms(e),e.flags|=128,null):0!==(n&e.child.childLanes)?so(t,e,n):(Ms(e),null!==(t=ho(t,e,n))?t.sibling:null);Ms(e);break;case 19:var s=0!==(128&t.flags);if((i=0!==(n&e.childLanes))||(_o(t,e,n,!1),i=0!==(n&e.childLanes)),s){if(i)return uo(t,e,n);e.flags|=128}if(null!==(s=e.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),X(Ls,Ls.current),i)break;return null;case 22:case 23:return e.lanes=0,Xa(t,e,n);case 24:bo(e,zs,t.memoizedState.cache)}return ho(t,e,n)}(t,e,n);Va=0!==(131072&t.flags)}else Va=!1,Yi&&0!==(1048576&e.flags)&&Wi(e,Ni,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var i=e.elementType,s=i._init;if(i=s(i._payload),e.type=i,"function"!==typeof i){if(void 0!==i&&null!==i){if((s=i.$$typeof)===v){e.tag=11,e=Wa(null,e,i,t,n);break t}if(s===w){e.tag=14,e=Ga(null,e,i,t,n);break t}}throw e=E(i)||i,Error(a(306,e,""))}Fl(i)?(t=Ra(i,t),e.tag=1,e=Za(null,e,i,t,n)):(e.tag=0,e=Qa(null,e,i,t,n))}return e;case 0:return Qa(t,e,e.type,e.pendingProps,n);case 1:return Za(t,e,i=e.type,s=Ra(i,e.pendingProps),n);case 3:t:{if(Z(e,e.stateNode.containerInfo),null===t)throw Error(a(387));var r=e.pendingProps;i=(s=e.memoizedState).element,Mo(t,e),Bo(e,r,null,n);var o=e.memoizedState;if(r=o.cache,bo(e,zs,r),r!==s.cache&&xo(e,[zs],n,!0),Fo(),r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache},e.updateQueue.baseState=s,e.memoizedState=s,256&e.flags){e=to(t,e,r,n);break t}if(r!==i){rs(i=Li(Error(a(424)),e)),e=to(t,e,r,n);break t}for(Ki=ou(e.stateNode.containerInfo.firstChild),Xi=e,Yi=!0,Qi=null,Ji=!0,n=_s(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ss(),r===i){e=ho(t,e,n);break t}$a(t,e,r,n)}e=e.child}return e;case 26:return Ya(t,e),null===t?(n=mu(e.type,null,e.pendingProps,null))?e.memoizedState=n:Yi||(n=e.type,t=e.pendingProps,(i=Kd(Q.current).createElement(n))[Nt]=e,i[zt]=t,Gd(i,n,t),Qt(i),e.stateNode=i):e.memoizedState=mu(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return et(e),null===t&&Yi&&(i=e.stateNode=cu(e.type,e.pendingProps,Q.current),Xi=e,Ji=!0,Ki=ou(i.firstChild)),i=e.pendingProps.children,null!==t||Yi?$a(t,e,i,n):e.child=xs(e,null,i,n),Ya(t,e),e.child;case 5:return null===t&&Yi&&((s=i=Ki)&&(null!==(i=function(t,e,n,i){for(;1===t.nodeType;){var s=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&("INPUT"!==t.nodeName||"hidden"!==t.type))break}else if(i){if(!t[Wt])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if("stylesheet"===(r=t.getAttribute("rel"))&&t.hasAttribute("data-precedence"))break;if(r!==s.rel||t.getAttribute("href")!==(null==s.href?null:s.href)||t.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin)||t.getAttribute("title")!==(null==s.title?null:s.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(((r=t.getAttribute("src"))!==(null==s.src?null:s.src)||t.getAttribute("type")!==(null==s.type?null:s.type)||t.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin))&&r&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else{if("input"!==e||"hidden"!==t.type)return t;var r=null==s.name?null:""+s.name;if("hidden"===s.type&&t.getAttribute("name")===r)return t}if(null===(t=ou(t.nextSibling)))break}return null}(i,e.type,e.pendingProps,Ji))?(e.stateNode=i,Xi=e,Ki=ou(i.firstChild),Ji=!1,s=!0):s=!1),s||ts(e)),et(e),s=e.type,r=e.pendingProps,o=null!==t?t.memoizedProps:null,i=r.children,Jd(s,r)?i=null:null!==o&&Jd(s,o)&&(e.flags|=32),null!==e.memoizedState&&(s=ur(t,e,fr,null,null,n),Fu._currentValue=s),Ya(t,e),$a(t,e,i,n),e.child;case 6:return null===t&&Yi&&((t=n=Ki)&&(null!==(n=function(t,e,n){if(""===e)return null;for(;3!==t.nodeType;){if((1!==t.nodeType||"INPUT"!==t.nodeName||"hidden"!==t.type)&&!n)return null;if(null===(t=ou(t.nextSibling)))return null}return t}(n,e.pendingProps,Ji))?(e.stateNode=n,Xi=e,Ki=null,t=!0):t=!1),t||ts(e)),null;case 13:return so(t,e,n);case 4:return Z(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=xs(e,null,i,n):$a(t,e,i,n),e.child;case 11:return Wa(t,e,e.type,e.pendingProps,n);case 7:return $a(t,e,e.pendingProps,n),e.child;case 8:case 12:return $a(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,bo(e,e.type,i.value),$a(t,e,i.children,n),e.child;case 9:return s=e.type._context,i=e.pendingProps.children,ko(e),i=i(s=Ao(s)),e.flags|=1,$a(t,e,i,n),e.child;case 14:return Ga(t,e,e.type,e.pendingProps,n);case 15:return qa(t,e,e.type,e.pendingProps,n);case 19:return uo(t,e,n);case 22:return Xa(t,e,n);case 24:return ko(e),i=Ao(zs),null===t?(null===(s=Ks())&&(s=ec,r=Us(),s.pooledCache=r,r.refCount++,null!==r&&(s.pooledCacheLanes|=n),s=r),e.memoizedState={parent:i,cache:s},Po(e),bo(e,zs,s)):(0!==(t.lanes&n)&&(Mo(t,e),Bo(e,null,null,n),Fo()),s=t.memoizedState,r=e.memoizedState,s.parent!==i?(s={parent:i,cache:i},e.memoizedState=s,0===e.lanes&&(e.memoizedState=e.updateQueue.baseState=s),bo(e,zs,i)):(i=r.cache,bo(e,zs,i),i!==s.cache&&xo(e,[zs],n,!0))),$a(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(a(156,e.tag))}var go=G(null),mo=null,vo=null;function bo(t,e,n){X(go,e._currentValue),e._currentValue=n}function yo(t){t._currentValue=go.current,q(go)}function wo(t,e,n){for(;null!==t;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==i&&(i.childLanes|=e)):null!==i&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function xo(t,e,n,i){var s=t.child;for(null!==s&&(s.return=t);null!==s;){var r=s.dependencies;if(null!==r){var o=s.child;r=r.firstContext;t:for(;null!==r;){var l=r;r=s;for(var c=0;c<e.length;c++)if(l.context===e[c]){r.lanes|=n,null!==(l=r.alternate)&&(l.lanes|=n),wo(r.return,n,t),i||(o=null);break t}r=l.next}}else if(18===s.tag){if(null===(o=s.return))throw Error(a(341));o.lanes|=n,null!==(r=o.alternate)&&(r.lanes|=n),wo(o,n,t),o=null}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}}function _o(t,e,n,i){t=null;for(var s=e,r=!1;null!==s;){if(!r)if(0!==(524288&s.flags))r=!0;else if(0!==(262144&s.flags))break;if(10===s.tag){var o=s.alternate;if(null===o)throw Error(a(387));if(null!==(o=o.memoizedProps)){var l=s.type;Xn(s.pendingProps.value,o.value)||(null!==t?t.push(l):t=[l])}}else if(s===J.current){if(null===(o=s.alternate))throw Error(a(387));o.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(null!==t?t.push(Fu):t=[Fu])}s=s.return}null!==t&&xo(e,t,n,i),e.flags|=262144}function So(t){for(t=t.firstContext;null!==t;){if(!Xn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ko(t){mo=t,vo=null,null!==(t=t.dependencies)&&(t.firstContext=null)}function Ao(t){return Eo(mo,t)}function Co(t,e){return null===mo&&ko(t),Eo(t,e)}function Eo(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},null===vo){if(null===t)throw Error(a(308));vo=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else vo=vo.next=e;return n}var To=!1;function Po(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Do(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ro(t,e,n){var i=t.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&tc)){var s=i.pending;return null===s?e.next=e:(e.next=s.next,s.next=e),i.pending=e,e=Di(t),Mi(t,null,n),e}return Ei(t,i,e,n),Di(t)}function Io(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194176&n))){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,Lt(t,n)}}function Lo(t,e){var n=t.updateQueue,i=t.alternate;if(null!==i&&n===(i=i.updateQueue)){var s=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===r?s=r=a:r=r.next=a,n=n.next}while(null!==n);null===r?s=r=e:r=r.next=e}else s=r=e;return n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Oo=!1;function Fo(){if(Oo){if(null!==Ws)throw Ws}}function Bo(t,e,n,i){Oo=!1;var s=t.updateQueue;To=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?r=c:a.next=c,a=l;var d=t.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==a&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==r){var u=s.baseState;for(a=0,d=c=l=null,o=r;;){var h=-536870913&o.lane,p=h!==o.lane;if(p?(ic&h)===h:(i&h)===h){0!==h&&h===$s&&(Oo=!0),null!==d&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var f=t,g=o;h=e;var m=n;switch(g.tag){case 1:if("function"===typeof(f=g.payload)){u=f.call(m,u,h);break t}u=f;break t;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=g.payload)?f.call(m,u,h):f)||void 0===h)break t;u=D({},u,h);break t;case 2:To=!0}}null!==(h=o.callback)&&(t.flags|=64,p&&(t.flags|=8192),null===(p=s.callbacks)?s.callbacks=[h]:p.push(h))}else p={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=p,l=u):d=d.next=p,a|=h;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(p=o).next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}null===d&&(l=u),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,null===r&&(s.shared.lanes=0),uc|=a,t.lanes=a,t.memoizedState=u}}function No(t,e){if("function"!==typeof t)throw Error(a(191,t));t.call(e)}function zo(t,e){var n=t.callbacks;if(null!==n)for(t.callbacks=null,t=0;t<n.length;t++)No(n[t],e)}function Uo(t,e){try{var n=e.updateQueue,i=null!==n?n.lastEffect:null;if(null!==i){var s=i.next;n=s;do{if((n.tag&t)===t){i=void 0;var r=n.create,a=n.inst;i=r(),a.destroy=i}n=n.next}while(n!==s)}}catch(o){id(e,e.return,o)}}function jo(t,e,n){try{var i=e.updateQueue,s=null!==i?i.lastEffect:null;if(null!==s){var r=s.next;i=r;do{if((i.tag&t)===t){var a=i.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,s=e;var l=n;try{o()}catch(c){id(s,l,c)}}}i=i.next}while(i!==r)}}catch(c){id(e,e.return,c)}}function Ho(t){var e=t.updateQueue;if(null!==e){var n=t.stateNode;try{zo(e,n)}catch(i){id(t,t.return,i)}}}function Vo(t,e,n){n.props=Ra(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){id(t,e,i)}}function $o(t,e){try{var n=t.ref;if(null!==n){var i=t.stateNode;switch(t.tag){case 26:case 27:case 5:var s=i;break;default:s=i}"function"===typeof n?t.refCleanup=n(s):n.current=s}}catch(r){id(t,e,r)}}function Wo(t,e){var n=t.ref,i=t.refCleanup;if(null!==n)if("function"===typeof i)try{i()}catch(s){id(t,e,s)}finally{t.refCleanup=null,null!=(t=t.alternate)&&(t.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(r){id(t,e,r)}else n.current=null}function Go(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){id(t,t.return,s)}}function qo(t,e,n){try{var i=t.stateNode;!function(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,o=null,l=null,c=null,d=null,u=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":c=h;default:i.hasOwnProperty(f)||$d(t,e,f,null,i,h)}}for(var p in i){var f=i[p];if(h=n[p],i.hasOwnProperty(p)&&(null!=f||null!=h))switch(p){case"type":r=f;break;case"name":s=f;break;case"checked":d=f;break;case"defaultChecked":u=f;break;case"value":o=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,e));break;default:f!==h&&$d(t,e,p,f,i,h)}}return void me(t,o,l,c,d,u,r,s);case"select":for(r in f=o=l=p=null,n)if(c=n[r],n.hasOwnProperty(r)&&null!=c)switch(r){case"value":break;case"multiple":f=c;default:i.hasOwnProperty(r)||$d(t,e,r,null,i,c)}for(s in i)if(r=i[s],c=n[s],i.hasOwnProperty(s)&&(null!=r||null!=c))switch(s){case"value":p=r;break;case"defaultValue":l=r;break;case"multiple":o=r;default:r!==c&&$d(t,e,s,r,i,c)}return e=l,n=o,i=f,void(null!=p?ye(t,!!n,p,!1):!!i!==!!n&&(null!=e?ye(t,!!n,e,!0):ye(t,!!n,n?[]:"",!1)));case"textarea":for(l in f=p=null,n)if(s=n[l],n.hasOwnProperty(l)&&null!=s&&!i.hasOwnProperty(l))switch(l){case"value":case"children":break;default:$d(t,e,l,null,i,s)}for(o in i)if(s=i[o],r=n[o],i.hasOwnProperty(o)&&(null!=s||null!=r))switch(o){case"value":p=s;break;case"defaultValue":f=s;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(a(91));break;default:s!==r&&$d(t,e,o,s,i,r)}return void we(t,p,f);case"option":for(var g in n)if(p=n[g],n.hasOwnProperty(g)&&null!=p&&!i.hasOwnProperty(g))if("selected"===g)t.selected=!1;else $d(t,e,g,null,i,p);for(c in i)if(p=i[c],f=n[c],i.hasOwnProperty(c)&&p!==f&&(null!=p||null!=f))if("selected"===c)t.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else $d(t,e,c,p,i,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)p=n[m],n.hasOwnProperty(m)&&null!=p&&!i.hasOwnProperty(m)&&$d(t,e,m,null,i,p);for(d in i)if(p=i[d],f=n[d],i.hasOwnProperty(d)&&p!==f&&(null!=p||null!=f))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,e));break;default:$d(t,e,d,p,i,f)}return;default:if(Ce(e)){for(var v in n)p=n[v],n.hasOwnProperty(v)&&void 0!==p&&!i.hasOwnProperty(v)&&Wd(t,e,v,void 0,i,p);for(u in i)p=i[u],f=n[u],!i.hasOwnProperty(u)||p===f||void 0===p&&void 0===f||Wd(t,e,u,p,i,f);return}}for(var b in n)p=n[b],n.hasOwnProperty(b)&&null!=p&&!i.hasOwnProperty(b)&&$d(t,e,b,null,i,p);for(h in i)p=i[h],f=n[h],!i.hasOwnProperty(h)||p===f||null==p&&null==f||$d(t,e,h,p,i,f)}(i,t.type,n,e),i[zt]=e}catch(s){id(t,t.return,s)}}function Xo(t){return 5===t.tag||3===t.tag||26===t.tag||27===t.tag||4===t.tag}function Ko(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||Xo(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&27!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function Yo(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Vd));else if(4!==i&&27!==i&&null!==(t=t.child))for(Yo(t,e,n),t=t.sibling;null!==t;)Yo(t,e,n),t=t.sibling}function Qo(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==i&&27!==i&&null!==(t=t.child))for(Qo(t,e,n),t=t.sibling;null!==t;)Qo(t,e,n),t=t.sibling}var Jo=!1,Zo=!1,tl=!1,el="function"===typeof WeakSet?WeakSet:Set,nl=null,il=!1;function sl(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:vl(t,n),4&i&&Uo(5,n);break;case 1:if(vl(t,n),4&i)if(t=n.stateNode,null===e)try{t.componentDidMount()}catch(o){id(n,n.return,o)}else{var s=Ra(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(s,e,t.__reactInternalSnapshotBeforeUpdate)}catch(l){id(n,n.return,l)}}64&i&&Ho(n),512&i&&$o(n,n.return);break;case 3:if(vl(t,n),64&i&&null!==(i=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{zo(i,t)}catch(o){id(n,n.return,o)}}break;case 26:vl(t,n),512&i&&$o(n,n.return);break;case 27:case 5:vl(t,n),null===e&&4&i&&Go(n),512&i&&$o(n,n.return);break;case 12:default:vl(t,n);break;case 13:vl(t,n),4&i&&dl(t,n);break;case 22:if(!(s=null!==n.memoizedState||Jo)){e=null!==e&&null!==e.memoizedState||Zo;var r=Jo,a=Zo;Jo=s,(Zo=e)&&!a?yl(t,n,0!==(8772&n.subtreeFlags)):vl(t,n),Jo=r,Zo=a}512&i&&("manual"===n.memoizedProps.mode?$o(n,n.return):Wo(n,n.return))}}function rl(t){var e=t.alternate;null!==e&&(t.alternate=null,rl(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&Gt(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var al=null,ol=!1;function ll(t,e,n){for(n=n.child;null!==n;)cl(t,e,n),n=n.sibling}function cl(t,e,n){if(bt&&"function"===typeof bt.onCommitFiberUnmount)try{bt.onCommitFiberUnmount(vt,n)}catch(a){}switch(n.tag){case 26:Zo||Wo(n,e),ll(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Zo||Wo(n,e);var i=al,s=ol;for(al=n.stateNode,ll(t,e,n),e=(n=n.stateNode).attributes;e.length;)n.removeAttributeNode(e[0]);Gt(n),al=i,ol=s;break;case 5:Zo||Wo(n,e);case 6:s=al;var r=ol;if(al=null,ll(t,e,n),ol=r,null!==(al=s))if(ol)try{t=al,i=n.stateNode,8===t.nodeType?t.parentNode.removeChild(i):t.removeChild(i)}catch(o){id(n,e,o)}else try{al.removeChild(n.stateNode)}catch(o){id(n,e,o)}break;case 18:null!==al&&(ol?(e=al,n=n.stateNode,8===e.nodeType?ru(e.parentNode,n):1===e.nodeType&&ru(e,n),gh(e)):ru(al,n.stateNode));break;case 4:i=al,s=ol,al=n.stateNode.containerInfo,ol=!0,ll(t,e,n),al=i,ol=s;break;case 0:case 11:case 14:case 15:Zo||jo(2,n,e),Zo||jo(4,n,e),ll(t,e,n);break;case 1:Zo||(Wo(n,e),"function"===typeof(i=n.stateNode).componentWillUnmount&&Vo(n,e,i)),ll(t,e,n);break;case 21:ll(t,e,n);break;case 22:Zo||Wo(n,e),Zo=(i=Zo)||null!==n.memoizedState,ll(t,e,n),Zo=i;break;default:ll(t,e,n)}}function dl(t,e){if(null===e.memoizedState&&(null!==(t=e.alternate)&&(null!==(t=t.memoizedState)&&null!==(t=t.dehydrated))))try{gh(t)}catch(n){id(e,e.return,n)}}function ul(t,e){var n=function(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return null===e&&(e=t.stateNode=new el),e;case 22:return null===(e=(t=t.stateNode)._retryCache)&&(e=t._retryCache=new el),e;default:throw Error(a(435,t.tag))}}(t);e.forEach((function(e){var i=ld.bind(null,t,e);n.has(e)||(n.add(e),e.then(i,i))}))}function hl(t,e){var n=e.deletions;if(null!==n)for(var i=0;i<n.length;i++){var s=n[i],r=t,o=e,l=o;t:for(;null!==l;){switch(l.tag){case 27:case 5:al=l.stateNode,ol=!1;break t;case 3:case 4:al=l.stateNode.containerInfo,ol=!0;break t}l=l.return}if(null===al)throw Error(a(160));cl(r,o,s),al=null,ol=!1,null!==(r=s.alternate)&&(r.return=null),s.return=null}if(13878&e.subtreeFlags)for(e=e.child;null!==e;)fl(e,t),e=e.sibling}var pl=null;function fl(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:hl(e,t),gl(t),4&i&&(jo(3,t,t.return),Uo(3,t),jo(5,t,t.return));break;case 1:hl(e,t),gl(t),512&i&&(Zo||null===n||Wo(n,n.return)),64&i&&Jo&&(null!==(t=t.updateQueue)&&(null!==(i=t.callbacks)&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=null===n?i:n.concat(i))));break;case 26:var s=pl;if(hl(e,t),gl(t),512&i&&(Zo||null===n||Wo(n,n.return)),4&i){var r=null!==n?n.memoizedState:null;if(i=t.memoizedState,null===n)if(null===i)if(null===t.stateNode){t:{i=t.type,n=t.memoizedProps,s=s.ownerDocument||s;e:switch(i){case"title":(!(r=s.getElementsByTagName("title")[0])||r[Wt]||r[Nt]||"http://www.w3.org/2000/svg"===r.namespaceURI||r.hasAttribute("itemprop"))&&(r=s.createElement(i),s.head.insertBefore(r,s.querySelector("head > title"))),Gd(r,i,n),r[Nt]=t,Qt(r),i=r;break t;case"link":var o=Eu("link","href",s).get(i+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((r=o[l]).getAttribute("href")===(null==n.href?null:n.href)&&r.getAttribute("rel")===(null==n.rel?null:n.rel)&&r.getAttribute("title")===(null==n.title?null:n.title)&&r.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break e}Gd(r=s.createElement(i),i,n),s.head.appendChild(r);break;case"meta":if(o=Eu("meta","content",s).get(i+(n.content||"")))for(l=0;l<o.length;l++)if((r=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&r.getAttribute("name")===(null==n.name?null:n.name)&&r.getAttribute("property")===(null==n.property?null:n.property)&&r.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&r.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break e}Gd(r=s.createElement(i),i,n),s.head.appendChild(r);break;default:throw Error(a(468,i))}r[Nt]=t,Qt(r),i=r}t.stateNode=i}else Tu(s,t.type,t.stateNode);else t.stateNode=_u(s,i,t.memoizedProps);else r!==i?(null===r?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):r.count--,null===i?Tu(s,t.type,t.stateNode):_u(s,i,t.memoizedProps)):null===i&&null!==t.stateNode&&qo(t,t.memoizedProps,n.memoizedProps)}break;case 27:if(4&i&&null===t.alternate){s=t.stateNode,r=t.memoizedProps;try{for(var c=s.firstChild;c;){var d=c.nextSibling,u=c.nodeName;c[Wt]||"HEAD"===u||"BODY"===u||"SCRIPT"===u||"STYLE"===u||"LINK"===u&&"stylesheet"===c.rel.toLowerCase()||s.removeChild(c),c=d}for(var h=t.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);Gd(s,h,r),s[Nt]=t,s[zt]=r}catch(g){id(t,t.return,g)}}case 5:if(hl(e,t),gl(t),512&i&&(Zo||null===n||Wo(n,n.return)),32&t.flags){s=t.stateNode;try{_e(s,"")}catch(g){id(t,t.return,g)}}4&i&&null!=t.stateNode&&qo(t,s=t.memoizedProps,null!==n?n.memoizedProps:s),1024&i&&(tl=!0);break;case 6:if(hl(e,t),gl(t),4&i){if(null===t.stateNode)throw Error(a(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(g){id(t,t.return,g)}}break;case 3:if(Cu=null,s=pl,pl=hu(e.containerInfo),hl(e,t),pl=s,gl(t),4&i&&null!==n&&n.memoizedState.isDehydrated)try{gh(e.containerInfo)}catch(g){id(t,t.return,g)}tl&&(tl=!1,ml(t));break;case 4:i=pl,pl=hu(t.stateNode.containerInfo),hl(e,t),gl(t),pl=i;break;case 12:hl(e,t),gl(t);break;case 13:hl(e,t),gl(t),8192&t.child.flags&&null!==t.memoizedState!==(null!==n&&null!==n.memoizedState)&&(yc=lt()),4&i&&(null!==(i=t.updateQueue)&&(t.updateQueue=null,ul(t,i)));break;case 22:if(512&i&&(Zo||null===n||Wo(n,n.return)),c=null!==t.memoizedState,d=null!==n&&null!==n.memoizedState,Jo=(u=Jo)||c,Zo=(h=Zo)||d,hl(e,t),Zo=h,Jo=u,gl(t),(e=t.stateNode)._current=t,e._visibility&=-3,e._visibility|=2&e._pendingVisibility,8192&i&&(e._visibility=c?-2&e._visibility:1|e._visibility,c&&(e=Jo||Zo,null===n||d||e||bl(t)),null===t.memoizedProps||"manual"!==t.memoizedProps.mode))t:for(n=null,e=t;;){if(5===e.tag||26===e.tag||27===e.tag){if(null===n){d=n=e;try{if(s=d.stateNode,c)"function"===typeof(r=s.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{o=d.stateNode;var f=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null;o.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(g){id(d,d.return,g)}}}else if(6===e.tag){if(null===n){d=e;try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){id(d,d.return,g)}}}else if((22!==e.tag&&23!==e.tag||null===e.memoizedState||e===t)&&null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;null===e.sibling;){if(null===e.return||e.return===t)break t;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}4&i&&(null!==(i=t.updateQueue)&&(null!==(n=i.retryQueue)&&(i.retryQueue=null,ul(t,n))));break;case 19:hl(e,t),gl(t),4&i&&(null!==(i=t.updateQueue)&&(t.updateQueue=null,ul(t,i)));break;case 21:break;default:hl(e,t),gl(t)}}function gl(t){var e=t.flags;if(2&e){try{if(27!==t.tag){t:{for(var n=t.return;null!==n;){if(Xo(n)){var i=n;break t}n=n.return}throw Error(a(160))}switch(i.tag){case 27:var s=i.stateNode;Qo(t,Ko(t),s);break;case 5:var r=i.stateNode;32&i.flags&&(_e(r,""),i.flags&=-33),Qo(t,Ko(t),r);break;case 3:case 4:var o=i.stateNode.containerInfo;Yo(t,Ko(t),o);break;default:throw Error(a(161))}}}catch(l){id(t,t.return,l)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function ml(t){if(1024&t.subtreeFlags)for(t=t.child;null!==t;){var e=t;ml(e),5===e.tag&&1024&e.flags&&e.stateNode.reset(),t=t.sibling}}function vl(t,e){if(8772&e.subtreeFlags)for(e=e.child;null!==e;)sl(t,e.alternate,e),e=e.sibling}function bl(t){for(t=t.child;null!==t;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:jo(4,e,e.return),bl(e);break;case 1:Wo(e,e.return);var n=e.stateNode;"function"===typeof n.componentWillUnmount&&Vo(e,e.return,n),bl(e);break;case 26:case 27:case 5:Wo(e,e.return),bl(e);break;case 22:Wo(e,e.return),null===e.memoizedState&&bl(e);break;default:bl(e)}t=t.sibling}}function yl(t,e,n){for(n=n&&0!==(8772&e.subtreeFlags),e=e.child;null!==e;){var i=e.alternate,s=t,r=e,a=r.flags;switch(r.tag){case 0:case 11:case 15:yl(s,r,n),Uo(4,r);break;case 1:if(yl(s,r,n),"function"===typeof(s=(i=r).stateNode).componentDidMount)try{s.componentDidMount()}catch(c){id(i,i.return,c)}if(null!==(s=(i=r).updateQueue)){var o=i.stateNode;try{var l=s.shared.hiddenCallbacks;if(null!==l)for(s.shared.hiddenCallbacks=null,s=0;s<l.length;s++)No(l[s],o)}catch(c){id(i,i.return,c)}}n&&64&a&&Ho(r),$o(r,r.return);break;case 26:case 27:case 5:yl(s,r,n),n&&null===i&&4&a&&Go(r),$o(r,r.return);break;case 12:default:yl(s,r,n);break;case 13:yl(s,r,n),n&&4&a&&dl(s,r);break;case 22:null===r.memoizedState&&yl(s,r,n),$o(r,r.return)}e=e.sibling}}function wl(t,e){var n=null;null!==t&&null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),t=null,null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(t=e.memoizedState.cachePool.pool),t!==n&&(null!=t&&t.refCount++,null!=n&&js(n))}function xl(t,e){t=null,null!==e.alternate&&(t=e.alternate.memoizedState.cache),(e=e.memoizedState.cache)!==t&&(e.refCount++,null!=t&&js(t))}function _l(t,e,n,i){if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Sl(t,e,n,i),e=e.sibling}function Sl(t,e,n,i){var s=e.flags;switch(e.tag){case 0:case 11:case 15:_l(t,e,n,i),2048&s&&Uo(9,e);break;case 3:_l(t,e,n,i),2048&s&&(t=null,null!==e.alternate&&(t=e.alternate.memoizedState.cache),(e=e.memoizedState.cache)!==t&&(e.refCount++,null!=t&&js(t)));break;case 12:if(2048&s){_l(t,e,n,i),t=e.stateNode;try{var r=e.memoizedProps,a=r.id,o=r.onPostCommit;"function"===typeof o&&o(a,null===e.alternate?"mount":"update",t.passiveEffectDuration,-0)}catch(l){id(e,e.return,l)}}else _l(t,e,n,i);break;case 23:break;case 22:r=e.stateNode,null!==e.memoizedState?4&r._visibility?_l(t,e,n,i):Al(t,e):4&r._visibility?_l(t,e,n,i):(r._visibility|=4,kl(t,e,n,i,0!==(10256&e.subtreeFlags))),2048&s&&wl(e.alternate,e);break;case 24:_l(t,e,n,i),2048&s&&xl(e.alternate,e);break;default:_l(t,e,n,i)}}function kl(t,e,n,i,s){for(s=s&&0!==(10256&e.subtreeFlags),e=e.child;null!==e;){var r=t,a=e,o=n,l=i,c=a.flags;switch(a.tag){case 0:case 11:case 15:kl(r,a,o,l,s),Uo(8,a);break;case 23:break;case 22:var d=a.stateNode;null!==a.memoizedState?4&d._visibility?kl(r,a,o,l,s):Al(r,a):(d._visibility|=4,kl(r,a,o,l,s)),s&&2048&c&&wl(a.alternate,a);break;case 24:kl(r,a,o,l,s),s&&2048&c&&xl(a.alternate,a);break;default:kl(r,a,o,l,s)}e=e.sibling}}function Al(t,e){if(10256&e.subtreeFlags)for(e=e.child;null!==e;){var n=t,i=e,s=i.flags;switch(i.tag){case 22:Al(n,i),2048&s&&wl(i.alternate,i);break;case 24:Al(n,i),2048&s&&xl(i.alternate,i);break;default:Al(n,i)}e=e.sibling}}var Cl=8192;function El(t){if(t.subtreeFlags&Cl)for(t=t.child;null!==t;)Tl(t),t=t.sibling}function Tl(t){switch(t.tag){case 26:El(t),t.flags&Cl&&null!==t.memoizedState&&function(t,e,n){if(null===Mu)throw Error(a(475));var i=Mu;if("stylesheet"===e.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&e.state.loading)){if(null===e.instance){var s=vu(n.href),r=t.querySelector(bu(s));if(r)return null!==(t=r._p)&&"object"===typeof t&&"function"===typeof t.then&&(i.count++,i=Ru.bind(i),t.then(i,i)),e.state.loading|=4,e.instance=r,void Qt(r);r=t.ownerDocument||t,n=yu(n),(s=du.get(s))&&ku(n,s),Qt(r=r.createElement("link"));var o=r;o._p=new Promise((function(t,e){o.onload=t,o.onerror=e})),Gd(r,"link",n),e.instance=r}null===i.stylesheets&&(i.stylesheets=new Map),i.stylesheets.set(e,t),(t=e.state.preload)&&0===(3&e.state.loading)&&(i.count++,e=Ru.bind(i),t.addEventListener("load",e),t.addEventListener("error",e))}}(pl,t.memoizedState,t.memoizedProps);break;case 5:default:El(t);break;case 3:case 4:var e=pl;pl=hu(t.stateNode.containerInfo),El(t),pl=e;break;case 22:null===t.memoizedState&&(null!==(e=t.alternate)&&null!==e.memoizedState?(e=Cl,Cl=16777216,El(t),Cl=e):El(t))}}function Pl(t){var e=t.alternate;if(null!==e&&null!==(t=e.child)){e.child=null;do{e=t.sibling,t.sibling=null,t=e}while(null!==t)}}function Ml(t){var e=t.deletions;if(0!==(16&t.flags)){if(null!==e)for(var n=0;n<e.length;n++){var i=e[n];nl=i,Il(i,t)}Pl(t)}if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Dl(t),t=t.sibling}function Dl(t){switch(t.tag){case 0:case 11:case 15:Ml(t),2048&t.flags&&jo(9,t,t.return);break;case 3:case 12:default:Ml(t);break;case 22:var e=t.stateNode;null!==t.memoizedState&&4&e._visibility&&(null===t.return||13!==t.return.tag)?(e._visibility&=-5,Rl(t)):Ml(t)}}function Rl(t){var e=t.deletions;if(0!==(16&t.flags)){if(null!==e)for(var n=0;n<e.length;n++){var i=e[n];nl=i,Il(i,t)}Pl(t)}for(t=t.child;null!==t;){switch((e=t).tag){case 0:case 11:case 15:jo(8,e,e.return),Rl(e);break;case 22:4&(n=e.stateNode)._visibility&&(n._visibility&=-5,Rl(e));break;default:Rl(e)}t=t.sibling}}function Il(t,e){for(;null!==nl;){var n=nl;switch(n.tag){case 0:case 11:case 15:jo(8,n,e);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var i=n.memoizedState.cachePool.pool;null!=i&&i.refCount++}break;case 24:js(n.memoizedState.cache)}if(null!==(i=n.child))i.return=n,nl=i;else t:for(n=t;null!==nl;){var s=(i=nl).sibling,r=i.return;if(rl(i),i===n){nl=null;break t}if(null!==s){s.return=r,nl=s;break t}nl=r}}}function Ll(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ol(t,e,n,i){return new Ll(t,e,n,i)}function Fl(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Bl(t,e){var n=t.alternate;return null===n?((n=Ol(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=31457280&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function Nl(t,e){t.flags&=31457282;var n=t.alternate;return null===n?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function zl(t,e,n,i,s,r){var o=0;if(i=t,"function"===typeof t)Fl(t)&&(o=1);else if("string"===typeof t)o=function(t,e,n){if(1===n||null!=e.itemProp)return!1;switch(t){case"meta":case"title":return!0;case"style":if("string"!==typeof e.precedence||"string"!==typeof e.href||""===e.href)break;return!0;case"link":if("string"!==typeof e.rel||"string"!==typeof e.href||""===e.href||e.onLoad||e.onError)break;return"stylesheet"!==e.rel||(t=e.disabled,"string"===typeof e.precedence&&null==t);case"script":if(e.async&&"function"!==typeof e.async&&"symbol"!==typeof e.async&&!e.onLoad&&!e.onError&&e.src&&"string"===typeof e.src)return!0}return!1}(t,n,K.current)?26:"html"===t||"head"===t||"body"===t?27:5;else t:switch(t){case u:return Ul(n.children,s,r,e);case h:o=8,s|=24;break;case p:return(t=Ol(12,n,e,2|s)).elementType=p,t.lanes=r,t;case b:return(t=Ol(13,n,e,s)).elementType=b,t.lanes=r,t;case y:return(t=Ol(19,n,e,s)).elementType=y,t.lanes=r,t;case _:return jl(n,s,r,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case f:case m:o=10;break t;case g:o=9;break t;case v:o=11;break t;case w:o=14;break t;case x:o=16,i=null;break t}o=29,n=Error(a(130,null===t?"null":typeof t,"")),i=null}return(e=Ol(o,n,e,s)).elementType=t,e.type=i,e.lanes=r,e}function Ul(t,e,n,i){return(t=Ol(7,t,i,e)).lanes=n,t}function jl(t,e,n,i){(t=Ol(22,t,i,e)).elementType=_,t.lanes=n;var s={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var t=s._current;if(null===t)throw Error(a(456));if(0===(2&s._pendingVisibility)){var e=Pi(t,2);null!==e&&(s._pendingVisibility|=2,Rc(e,t,2))}},attach:function(){var t=s._current;if(null===t)throw Error(a(456));if(0!==(2&s._pendingVisibility)){var e=Pi(t,2);null!==e&&(s._pendingVisibility&=-3,Rc(e,t,2))}}};return t.stateNode=s,t}function Hl(t,e,n){return(t=Ol(6,t,null,e)).lanes=n,t}function Vl(t,e,n){return(e=Ol(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $l(t){t.flags|=4}function Wl(t,e){if("stylesheet"!==e.type||0!==(4&e.state.loading))t.flags&=-16777217;else if(t.flags|=16777216,!Pu(e)){if(null!==(e=Ts.current)&&((4194176&ic)===ic?null!==Ps:(62914560&ic)!==ic&&0===(536870912&ic)||e!==Ps))throw hs=ls,os;t.flags|=8192}}function Gl(t,e){null!==e&&(t.flags|=4),16384&t.flags&&(e=22!==t.tag?Mt():536870912,t.lanes|=e,gc|=e)}function ql(t,e){if(!Yi)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Xl(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;null!==s;)n|=s.lanes|s.childLanes,i|=31457280&s.subtreeFlags,i|=31457280&s.flags,s.return=t,s=s.sibling;else for(s=t.child;null!==s;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Kl(t,e,n){var i=e.pendingProps;switch(qi(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Xl(e),null;case 3:return n=e.stateNode,i=null,null!==t&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),yo(zs),tt(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||(is(e)?$l(e):null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==Qi&&(Lc(Qi),Qi=null))),Xl(e),null;case 26:return n=e.memoizedState,null===t?($l(e),null!==n?(Xl(e),Wl(e,n)):(Xl(e),e.flags&=-16777217)):n?n!==t.memoizedState?($l(e),Xl(e),Wl(e,n)):(Xl(e),e.flags&=-16777217):(t.memoizedProps!==i&&$l(e),Xl(e),e.flags&=-16777217),null;case 27:nt(e),n=Q.current;var s=e.type;if(null!==t&&null!=e.stateNode)t.memoizedProps!==i&&$l(e);else{if(!i){if(null===e.stateNode)throw Error(a(166));return Xl(e),null}t=K.current,is(e)?es(e):(t=cu(s,i,n),e.stateNode=t,$l(e))}return Xl(e),null;case 5:if(nt(e),n=e.type,null!==t&&null!=e.stateNode)t.memoizedProps!==i&&$l(e);else{if(!i){if(null===e.stateNode)throw Error(a(166));return Xl(e),null}if(t=K.current,is(e))es(e);else{switch(s=Kd(Q.current),t){case 1:t=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(t=s.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t="string"===typeof i.is?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?t.multiple=!0:i.size&&(t.size=i.size);break;default:t="string"===typeof i.is?s.createElement(n,{is:i.is}):s.createElement(n)}}t[Nt]=e,t[zt]=i;t:for(s=e.child;null!==s;){if(5===s.tag||6===s.tag)t.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===e)break t;for(;null===s.sibling;){if(null===s.return||s.return===e)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=t;t:switch(Gd(t,n,i),n){case"button":case"input":case"select":case"textarea":t=!!i.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&$l(e)}}return Xl(e),e.flags&=-16777217,null;case 6:if(t&&null!=e.stateNode)t.memoizedProps!==i&&$l(e);else{if("string"!==typeof i&&null===e.stateNode)throw Error(a(166));if(t=Q.current,is(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,null!==(s=Xi))switch(s.tag){case 27:case 5:i=s.memoizedProps}t[Nt]=e,(t=!!(t.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||Hd(t.nodeValue,n)))||ts(e)}else(t=Kd(t).createTextNode(i))[Nt]=e,e.stateNode=t}return Xl(e),null;case 13:if(i=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(s=is(e),null!==i&&null!==i.dehydrated){if(null===t){if(!s)throw Error(a(318));if(!(s=null!==(s=e.memoizedState)?s.dehydrated:null))throw Error(a(317));s[Nt]=e}else ss(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Xl(e),s=!1}else null!==Qi&&(Lc(Qi),Qi=null),s=!0;if(!s)return 256&e.flags?(Is(e),e):(Is(e),null)}if(Is(e),0!==(128&e.flags))return e.lanes=n,e;if(n=null!==i,t=null!==t&&null!==t.memoizedState,n){s=null,null!==(i=e.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(s=i.alternate.memoizedState.cachePool.pool);var r=null;null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(r=i.memoizedState.cachePool.pool),r!==s&&(i.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),Gl(e,e.updateQueue),Xl(e),null;case 4:return tt(),null===t&&Rd(e.stateNode.containerInfo),Xl(e),null;case 10:return yo(e.type),Xl(e),null;case 19:if(q(Ls),null===(s=e.memoizedState))return Xl(e),null;if(i=0!==(128&e.flags),null===(r=s.rendering))if(i)ql(s,!1);else{if(0!==dc||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(r=Os(t))){for(e.flags|=128,ql(s,!1),t=r.updateQueue,e.updateQueue=t,Gl(e,t),e.subtreeFlags=0,t=n,n=e.child;null!==n;)Nl(n,t),n=n.sibling;return X(Ls,1&Ls.current|2),e.child}t=t.sibling}null!==s.tail&&lt()>wc&&(e.flags|=128,i=!0,ql(s,!1),e.lanes=4194304)}else{if(!i)if(null!==(t=Os(r))){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,Gl(e,t),ql(s,!0),null===s.tail&&"hidden"===s.tailMode&&!r.alternate&&!Yi)return Xl(e),null}else 2*lt()-s.renderingStartTime>wc&&536870912!==n&&(e.flags|=128,i=!0,ql(s,!1),e.lanes=4194304);s.isBackwards?(r.sibling=e.child,e.child=r):(null!==(t=s.last)?t.sibling=r:e.child=r,s.last=r)}return null!==s.tail?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=lt(),e.sibling=null,t=Ls.current,X(Ls,i?1&t|2:1&t),e):(Xl(e),null);case 22:case 23:return Is(e),Es(),i=null!==e.memoizedState,null!==t?null!==t.memoizedState!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?0!==(536870912&n)&&0===(128&e.flags)&&(Xl(e),6&e.subtreeFlags&&(e.flags|=8192)):Xl(e),null!==(n=e.updateQueue)&&Gl(e,n.retryQueue),n=null,null!==t&&null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),i=null,null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),null!==t&&q(Xs),null;case 24:return n=null,null!==t&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),yo(zs),Xl(e),null;case 25:return null}throw Error(a(156,e.tag))}function Yl(t,e){switch(qi(e),e.tag){case 1:return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return yo(zs),tt(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 26:case 27:case 5:return nt(e),null;case 13:if(Is(e),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(a(340));ss()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return q(Ls),null;case 4:return tt(),null;case 10:return yo(e.type),null;case 22:case 23:return Is(e),Es(),null!==t&&q(Xs),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 24:return yo(zs),null;default:return null}}function Ql(t,e){switch(qi(e),e.tag){case 3:yo(zs),tt();break;case 26:case 27:case 5:nt(e);break;case 4:tt();break;case 13:Is(e);break;case 19:q(Ls);break;case 10:yo(e.type);break;case 22:case 23:Is(e),Es(),null!==t&&q(Xs);break;case 24:yo(zs)}}var Jl={getCacheForType:function(t){var e=Ao(zs),n=e.data.get(t);return void 0===n&&(n=t(),e.data.set(t,n)),n}},Zl="function"===typeof WeakMap?WeakMap:Map,tc=0,ec=null,nc=null,ic=0,sc=0,rc=null,ac=!1,oc=!1,lc=!1,cc=0,dc=0,uc=0,hc=0,pc=0,fc=0,gc=0,mc=null,vc=null,bc=!1,yc=0,wc=1/0,xc=null,_c=null,Sc=!1,kc=null,Ac=0,Cc=0,Ec=null,Tc=0,Pc=null;function Mc(){if(0!==(2&tc)&&0!==ic)return ic&-ic;if(null!==M.T){return 0!==$s?$s:xd()}return Ft()}function Dc(){0===fc&&(fc=0===(536870912&ic)||Yi?Pt():536870912);var t=Ts.current;return null!==t&&(t.flags|=32),fc}function Rc(t,e,n){(t===ec&&2===sc||null!==t.cancelPendingCommit)&&(Uc(t,0),Bc(t,ic,fc,!1)),Rt(t,n),0!==(2&tc)&&t===ec||(t===ec&&(0===(2&tc)&&(hc|=n),4===dc&&Bc(t,ic,fc,!1)),gd(t))}function Ic(t,e,n){if(0!==(6&tc))throw Error(a(327));for(var i=!n&&0===(60&e)&&0===(e&t.expiredLanes)||Et(t,e),s=i?function(t,e){var n=tc;tc|=2;var i=Hc(),s=Vc();ec!==t||ic!==e?(xc=null,wc=lt()+500,Uc(t,e)):oc=Et(t,e);t:for(;;)try{if(0!==sc&&null!==nc){e=nc;var r=rc;e:switch(sc){case 1:sc=0,rc=null,Yc(t,e,r,1);break;case 2:if(cs(r)){sc=0,rc=null,Kc(e);break}e=function(){2===sc&&ec===t&&(sc=7),gd(t)},r.then(e,e);break t;case 3:sc=7;break t;case 4:sc=5;break t;case 7:cs(r)?(sc=0,rc=null,Kc(e)):(sc=0,rc=null,Yc(t,e,r,7));break;case 5:var o=null;switch(nc.tag){case 26:o=nc.memoizedState;case 5:case 27:var l=nc;if(!o||Pu(o)){sc=0,rc=null;var c=l.sibling;if(null!==c)nc=c;else{var d=l.return;null!==d?(nc=d,Qc(d)):nc=null}break e}}sc=0,rc=null,Yc(t,e,r,5);break;case 6:sc=0,rc=null,Yc(t,e,r,6);break;case 8:zc(),dc=6;break t;default:throw Error(a(462))}}qc();break}catch(u){jc(t,u)}return vo=mo=null,M.H=i,M.A=s,tc=n,null!==nc?0:(ec=null,ic=0,Ci(),dc)}(t,e):Wc(t,e,!0),r=i;;){if(0===s){oc&&!i&&Bc(t,e,0,!1);break}if(6===s)Bc(t,e,0,!ac);else{if(n=t.current.alternate,r&&!Fc(n)){s=Wc(t,e,!1),r=!1;continue}if(2===s){if(r=e,t.errorRecoveryDisabledLanes&r)var o=0;else o=0!==(o=-536870913&t.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){e=o;t:{var l=t;s=mc;var c=l.current.memoizedState.isDehydrated;if(c&&(Uc(l,o).flags|=256),2!==(o=Wc(l,o,!1))){if(lc&&!c){l.errorRecoveryDisabledLanes|=r,hc|=r,s=4;break t}r=vc,vc=s,null!==r&&Lc(r)}s=o}if(r=!1,2!==s)continue}}if(1===s){Uc(t,0),Bc(t,e,0,!0);break}t:{switch(i=t,s){case 0:case 1:throw Error(a(345));case 4:if((4194176&e)===e){Bc(i,e,fc,!ac);break t}break;case 2:vc=null;break;case 3:case 5:break;default:throw Error(a(329))}if(i.finishedWork=n,i.finishedLanes=e,(62914560&e)===e&&10<(r=yc+300-lt())){if(Bc(i,e,fc,!ac),0!==Ct(i,0))break t;i.timeoutHandle=tu(Oc.bind(null,i,n,vc,xc,bc,e,fc,hc,gc,ac,2,-0,0),r)}else Oc(i,n,vc,xc,bc,e,fc,hc,gc,ac,0,-0,0)}}break}gd(t)}function Lc(t){null===vc?vc=t:vc.push.apply(vc,t)}function Oc(t,e,n,i,s,r,o,l,c,d,u,h,p){var f=e.subtreeFlags;if((8192&f||16785408===(16785408&f))&&(Mu={stylesheets:null,count:0,unsuspend:Du},Tl(e),null!==(e=function(){if(null===Mu)throw Error(a(475));var t=Mu;return t.stylesheets&&0===t.count&&Lu(t,t.stylesheets),0<t.count?function(e){var n=setTimeout((function(){if(t.stylesheets&&Lu(t,t.stylesheets),t.unsuspend){var e=t.unsuspend;t.unsuspend=null,e()}}),6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}())))return t.cancelPendingCommit=e(Zc.bind(null,t,n,i,s,o,l,c,1,h,p)),void Bc(t,r,o,!d);Zc(t,n,i,s,o,l,c,u,h,p)}function Fc(t){for(var e=t;;){var n=e.tag;if((0===n||11===n||15===n)&&16384&e.flags&&(null!==(n=e.updateQueue)&&null!==(n=n.stores)))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!Xn(r(),s))return!1}catch(a){return!1}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bc(t,e,n,i){e&=~pc,e&=~hc,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var s=e;0<s;){var r=31-wt(s),a=1<<r;i[r]=-1,s&=~a}0!==n&&It(t,n,e)}function Nc(){return 0!==(6&tc)||(md(0,!1),!1)}function zc(){if(null!==nc){if(0===sc)var t=nc.return;else vo=mo=null,vr(t=nc),fs=null,gs=0,t=nc;for(;null!==t;)Ql(t.alternate,t),t=t.return;nc=null}}function Uc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;-1!==n&&(t.timeoutHandle=-1,eu(n)),null!==(n=t.cancelPendingCommit)&&(t.cancelPendingCommit=null,n()),zc(),ec=t,nc=n=Bl(t.current,null),ic=e,sc=0,rc=null,ac=!1,oc=Et(t,e),lc=!1,gc=fc=pc=hc=uc=dc=0,vc=mc=null,bc=!1,0!==(8&e)&&(e|=32&e);var i=t.entangledLanes;if(0!==i)for(t=t.entanglements,i&=e;0<i;){var s=31-wt(i),r=1<<s;e|=t[s],i&=~r}return cc=e,Ci(),n}function jc(t,e){Zs=null,M.H=ka,e===as?(e=ps(),sc=3):e===os?(e=ps(),sc=4):sc=e===Ha?8:null!==e&&"object"===typeof e&&"function"===typeof e.then?6:1,rc=e,null===nc&&(dc=1,Ba(t,Li(e,t.current)))}function Hc(){var t=M.H;return M.H=ka,null===t?ka:t}function Vc(){var t=M.A;return M.A=Jl,t}function $c(){dc=4,ac||(4194176&ic)!==ic&&null!==Ts.current||(oc=!0),0===(134217727&uc)&&0===(134217727&hc)||null===ec||Bc(ec,ic,fc,!1)}function Wc(t,e,n){var i=tc;tc|=2;var s=Hc(),r=Vc();ec===t&&ic===e||(xc=null,Uc(t,e)),e=!1;var a=dc;t:for(;;)try{if(0!==sc&&null!==nc){var o=nc,l=rc;switch(sc){case 8:zc(),a=6;break t;case 3:case 2:case 6:null===Ts.current&&(e=!0);var c=sc;if(sc=0,rc=null,Yc(t,o,l,c),n&&oc){a=0;break t}break;default:c=sc,sc=0,rc=null,Yc(t,o,l,c)}}Gc(),a=dc;break}catch(d){jc(t,d)}return e&&t.shellSuspendCounter++,vo=mo=null,tc=i,M.H=s,M.A=r,null===nc&&(ec=null,ic=0,Ci()),a}function Gc(){for(;null!==nc;)Xc(nc)}function qc(){for(;null!==nc&&!at();)Xc(nc)}function Xc(t){var e=fo(t.alternate,t,cc);t.memoizedProps=t.pendingProps,null===e?Qc(t):nc=e}function Kc(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Ja(n,e,e.pendingProps,e.type,void 0,ic);break;case 11:e=Ja(n,e,e.pendingProps,e.type.render,e.ref,ic);break;case 5:vr(e);default:Ql(n,e),e=fo(n,e=nc=Nl(e,cc),cc)}t.memoizedProps=t.pendingProps,null===e?Qc(t):nc=e}function Yc(t,e,n,i){vo=mo=null,vr(e),fs=null,gs=0;var s=e.return;try{if(function(t,e,n,i,s){if(n.flags|=32768,null!==i&&"object"===typeof i&&"function"===typeof i.then){if(null!==(e=n.alternate)&&_o(e,n,s,!0),null!==(n=Ts.current)){switch(n.tag){case 13:return null===Ps?$c():null===n.alternate&&0===dc&&(dc=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===ls?n.flags|=16384:(null===(e=n.updateQueue)?n.updateQueue=new Set([i]):e.add(i),sd(t,i,s)),!1;case 22:return n.flags|=65536,i===ls?n.flags|=16384:(null===(e=n.updateQueue)?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):null===(n=e.retryQueue)?e.retryQueue=new Set([i]):n.add(i),sd(t,i,s)),!1}throw Error(a(435,n.tag))}return sd(t,i,s),$c(),!1}if(Yi)return null!==(e=Ts.current)?(0===(65536&e.flags)&&(e.flags|=256),e.flags|=65536,e.lanes=s,i!==Zi&&rs(Li(t=Error(a(422),{cause:i}),n))):(i!==Zi&&rs(Li(e=Error(a(423),{cause:i}),n)),(t=t.current.alternate).flags|=65536,s&=-s,t.lanes|=s,i=Li(i,n),Lo(t,s=za(t.stateNode,i,s)),4!==dc&&(dc=2)),!1;var r=Error(a(520),{cause:i});if(r=Li(r,n),null===mc?mc=[r]:mc.push(r),4!==dc&&(dc=2),null===e)return!0;i=Li(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=s&-s,n.lanes|=t,Lo(n,t=za(n.stateNode,i,t)),!1;case 1:if(e=n.type,r=n.stateNode,0===(128&n.flags)&&("function"===typeof e.getDerivedStateFromError||null!==r&&"function"===typeof r.componentDidCatch&&(null===_c||!_c.has(r))))return n.flags|=65536,s&=-s,n.lanes|=s,ja(s=Ua(s),t,n,i),Lo(n,s),!1}n=n.return}while(null!==n);return!1}(t,s,e,n,ic))return dc=1,Ba(t,Li(n,t.current)),void(nc=null)}catch(r){if(null!==s)throw nc=s,r;return dc=1,Ba(t,Li(n,t.current)),void(nc=null)}32768&e.flags?(Yi||1===i?t=!0:oc||0!==(536870912&ic)?t=!1:(ac=t=!0,(2===i||3===i||6===i)&&(null!==(i=Ts.current)&&13===i.tag&&(i.flags|=16384))),Jc(e,t)):Qc(e)}function Qc(t){var e=t;do{if(0!==(32768&e.flags))return void Jc(e,ac);t=e.return;var n=Kl(e.alternate,e,cc);if(null!==n)return void(nc=n);if(null!==(e=e.sibling))return void(nc=e);nc=e=t}while(null!==e);0===dc&&(dc=5)}function Jc(t,e){do{var n=Yl(t.alternate,t);if(null!==n)return n.flags&=32767,void(nc=n);if(null!==(n=t.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&null!==(t=t.sibling))return void(nc=t);nc=t=n}while(null!==t);dc=6,nc=null}function Zc(t,e,n,i,s,r,o,l,c,d){var u=M.T,h=H.p;try{H.p=2,M.T=null,function(t,e,n,i,s,r,o,l){do{ed()}while(null!==kc);if(0!==(6&tc))throw Error(a(327));var c=t.finishedWork;if(i=t.finishedLanes,null===c)return null;if(t.finishedWork=null,t.finishedLanes=0,c===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var d=c.lanes|c.childLanes;if(function(t,e,n,i,s,r){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,l=t.expirationTimes,c=t.hiddenUpdates;for(n=a&~n;0<n;){var d=31-wt(n),u=1<<d;o[d]=0,l[d]=-1;var h=c[d];if(null!==h)for(c[d]=null,d=0;d<h.length;d++){var p=h[d];null!==p&&(p.lane&=-536870913)}n&=~u}0!==i&&It(t,i,0),0!==r&&0===s&&0!==t.tag&&(t.suspendedLanes|=r&~(a&~e))}(t,i,d|=Ai,r,o,l),t===ec&&(nc=ec=null,ic=0),0===(10256&c.subtreeFlags)&&0===(10256&c.flags)||Sc||(Sc=!0,Cc=d,Ec=n,function(t,e){st(t,e)}(ht,(function(){return ed(),null}))),n=0!==(15990&c.flags),0!==(15990&c.subtreeFlags)||n?(n=M.T,M.T=null,r=H.p,H.p=2,o=tc,tc|=4,function(t,e){if(t=t.containerInfo,qd=$u,ti(t=Zn(t))){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var i=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch(m){n=null;break t}var o=0,l=-1,c=-1,d=0,u=0,h=t,p=null;e:for(;;){for(var f;h!==n||0!==s&&3!==h.nodeType||(l=o+s),h!==r||0!==i&&3!==h.nodeType||(c=o+i),3===h.nodeType&&(o+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===t)break e;if(p===n&&++d===s&&(l=o),p===r&&++u===i&&(c=o),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xd={focusedElem:t,selectionRange:n},$u=!1,nl=e;null!==nl;)if(t=(e=nl).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,nl=t;else for(;null!==nl;){switch(r=(e=nl).alternate,t=e.flags,e.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&t)&&null!==r){t=void 0,n=e,s=r.memoizedProps,r=r.memoizedState,i=n.stateNode;try{var g=Ra(n.type,s,(n.elementType,n.type));t=i.getSnapshotBeforeUpdate(g,r),i.__reactInternalSnapshotBeforeUpdate=t}catch(v){id(n,n.return,v)}}break;case 3:if(0!==(1024&t))if(9===(n=(t=e.stateNode.containerInfo).nodeType))au(t);else if(1===n)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":au(t);break;default:t.textContent=""}break;default:if(0!==(1024&t))throw Error(a(163))}if(null!==(t=e.sibling)){t.return=e.return,nl=t;break}nl=e.return}g=il,il=!1}(t,c),fl(c,t),ei(Xd,t.containerInfo),$u=!!qd,Xd=qd=null,t.current=c,sl(t,c.alternate,c),ot(),tc=o,H.p=r,M.T=n):t.current=c,Sc?(Sc=!1,kc=t,Ac=i):td(t,d),d=t.pendingLanes,0===d&&(_c=null),function(t){if(bt&&"function"===typeof bt.onCommitFiberRoot)try{bt.onCommitFiberRoot(vt,t,void 0,128===(128&t.current.flags))}catch(e){}}(c.stateNode),gd(t),null!==e)for(s=t.onRecoverableError,c=0;c<e.length;c++)d=e[c],s(d.value,{componentStack:d.stack});0!==(3&Ac)&&ed(),d=t.pendingLanes,0!==(4194218&i)&&0!==(42&d)?t===Pc?Tc++:(Tc=0,Pc=t):Tc=0,md(0,!1)}(t,e,n,i,h,s,r,o)}finally{M.T=u,H.p=h}}function td(t,e){0===(t.pooledCacheLanes&=e)&&(null!=(e=t.pooledCache)&&(t.pooledCache=null,js(e)))}function ed(){if(null!==kc){var t=kc,e=Cc;Cc=0;var n=Ot(Ac),i=M.T,s=H.p;try{if(H.p=32>n?32:n,M.T=null,null===kc)var r=!1;else{n=Ec,Ec=null;var o=kc,l=Ac;if(kc=null,Ac=0,0!==(6&tc))throw Error(a(331));var c=tc;if(tc|=4,Dl(o.current),Sl(o,o.current,l,n),tc=c,md(0,!1),bt&&"function"===typeof bt.onPostCommitFiberRoot)try{bt.onPostCommitFiberRoot(vt,o)}catch(d){}r=!0}return r}finally{H.p=s,M.T=i,td(t,e)}}return!1}function nd(t,e,n){e=Li(n,e),null!==(t=Ro(t,e=za(t.stateNode,e,2),2))&&(Rt(t,2),gd(t))}function id(t,e,n){if(3===t.tag)nd(t,t,n);else for(;null!==e;){if(3===e.tag){nd(e,t,n);break}if(1===e.tag){var i=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===_c||!_c.has(i))){t=Li(n,t),null!==(i=Ro(e,n=Ua(2),2))&&(ja(n,i,e,t),Rt(i,2),gd(i));break}}e=e.return}}function sd(t,e,n){var i=t.pingCache;if(null===i){i=t.pingCache=new Zl;var s=new Set;i.set(e,s)}else void 0===(s=i.get(e))&&(s=new Set,i.set(e,s));s.has(n)||(lc=!0,s.add(n),t=rd.bind(null,t,e,n),e.then(t,t))}function rd(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ec===t&&(ic&n)===n&&(4===dc||3===dc&&(62914560&ic)===ic&&300>lt()-yc?0===(2&tc)&&Uc(t,0):pc|=n,gc===ic&&(gc=0)),gd(t)}function ad(t,e){0===e&&(e=Mt()),null!==(t=Pi(t,e))&&(Rt(t,e),gd(t))}function od(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),ad(t,n)}function ld(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;null!==s&&(n=s.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(a(314))}null!==i&&i.delete(e),ad(t,n)}var cd=null,dd=null,ud=!1,hd=!1,pd=!1,fd=0;function gd(t){var e;t!==dd&&null===t.next&&(null===dd?cd=dd=t:dd=dd.next=t),hd=!0,ud||(ud=!0,e=vd,iu((function(){0!==(6&tc)?st(dt,e):e()})))}function md(t,e){if(!pd&&hd){pd=!0;do{for(var n=!1,i=cd;null!==i;){if(!e)if(0!==t){var s=i.pendingLanes;if(0===s)var r=0;else{var a=i.suspendedLanes,o=i.pingedLanes;r=(1<<31-wt(42|t)+1)-1,r=201326677&(r&=s&~(a&~o))?201326677&r|1:r?2|r:0}0!==r&&(n=!0,wd(i,r))}else r=ic,0===(3&(r=Ct(i,i===ec?r:0)))||Et(i,r)||(n=!0,wd(i,r));i=i.next}}while(n);pd=!1}}function vd(){hd=ud=!1;var t=0;0!==fd&&(function(){var t=window.event;if(t&&"popstate"===t.type)return t!==Zd&&(Zd=t,!0);return Zd=null,!1}()&&(t=fd),fd=0);for(var e=lt(),n=null,i=cd;null!==i;){var s=i.next,r=bd(i,e);0===r?(i.next=null,null===n?cd=s:n.next=s,null===s&&(dd=n)):(n=i,(0!==t||0!==(3&r))&&(hd=!0)),i=s}md(t,!1)}function bd(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,r=-62914561&t.pendingLanes;0<r;){var a=31-wt(r),o=1<<a,l=s[a];-1===l?0!==(o&n)&&0===(o&i)||(s[a]=Tt(o,e)):l<=e&&(t.expiredLanes|=o),r&=~o}if(n=ic,n=Ct(t,t===(e=ec)?n:0),i=t.callbackNode,0===n||t===e&&2===sc||null!==t.cancelPendingCommit)return null!==i&&null!==i&&rt(i),t.callbackNode=null,t.callbackPriority=0;if(0===(3&n)||Et(t,n)){if((e=n&-n)===t.callbackPriority)return e;switch(null!==i&&rt(i),Ot(n)){case 2:case 8:n=ut;break;case 32:default:n=ht;break;case 268435456:n=ft}return i=yd.bind(null,t),n=st(n,i),t.callbackPriority=e,t.callbackNode=n,e}return null!==i&&null!==i&&rt(i),t.callbackPriority=2,t.callbackNode=null,2}function yd(t,e){var n=t.callbackNode;if(ed()&&t.callbackNode!==n)return null;var i=ic;return 0===(i=Ct(t,t===ec?i:0))?null:(Ic(t,i,e),bd(t,lt()),null!=t.callbackNode&&t.callbackNode===n?yd.bind(null,t):null)}function wd(t,e){if(ed())return null;Ic(t,e,!0)}function xd(){return 0===fd&&(fd=Pt()),fd}function _d(t){return null==t||"symbol"===typeof t||"boolean"===typeof t?null:"function"===typeof t?t:Pe(""+t)}function Sd(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}for(var kd=0;kd<xi.length;kd++){var Ad=xi[kd];_i(Ad.toLowerCase(),"on"+(Ad[0].toUpperCase()+Ad.slice(1)))}_i(pi,"onAnimationEnd"),_i(fi,"onAnimationIteration"),_i(gi,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(mi,"onTransitionRun"),_i(vi,"onTransitionStart"),_i(bi,"onTransitionCancel"),_i(yi,"onTransitionEnd"),ee("onMouseEnter",["mouseout","mouseover"]),ee("onMouseLeave",["mouseout","mouseover"]),ee("onPointerEnter",["pointerout","pointerover"]),ee("onPointerLeave",["pointerout","pointerover"]),te("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),te("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),te("onBeforeInput",["compositionend","keypress","textInput","paste"]),te("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),te("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),te("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ed=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cd));function Td(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;t:{var r=void 0;if(e)for(var a=i.length-1;0<=a;a--){var o=i[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==r&&s.isPropagationStopped())break t;r=o,s.currentTarget=c;try{r(s)}catch(d){Ia(d)}s.currentTarget=null,r=l}else for(a=0;a<i.length;a++){if(l=(o=i[a]).instance,c=o.currentTarget,o=o.listener,l!==r&&s.isPropagationStopped())break t;r=o,s.currentTarget=c;try{r(s)}catch(d){Ia(d)}s.currentTarget=null,r=l}}}}function Pd(t,e){var n=e[jt];void 0===n&&(n=e[jt]=new Set);var i=t+"__bubble";n.has(i)||(Id(e,t,2,!1),n.add(i))}function Md(t,e,n){var i=0;e&&(i|=4),Id(n,t,i,e)}var Dd="_reactListening"+Math.random().toString(36).slice(2);function Rd(t){if(!t[Dd]){t[Dd]=!0,Jt.forEach((function(e){"selectionchange"!==e&&(Ed.has(e)||Md(e,!1,t),Md(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Dd]||(e[Dd]=!0,Md("selectionchange",!1,e))}}function Id(t,e,n,i){switch(Qu(e)){case 2:var s=Wu;break;case 8:s=Gu;break;default:s=qu}n=s.bind(null,e,n,t),s=void 0,!Ne||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(s=!0),i?void 0!==s?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):void 0!==s?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ld(t,e,n,i,s){var r=i;if(0===(1&e)&&0===(2&e)&&null!==i)t:for(;;){if(null===i)return;var a=i.tag;if(3===a||4===a){var o=i.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===a)for(a=i.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;a=a.return}for(;null!==o;){if(null===(a=qt(o)))return;if(5===(l=a.tag)||6===l||26===l||27===l){i=r=a;continue t}o=o.parentNode}}i=i.return}Fe((function(){var i=r,s=De(n),a=[];t:{var o=wi.get(t);if(void 0!==o){var l=Je,c=t;switch(t){case"keypress":if(0===$e(n))break t;case"keydown":case"keyup":l=fn;break;case"focusin":c="focus",l=rn;break;case"focusout":c="blur",l=rn;break;case"beforeblur":case"afterblur":l=rn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=mn;break;case pi:case fi:case gi:l=an;break;case yi:l=vn;break;case"scroll":case"scrollend":l=tn;break;case"wheel":l=bn;break;case"copy":case"cut":case"paste":l=on;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=gn;break;case"toggle":case"beforetoggle":l=yn}var d=0!==(4&e),u=!d&&("scroll"===t||"scrollend"===t),h=d?null!==o?o+"Capture":null:o;d=[];for(var p,f=i;null!==f;){var g=f;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===h||null!=(g=Be(f,h))&&d.push(Od(f,g,p)),u)break;f=f.return}0<d.length&&(o=new l(o,c,null,n,s),a.push({event:o,listeners:d}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(o="mouseover"===t||"pointerover"===t)||n===Me||!(c=n.relatedTarget||n.fromElement)||!qt(c)&&!c[Ut])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?qt(c):null)&&(u=B(c),d=c.tag,c!==u||5!==d&&27!==d&&6!==d)&&(c=null)):(l=null,c=i),l!==c)){if(d=nn,g="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==t&&"pointerover"!==t||(d=gn,g="onPointerLeave",h="onPointerEnter",f="pointer"),u=null==l?o:Kt(l),p=null==c?o:Kt(c),(o=new d(g,f+"leave",l,n,s)).target=u,o.relatedTarget=p,g=null,qt(s)===i&&((d=new d(h,f+"enter",c,n,s)).target=p,d.relatedTarget=u,g=d),u=g,l&&c)t:{for(h=c,f=0,p=d=l;p;p=Bd(p))f++;for(p=0,g=h;g;g=Bd(g))p++;for(;0<f-p;)d=Bd(d),f--;for(;0<p-f;)h=Bd(h),p--;for(;f--;){if(d===h||null!==h&&d===h.alternate)break t;d=Bd(d),h=Bd(h)}d=null}else d=null;null!==l&&Nd(a,o,l,d,!1),null!==c&&null!==u&&Nd(a,u,c,d,!0)}if("select"===(l=(o=i?Kt(i):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var m=Bn;else if(Dn(o))if(Nn)m=qn;else{m=Wn;var v=$n}else!(l=o.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?i&&Ce(i.elementType)&&(m=Bn):m=Gn;switch(m&&(m=m(t,i))?Rn(a,m,n,s):(v&&v(t,o,i),"focusout"===t&&i&&"number"===o.type&&null!=i.memoizedProps.value&&be(o,"number",o.value)),v=i?Kt(i):window,t){case"focusin":(Dn(v)||"true"===v.contentEditable)&&(ii=v,si=i,ri=null);break;case"focusout":ri=si=ii=null;break;case"mousedown":ai=!0;break;case"contextmenu":case"mouseup":case"dragend":ai=!1,oi(a,n,s);break;case"selectionchange":if(ni)break;case"keydown":case"keyup":oi(a,n,s)}var b;if(xn)t:{switch(t){case"compositionstart":var y="onCompositionStart";break t;case"compositionend":y="onCompositionEnd";break t;case"compositionupdate":y="onCompositionUpdate";break t}y=void 0}else Pn?En(t,n)&&(y="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(y="onCompositionStart");y&&(kn&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Pn&&(b=Ve()):(je="value"in(Ue=s)?Ue.value:Ue.textContent,Pn=!0)),0<(v=Fd(i,y)).length&&(y=new ln(y,t,null,n,s),a.push({event:y,listeners:v}),b?y.data=b:null!==(b=Tn(n))&&(y.data=b))),(b=Sn?function(t,e){switch(t){case"compositionend":return Tn(e);case"keypress":return 32!==e.which?null:(Cn=!0,An);case"textInput":return(t=e.data)===An&&Cn?null:t;default:return null}}(t,n):function(t,e){if(Pn)return"compositionend"===t||!xn&&En(t,e)?(t=Ve(),He=je=Ue=null,Pn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(y=Fd(i,"onBeforeInput")).length&&(v=new ln("onBeforeInput","beforeinput",null,n,s),a.push({event:v,listeners:y}),v.data=b)),function(t,e,n,i,s){if("submit"===e&&n&&n.stateNode===s){var r=_d((s[zt]||null).action),a=i.submitter;a&&null!==(e=(e=a[zt]||null)?_d(e.formAction):a.getAttribute("formAction"))&&(r=e,a=null);var o=new Je("action","action",null,i,s);t.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(0!==fd){var t=a?Sd(s,a):new FormData(s);da(n,{pending:!0,data:t,method:s.method,action:r},null,t)}}else"function"===typeof r&&(o.preventDefault(),t=a?Sd(s,a):new FormData(s),da(n,{pending:!0,data:t,method:s.method,action:r},r,t))},currentTarget:s}]})}}(a,t,i,n,s)}Td(a,e)}))}function Od(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fd(t,e){for(var n=e+"Capture",i=[];null!==t;){var s=t,r=s.stateNode;5!==(s=s.tag)&&26!==s&&27!==s||null===r||(null!=(s=Be(t,n))&&i.unshift(Od(t,s,r)),null!=(s=Be(t,e))&&i.push(Od(t,s,r))),t=t.return}return i}function Bd(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag&&27!==t.tag);return t||null}function Nd(t,e,n,i,s){for(var r=e._reactName,a=[];null!==n&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===i)break;5!==o&&26!==o&&27!==o||null===c||(l=c,s?null!=(c=Be(n,r))&&a.unshift(Od(n,c,l)):s||null!=(c=Be(n,r))&&a.push(Od(n,c,l))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}var zd=/\r\n?/g,Ud=/\u0000|\uFFFD/g;function jd(t){return("string"===typeof t?t:""+t).replace(zd,"\n").replace(Ud,"")}function Hd(t,e){return e=jd(e),jd(t)===e}function Vd(){}function $d(t,e,n,i,s,r){switch(n){case"children":"string"===typeof i?"body"===e||"textarea"===e&&""===i||_e(t,i):("number"===typeof i||"bigint"===typeof i)&&"body"!==e&&_e(t,""+i);break;case"className":oe(t,"class",i);break;case"tabIndex":oe(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":oe(t,n,i);break;case"style":Ae(t,i,r);break;case"data":if("object"!==e){oe(t,"data",i);break}case"src":case"href":if(""===i&&("a"!==e||"href"!==n)){t.removeAttribute(n);break}if(null==i||"function"===typeof i||"symbol"===typeof i||"boolean"===typeof i){t.removeAttribute(n);break}i=Pe(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if("function"===typeof i){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof r&&("formAction"===n?("input"!==e&&$d(t,e,"name",s.name,s,null),$d(t,e,"formEncType",s.formEncType,s,null),$d(t,e,"formMethod",s.formMethod,s,null),$d(t,e,"formTarget",s.formTarget,s,null)):($d(t,e,"encType",s.encType,s,null),$d(t,e,"method",s.method,s,null),$d(t,e,"target",s.target,s,null))),null==i||"symbol"===typeof i||"boolean"===typeof i){t.removeAttribute(n);break}i=Pe(""+i),t.setAttribute(n,i);break;case"onClick":null!=i&&(t.onclick=Vd);break;case"onScroll":null!=i&&Pd("scroll",t);break;case"onScrollEnd":null!=i&&Pd("scrollend",t);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(a(61));if(null!=(n=i.__html)){if(null!=s.children)throw Error(a(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"muted":t.muted=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"===typeof i||"boolean"===typeof i||"symbol"===typeof i){t.removeAttribute("xlink:href");break}n=Pe(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!==typeof i&&"symbol"!==typeof i?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!==typeof i&&"symbol"!==typeof i?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":!0===i?t.setAttribute(n,""):!1!==i&&null!=i&&"function"!==typeof i&&"symbol"!==typeof i?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"===typeof i||"symbol"===typeof i||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":Pd("beforetoggle",t),Pd("toggle",t),ae(t,"popover",i);break;case"xlinkActuate":le(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":le(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":le(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":le(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":le(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":le(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":le(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":le(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":le(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ae(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ae(t,n=Ee.get(n)||n,i)}}function Wd(t,e,n,i,s,r){switch(n){case"style":Ae(t,i,r);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(a(61));if(null!=(n=i.__html)){if(null!=s.children)throw Error(a(60));t.innerHTML=n}}break;case"children":"string"===typeof i?_e(t,i):("number"===typeof i||"bigint"===typeof i)&&_e(t,""+i);break;case"onScroll":null!=i&&Pd("scroll",t);break;case"onScrollEnd":null!=i&&Pd("scrollend",t);break;case"onClick":null!=i&&(t.onclick=Vd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Zt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(s=n.endsWith("Capture"),e=n.slice(2,s?n.length-7:void 0),"function"===typeof(r=null!=(r=t[zt]||null)?r[n]:null)&&t.removeEventListener(e,r,s),"function"!==typeof i)?n in t?t[n]=i:!0===i?t.setAttribute(n,""):ae(t,n,i):("function"!==typeof r&&null!==r&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,s)))}}function Gd(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pd("error",t),Pd("load",t);var i,s=!1,r=!1;for(i in n)if(n.hasOwnProperty(i)){var o=n[i];if(null!=o)switch(i){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,e));default:$d(t,e,i,o,n,null)}}return r&&$d(t,e,"srcSet",n.srcSet,n,null),void(s&&$d(t,e,"src",n.src,n,null));case"input":Pd("invalid",t);var l=i=o=r=null,c=null,d=null;for(s in n)if(n.hasOwnProperty(s)){var u=n[s];if(null!=u)switch(s){case"name":r=u;break;case"type":o=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":i=u;break;case"defaultValue":l=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(a(137,e));break;default:$d(t,e,s,u,n,null)}}return ve(t,i,l,c,d,o,r,!1),void ue(t);case"select":for(r in Pd("invalid",t),s=o=i=null,n)if(n.hasOwnProperty(r)&&null!=(l=n[r]))switch(r){case"value":i=l;break;case"defaultValue":o=l;break;case"multiple":s=l;default:$d(t,e,r,l,n,null)}return e=i,n=o,t.multiple=!!s,void(null!=e?ye(t,!!s,e,!1):null!=n&&ye(t,!!s,n,!0));case"textarea":for(o in Pd("invalid",t),i=r=s=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":s=l;break;case"defaultValue":r=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:$d(t,e,o,l,n,null)}return xe(t,s,r,i),void ue(t);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(s=n[c]))if("selected"===c)t.selected=s&&"function"!==typeof s&&"symbol"!==typeof s;else $d(t,e,c,s,n,null);return;case"dialog":Pd("cancel",t),Pd("close",t);break;case"iframe":case"object":Pd("load",t);break;case"video":case"audio":for(s=0;s<Cd.length;s++)Pd(Cd[s],t);break;case"image":Pd("error",t),Pd("load",t);break;case"details":Pd("toggle",t);break;case"embed":case"source":case"link":Pd("error",t),Pd("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&null!=(s=n[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,e));default:$d(t,e,d,s,n,null)}return;default:if(Ce(e)){for(u in n)n.hasOwnProperty(u)&&(void 0!==(s=n[u])&&Wd(t,e,u,s,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(s=n[l])&&$d(t,e,l,s,n,null))}var qd=null,Xd=null;function Kd(t){return 9===t.nodeType?t:t.ownerDocument}function Yd(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qd(t,e){if(0===t)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return 1===t&&"foreignObject"===e?0:t}function Jd(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"bigint"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var Zd=null;var tu="function"===typeof setTimeout?setTimeout:void 0,eu="function"===typeof clearTimeout?clearTimeout:void 0,nu="function"===typeof Promise?Promise:void 0,iu="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nu?function(t){return nu.resolve(null).then(t).catch(su)}:tu;function su(t){setTimeout((function(){throw t}))}function ru(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===i)return t.removeChild(s),void gh(e);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=s}while(n);gh(e)}function au(t){var e=t.firstChild;for(e&&10===e.nodeType&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":au(n),Gt(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}t.removeChild(n)}}function ou(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e||"F!"===e||"F"===e)break;if("/$"===e)return null}}return t}function lu(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}function cu(t,e,n){switch(e=Kd(n),t){case"html":if(!(t=e.documentElement))throw Error(a(452));return t;case"head":if(!(t=e.head))throw Error(a(453));return t;case"body":if(!(t=e.body))throw Error(a(454));return t;default:throw Error(a(451))}}var du=new Map,uu=new Set;function hu(t){return"function"===typeof t.getRootNode?t.getRootNode():t.ownerDocument}var pu=H.d;H.d={f:function(){var t=pu.f(),e=Nc();return t||e},r:function(t){var e=Xt(t);null!==e&&5===e.tag&&"form"===e.type?ha(e):pu.r(t)},D:function(t){pu.D(t),gu("dns-prefetch",t,null)},C:function(t,e){pu.C(t,e),gu("preconnect",t,e)},L:function(t,e,n){pu.L(t,e,n);var i=fu;if(i&&t&&e){var s='link[rel="preload"][as="'+ge(e)+'"]';"image"===e&&n&&n.imageSrcSet?(s+='[imagesrcset="'+ge(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(s+='[imagesizes="'+ge(n.imageSizes)+'"]')):s+='[href="'+ge(t)+'"]';var r=s;switch(e){case"style":r=vu(t);break;case"script":r=wu(t)}du.has(r)||(t=D({rel:"preload",href:"image"===e&&n&&n.imageSrcSet?void 0:t,as:e},n),du.set(r,t),null!==i.querySelector(s)||"style"===e&&i.querySelector(bu(r))||"script"===e&&i.querySelector(xu(r))||(Gd(e=i.createElement("link"),"link",t),Qt(e),i.head.appendChild(e)))}},m:function(t,e){pu.m(t,e);var n=fu;if(n&&t){var i=e&&"string"===typeof e.as?e.as:"script",s='link[rel="modulepreload"][as="'+ge(i)+'"][href="'+ge(t)+'"]',r=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=wu(t)}if(!du.has(r)&&(t=D({rel:"modulepreload",href:t},e),du.set(r,t),null===n.querySelector(s))){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(xu(r)))return}Gd(i=n.createElement("link"),"link",t),Qt(i),n.head.appendChild(i)}}},X:function(t,e){pu.X(t,e);var n=fu;if(n&&t){var i=Yt(n).hoistableScripts,s=wu(t),r=i.get(s);r||((r=n.querySelector(xu(s)))||(t=D({src:t,async:!0},e),(e=du.get(s))&&Au(t,e),Qt(r=n.createElement("script")),Gd(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}},S:function(t,e,n){pu.S(t,e,n);var i=fu;if(i&&t){var s=Yt(i).hoistableStyles,r=vu(t);e=e||"default";var a=s.get(r);if(!a){var o={loading:0,preload:null};if(a=i.querySelector(bu(r)))o.loading=5;else{t=D({rel:"stylesheet",href:t,"data-precedence":e},n),(n=du.get(r))&&ku(t,n);var l=a=i.createElement("link");Qt(l),Gd(l,"link",t),l._p=new Promise((function(t,e){l.onload=t,l.onerror=e})),l.addEventListener("load",(function(){o.loading|=1})),l.addEventListener("error",(function(){o.loading|=2})),o.loading|=4,Su(a,e,i)}a={type:"stylesheet",instance:a,count:1,state:o},s.set(r,a)}}},M:function(t,e){pu.M(t,e);var n=fu;if(n&&t){var i=Yt(n).hoistableScripts,s=wu(t),r=i.get(s);r||((r=n.querySelector(xu(s)))||(t=D({src:t,async:!0,type:"module"},e),(e=du.get(s))&&Au(t,e),Qt(r=n.createElement("script")),Gd(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}};var fu="undefined"===typeof document?null:document;function gu(t,e,n){var i=fu;if(i&&"string"===typeof e&&e){var s=ge(e);s='link[rel="'+t+'"][href="'+s+'"]',"string"===typeof n&&(s+='[crossorigin="'+n+'"]'),uu.has(s)||(uu.add(s),t={rel:t,crossOrigin:n,href:e},null===i.querySelector(s)&&(Gd(e=i.createElement("link"),"link",t),Qt(e),i.head.appendChild(e)))}}function mu(t,e,n,i){var s,r,o,l,c=(c=Q.current)?hu(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(e=vu(n.href),(i=(n=Yt(c).hoistableStyles).get(e))||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){t=vu(n.href);var d=Yt(c).hoistableStyles,u=d.get(t);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,u),(d=c.querySelector(bu(t)))&&!d._p&&(u.instance=d,u.state.loading=5),du.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},du.set(t,n),d||(s=c,r=t,o=n,l=u.state,s.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=s.createElement("link"),l.preload=r,r.addEventListener("load",(function(){return l.loading|=1})),r.addEventListener("error",(function(){return l.loading|=2})),Gd(r,"link",o),Qt(r),s.head.appendChild(r))))),e&&null===i)throw Error(a(528,""));return u}if(e&&null!==i)throw Error(a(529,""));return null;case"script":return e=n.async,"string"===typeof(n=n.src)&&e&&"function"!==typeof e&&"symbol"!==typeof e?(e=wu(n),(i=(n=Yt(c).hoistableScripts).get(e))||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function vu(t){return'href="'+ge(t)+'"'}function bu(t){return'link[rel="stylesheet"]['+t+"]"}function yu(t){return D({},t,{"data-precedence":t.precedence,precedence:null})}function wu(t){return'[src="'+ge(t)+'"]'}function xu(t){return"script[async]"+t}function _u(t,e,n){if(e.count++,null===e.instance)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+ge(n.href)+'"]');if(i)return e.instance=i,Qt(i),i;var s=D({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Qt(i=(t.ownerDocument||t).createElement("style")),Gd(i,"style",s),Su(i,n.precedence,t),e.instance=i;case"stylesheet":s=vu(n.href);var r=t.querySelector(bu(s));if(r)return e.state.loading|=4,e.instance=r,Qt(r),r;i=yu(n),(s=du.get(s))&&ku(i,s),Qt(r=(t.ownerDocument||t).createElement("link"));var o=r;return o._p=new Promise((function(t,e){o.onload=t,o.onerror=e})),Gd(r,"link",i),e.state.loading|=4,Su(r,n.precedence,t),e.instance=r;case"script":return r=wu(n.src),(s=t.querySelector(xu(r)))?(e.instance=s,Qt(s),s):(i=n,(s=du.get(r))&&Au(i=D({},n),s),Qt(s=(t=t.ownerDocument||t).createElement("script")),Gd(s,"link",i),t.head.appendChild(s),e.instance=s);case"void":return null;default:throw Error(a(443,e.type))}else"stylesheet"===e.type&&0===(4&e.state.loading)&&(i=e.instance,e.state.loading|=4,Su(i,n.precedence,t));return e.instance}function Su(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,r=s,a=0;a<i.length;a++){var o=i[a];if(o.dataset.precedence===e)r=o;else if(r!==s)break}r?r.parentNode.insertBefore(t,r.nextSibling):(e=9===n.nodeType?n.head:n).insertBefore(t,e.firstChild)}function ku(t,e){null==t.crossOrigin&&(t.crossOrigin=e.crossOrigin),null==t.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),null==t.title&&(t.title=e.title)}function Au(t,e){null==t.crossOrigin&&(t.crossOrigin=e.crossOrigin),null==t.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),null==t.integrity&&(t.integrity=e.integrity)}var Cu=null;function Eu(t,e,n){if(null===Cu){var i=new Map,s=Cu=new Map;s.set(n,i)}else(i=(s=Cu).get(n))||(i=new Map,s.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),s=0;s<n.length;s++){var r=n[s];if(!(r[Wt]||r[Nt]||"link"===t&&"stylesheet"===r.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==r.namespaceURI){var a=r.getAttribute(e)||"";a=t+a;var o=i.get(a);o?o.push(r):i.set(a,[r])}}return i}function Tu(t,e,n){(t=t.ownerDocument||t).head.insertBefore(n,"title"===e?t.querySelector("head > title"):null)}function Pu(t){return"stylesheet"!==t.type||0!==(3&t.state.loading)}var Mu=null;function Du(){}function Ru(){if(this.count--,0===this.count)if(this.stylesheets)Lu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}var Iu=null;function Lu(t,e){t.stylesheets=null,null!==t.unsuspend&&(t.count++,Iu=new Map,e.forEach(Ou,t),Iu=null,Ru.call(t))}function Ou(t,e){if(!(4&e.state.loading)){var n=Iu.get(t);if(n)var i=n.get(null);else{n=new Map,Iu.set(t,n);for(var s=t.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var a=s[r];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}a=(s=e.instance).getAttribute("data-precedence"),(r=n.get(a)||i)===i&&n.set(null,s),n.set(a,s),this.count++,i=Ru.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),r?r.parentNode.insertBefore(s,r.nextSibling):(t=9===t.nodeType?t.head:t).insertBefore(s,t.firstChild),e.state.loading|=4}}var Fu={$$typeof:m,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function Bu(t,e,n,i,s,r,a,o){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dt(0),this.hiddenUpdates=Dt(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Nu(t,e,n,i,s,r,a,o,l,c,d,u){return t=new Bu(t,e,n,a,o,l,c,u),e=1,!0===r&&(e|=24),r=Ol(3,null,null,e),t.current=r,r.stateNode=t,(e=Us()).refCount++,t.pooledCache=e,e.refCount++,r.memoizedState={element:i,isDehydrated:n,cache:e},Po(r),t}function zu(t){return t?t=Ri:Ri}function Uu(t,e,n,i,s,r){s=zu(s),null===i.context?i.context=s:i.pendingContext=s,(i=Do(e)).payload={element:n},null!==(r=void 0===r?null:r)&&(i.callback=r),null!==(n=Ro(t,i,e))&&(Rc(n,0,e),Io(n,t,e))}function ju(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Hu(t,e){ju(t,e),(t=t.alternate)&&ju(t,e)}function Vu(t){if(13===t.tag){var e=Pi(t,67108864);null!==e&&Rc(e,0,67108864),Hu(t,67108864)}}var $u=!0;function Wu(t,e,n,i){var s=M.T;M.T=null;var r=H.p;try{H.p=2,qu(t,e,n,i)}finally{H.p=r,M.T=s}}function Gu(t,e,n,i){var s=M.T;M.T=null;var r=H.p;try{H.p=8,qu(t,e,n,i)}finally{H.p=r,M.T=s}}function qu(t,e,n,i){if($u){var s=Xu(i);if(null===s)Ld(t,e,i,Ku,n),ah(t,i);else if(function(t,e,n,i,s){switch(e){case"focusin":return Zu=oh(Zu,t,e,n,i,s),!0;case"dragenter":return th=oh(th,t,e,n,i,s),!0;case"mouseover":return eh=oh(eh,t,e,n,i,s),!0;case"pointerover":var r=s.pointerId;return nh.set(r,oh(nh.get(r)||null,t,e,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,ih.set(r,oh(ih.get(r)||null,t,e,n,i,s)),!0}return!1}(s,t,e,n,i))i.stopPropagation();else if(ah(t,i),4&e&&-1<rh.indexOf(t)){for(;null!==s;){var r=Xt(s);if(null!==r)switch(r.tag){case 3:if((r=r.stateNode).current.memoizedState.isDehydrated){var a=At(r.pendingLanes);if(0!==a){var o=r;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-wt(a);o.entanglements[1]|=l,a&=~l}gd(r),0===(6&tc)&&(wc=lt()+500,md(0,!1))}}break;case 13:null!==(o=Pi(r,2))&&Rc(o,0,2),Nc(),Hu(r,2)}if(null===(r=Xu(i))&&Ld(t,e,i,Ku,n),r===s)break;s=r}null!==s&&i.stopPropagation()}else Ld(t,e,i,null,n)}}function Xu(t){return Yu(t=De(t))}var Ku=null;function Yu(t){if(Ku=null,null!==(t=qt(t))){var e=B(t);if(null===e)t=null;else{var n=e.tag;if(13===n){if(null!==(t=N(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Ku=t,null}function Qu(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ct()){case dt:return 2;case ut:return 8;case ht:case pt:return 32;case ft:return 268435456;default:return 32}default:return 32}}var Ju=!1,Zu=null,th=null,eh=null,nh=new Map,ih=new Map,sh=[],rh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ah(t,e){switch(t){case"focusin":case"focusout":Zu=null;break;case"dragenter":case"dragleave":th=null;break;case"mouseover":case"mouseout":eh=null;break;case"pointerover":case"pointerout":nh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ih.delete(e.pointerId)}}function oh(t,e,n,i,s,r){return null===t||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},null!==e&&(null!==(e=Xt(e))&&Vu(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,null!==s&&-1===e.indexOf(s)&&e.push(s),t)}function lh(t){var e=qt(t.target);if(null!==e){var n=B(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=N(n)))return t.blockedOn=e,void function(t,e){var n=H.p;try{return H.p=t,e()}finally{H.p=n}}(t.priority,(function(){if(13===n.tag){var t=Mc(),e=Pi(n,t);null!==e&&Rc(e,0,t),Hu(n,t)}}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function ch(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xu(t.nativeEvent);if(null!==n)return null!==(e=Xt(n))&&Vu(e),t.blockedOn=n,!1;var i=new(n=t.nativeEvent).constructor(n.type,n);Me=i,n.target.dispatchEvent(i),Me=null,e.shift()}return!0}function dh(t,e,n){ch(t)&&n.delete(e)}function uh(){Ju=!1,null!==Zu&&ch(Zu)&&(Zu=null),null!==th&&ch(th)&&(th=null),null!==eh&&ch(eh)&&(eh=null),nh.forEach(dh),ih.forEach(dh)}function hh(t,e){t.blockedOn===e&&(t.blockedOn=null,Ju||(Ju=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,uh)))}var ph=null;function fh(t){ph!==t&&(ph=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,(function(){ph===t&&(ph=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],s=t[e+2];if("function"!==typeof i){if(null===Yu(i||n))continue;break}var r=Xt(n);null!==r&&(t.splice(e,3),e-=3,da(r,{pending:!0,data:s,method:n.method,action:i},i,s))}})))}function gh(t){function e(e){return hh(e,t)}null!==Zu&&hh(Zu,t),null!==th&&hh(th,t),null!==eh&&hh(eh,t),nh.forEach(e),ih.forEach(e);for(var n=0;n<sh.length;n++){var i=sh[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<sh.length&&null===(n=sh[0]).blockedOn;)lh(n),null===n.blockedOn&&sh.shift();if(null!=(n=(t.ownerDocument||t).$$reactFormReplay))for(i=0;i<n.length;i+=3){var s=n[i],r=n[i+1],a=s[zt]||null;if("function"===typeof r)a||fh(n);else if(a){var o=null;if(r&&r.hasAttribute("formAction")){if(s=r,a=r[zt]||null)o=a.formAction;else if(null!==Yu(s))continue}else o=a.action;"function"===typeof o?n[i+1]=o:(n.splice(i,3),i-=3),fh(n)}}}function mh(t){this._internalRoot=t}function vh(t){this._internalRoot=t}vh.prototype.render=mh.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(a(409));Uu(e.current,Mc(),t,e,null,null)},vh.prototype.unmount=mh.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;0===t.tag&&ed(),Uu(t.current,2,null,t,null,null),Nc(),e[Ut]=null}},vh.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ft();t={blockedOn:null,target:t,priority:e};for(var n=0;n<sh.length&&0!==e&&e<sh[n].priority;n++);sh.splice(n,0,t),0===n&&lh(t)}};var bh=s.version;if("19.0.0"!==bh)throw Error(a(527,bh,"19.0.0"));H.findDOMNode=function(t){var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(a(188));throw t=Object.keys(t).join(","),Error(a(268,t))}return t=function(t){var e=t.alternate;if(!e){if(null===(e=B(t)))throw Error(a(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(null===s)break;var r=s.alternate;if(null===r){if(null!==(i=s.return)){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return z(s),t;if(r===i)return z(s),e;r=r.sibling}throw Error(a(188))}if(n.return!==i.return)n=s,i=r;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,i=r;break}if(l===i){o=!0,i=s,n=r;break}l=l.sibling}if(!o){for(l=r.child;l;){if(l===n){o=!0,n=r,i=s;break}if(l===i){o=!0,i=r,n=s;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==i)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}(e),t=null===(t=null!==t?U(t):null)?null:t.stateNode};var yh={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:M,findFiberByHostInstance:qt,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wh.isDisabled&&wh.supportsFiber)try{vt=wh.inject(yh),bt=wh}catch(_h){}}e.createRoot=function(t,e){if(!o(t))throw Error(a(299));var n=!1,i="",s=La,r=Oa,l=Fa;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(i=e.identifierPrefix),void 0!==e.onUncaughtError&&(s=e.onUncaughtError),void 0!==e.onCaughtError&&(r=e.onCaughtError),void 0!==e.onRecoverableError&&(l=e.onRecoverableError),void 0!==e.unstable_transitionCallbacks&&e.unstable_transitionCallbacks),e=Nu(t,1,!1,null,0,n,i,s,r,l,0,null),t[Ut]=e.current,Rd(8===t.nodeType?t.parentNode:t),new mh(e)},e.hydrateRoot=function(t,e,n){if(!o(t))throw Error(a(299));var i=!1,s="",r=La,l=Oa,c=Fa,d=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onUncaughtError&&(r=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(d=n.formState)),(e=Nu(t,1,!0,e,0,i,s,r,l,c,0,d)).context=zu(null),n=e.current,(s=Do(i=Mc())).callback=null,Ro(n,s,i),e.current.lanes=i,Rt(e,i),gd(e),t[Ut]=e.current,Rd(t),new vh(e)},e.version="19.0.0"},43:(t,e,n)=>{t.exports=n(288)},288:(t,e)=>{var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||f}function b(){}function y(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},b.prototype=v.prototype;var w=y.prototype=new b;w.constructor=y,g(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,_={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function k(t,e,i,s,r,a){return i=a.ref,{$$typeof:n,type:t,key:e,ref:void 0!==i?i:null,props:a}}function A(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var C=/\/+/g;function E(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function T(){}function P(t,e,s,r,a){var o=typeof t;"undefined"!==o&&"boolean"!==o||(t=null);var l,c,d=!1;if(null===t)d=!0;else switch(o){case"bigint":case"string":case"number":d=!0;break;case"object":switch(t.$$typeof){case n:case i:d=!0;break;case h:return P((d=t._init)(t._payload),e,s,r,a)}}if(d)return a=a(t),d=""===r?"."+E(t,0):r,x(a)?(s="",null!=d&&(s=d.replace(C,"$&/")+"/"),P(a,e,s,"",(function(t){return t}))):null!=a&&(A(a)&&(l=a,c=s+(null==a.key||t&&t.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+d,a=k(l.type,c,void 0,0,0,l.props)),e.push(a)),1;d=0;var u,f=""===r?".":r+":";if(x(t))for(var g=0;g<t.length;g++)d+=P(r=t[g],e,s,o=f+E(r,g),a);else if("function"===typeof(g=null===(u=t)||"object"!==typeof u?null:"function"===typeof(u=p&&u[p]||u["@@iterator"])?u:null))for(t=g.call(t),g=0;!(r=t.next()).done;)d+=P(r=r.value,e,s,o=f+E(r,g++),a);else if("object"===o){if("function"===typeof t.then)return P(function(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch("string"===typeof t.status?t.then(T,T):(t.status="pending",t.then((function(e){"pending"===t.status&&(t.status="fulfilled",t.value=e)}),(function(e){"pending"===t.status&&(t.status="rejected",t.reason=e)}))),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}(t),e,s,r,a);throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return d}function M(t,e,n){if(null==t)return t;var i=[],s=0;return P(t,i,"","",(function(t){return e.call(n,t,s++)})),i}function D(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var R="function"===typeof reportError?reportError:function(t){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof t&&null!==t&&"string"===typeof t.message?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",t);console.error(t)};function I(){}e.Children={map:M,forEach:function(t,e,n){M(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return M(t,(function(){e++})),e},toArray:function(t){return M(t,(function(t){return t}))||[]},only:function(t){if(!A(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=v,e.Fragment=s,e.Profiler=a,e.PureComponent=y,e.StrictMode=r,e.Suspense=d,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,e.act=function(){throw Error("act(...) is not supported in production builds of React.")},e.cache=function(t){return function(){return t.apply(null,arguments)}},e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error("The argument must be a React element, but you passed "+t+".");var i=g({},t.props),s=t.key;if(null!=e)for(r in void 0!==e.ref&&void 0,void 0!==e.key&&(s=""+e.key),e)!S.call(e,r)||"key"===r||"__self"===r||"__source"===r||"ref"===r&&void 0===e.ref||(i[r]=e[r]);var r=arguments.length-2;if(1===r)i.children=n;else if(1<r){for(var a=Array(r),o=0;o<r;o++)a[o]=arguments[o+2];i.children=a}return k(t.type,s,void 0,0,0,i)},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider=t,t.Consumer={$$typeof:o,_context:t},t},e.createElement=function(t,e,n){var i,s={},r=null;if(null!=e)for(i in void 0!==e.key&&(r=""+e.key),e)S.call(e,i)&&"key"!==i&&"__self"!==i&&"__source"!==i&&(s[i]=e[i]);var a=arguments.length-2;if(1===a)s.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];s.children=o}if(t&&t.defaultProps)for(i in a=t.defaultProps)void 0===s[i]&&(s[i]=a[i]);return k(t,r,void 0,0,0,s)},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=A,e.lazy=function(t){return{$$typeof:h,_payload:{_status:-1,_result:t},_init:D}},e.memo=function(t,e){return{$$typeof:u,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=_.T,n={};_.T=n;try{var i=t(),s=_.S;null!==s&&s(n,i),"object"===typeof i&&null!==i&&"function"===typeof i.then&&i.then(I,R)}catch(r){R(r)}finally{_.T=e}},e.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},e.use=function(t){return _.H.use(t)},e.useActionState=function(t,e,n){return _.H.useActionState(t,e,n)},e.useCallback=function(t,e){return _.H.useCallback(t,e)},e.useContext=function(t){return _.H.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t,e){return _.H.useDeferredValue(t,e)},e.useEffect=function(t,e){return _.H.useEffect(t,e)},e.useId=function(){return _.H.useId()},e.useImperativeHandle=function(t,e,n){return _.H.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return _.H.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return _.H.useLayoutEffect(t,e)},e.useMemo=function(t,e){return _.H.useMemo(t,e)},e.useOptimistic=function(t,e){return _.H.useOptimistic(t,e)},e.useReducer=function(t,e,n){return _.H.useReducer(t,e,n)},e.useRef=function(t){return _.H.useRef(t)},e.useState=function(t){return _.H.useState(t)},e.useSyncExternalStore=function(t,e,n){return _.H.useSyncExternalStore(t,e,n)},e.useTransition=function(){return _.H.useTransition()},e.version="19.0.0"},391:(t,e,n)=>{!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(4)},440:t=>{var e=function(){};t.exports=e},579:(t,e,n)=>{t.exports=n(799)},672:(t,e,n)=>{var i=n(43);function s(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(s(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(t,e){return"font"===t?"":"string"===typeof e?"use-credentials"===e?e:"":void 0}e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)throw Error(s(299));return function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.flushSync=function(t){var e=l.T,n=a.p;try{if(l.T=null,a.p=2,t)return t()}finally{l.T=e,a.p=n,a.d.f()}},e.preconnect=function(t,e){"string"===typeof t&&(e?e="string"===typeof(e=e.crossOrigin)?"use-credentials"===e?e:"":void 0:e=null,a.d.C(t,e))},e.prefetchDNS=function(t){"string"===typeof t&&a.d.D(t)},e.preinit=function(t,e){if("string"===typeof t&&e&&"string"===typeof e.as){var n=e.as,i=c(n,e.crossOrigin),s="string"===typeof e.integrity?e.integrity:void 0,r="string"===typeof e.fetchPriority?e.fetchPriority:void 0;"style"===n?a.d.S(t,"string"===typeof e.precedence?e.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:r}):"script"===n&&a.d.X(t,{crossOrigin:i,integrity:s,fetchPriority:r,nonce:"string"===typeof e.nonce?e.nonce:void 0})}},e.preinitModule=function(t,e){if("string"===typeof t)if("object"===typeof e&&null!==e){if(null==e.as||"script"===e.as){var n=c(e.as,e.crossOrigin);a.d.M(t,{crossOrigin:n,integrity:"string"===typeof e.integrity?e.integrity:void 0,nonce:"string"===typeof e.nonce?e.nonce:void 0})}}else null==e&&a.d.M(t)},e.preload=function(t,e){if("string"===typeof t&&"object"===typeof e&&null!==e&&"string"===typeof e.as){var n=e.as,i=c(n,e.crossOrigin);a.d.L(t,n,{crossOrigin:i,integrity:"string"===typeof e.integrity?e.integrity:void 0,nonce:"string"===typeof e.nonce?e.nonce:void 0,type:"string"===typeof e.type?e.type:void 0,fetchPriority:"string"===typeof e.fetchPriority?e.fetchPriority:void 0,referrerPolicy:"string"===typeof e.referrerPolicy?e.referrerPolicy:void 0,imageSrcSet:"string"===typeof e.imageSrcSet?e.imageSrcSet:void 0,imageSizes:"string"===typeof e.imageSizes?e.imageSizes:void 0,media:"string"===typeof e.media?e.media:void 0})}},e.preloadModule=function(t,e){if("string"===typeof t)if(e){var n=c(e.as,e.crossOrigin);a.d.m(t,{as:"string"===typeof e.as&&"script"!==e.as?e.as:void 0,crossOrigin:n,integrity:"string"===typeof e.integrity?e.integrity:void 0})}else a.d.m(t)},e.requestFormReset=function(t){a.d.r(t)},e.unstable_batchedUpdates=function(t,e){return t(e)},e.useFormState=function(t,e,n){return l.H.useFormState(t,e,n)},e.useFormStatus=function(){return l.H.useHostTransitionStatus()},e.version="19.0.0"},799:(t,e)=>{var n=Symbol.for("react.transitional.element");function i(t,e,i){var s=null;if(void 0!==i&&(s=""+i),void 0!==e.key&&(s=""+e.key),"key"in e)for(var r in i={},e)"key"!==r&&(i[r]=e[r]);else i=e;return e=i.ref,{$$typeof:n,type:t,key:s,ref:void 0!==e?e:null,props:i}}Symbol.for("react.fragment"),e.jsx=i,e.jsxs=i},853:(t,e,n)=>{t.exports=n(896)},896:(t,e)=>{function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var i=n-1>>>1,s=t[i];if(!(0<r(s,e)))break t;t[i]=e,t[n]=s,n=i}}function i(t){return 0===t.length?null:t[0]}function s(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var i=0,s=t.length,a=s>>>1;i<a;){var o=2*(i+1)-1,l=t[o],c=o+1,d=t[c];if(0>r(l,n))c<s&&0>r(d,l)?(t[i]=d,t[c]=n,i=c):(t[i]=l,t[o]=n,i=o);else{if(!(c<s&&0>r(d,n)))break t;t[i]=d,t[c]=n,i=c}}}return e}function r(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if(e.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,p=3,f=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function w(t){for(var e=i(d);null!==e;){if(null===e.callback)s(d);else{if(!(e.startTime<=t))break;s(d),e.sortIndex=e.expirationTime,n(c,e)}e=i(d)}}function x(t){if(m=!1,w(t),!g)if(null!==i(c))g=!0,D();else{var e=i(d);null!==e&&R(x,e.startTime-t)}}var _,S=!1,k=-1,A=5,C=-1;function E(){return!(e.unstable_now()-C<A)}function T(){if(S){var t=e.unstable_now();C=t;var n=!0;try{t:{g=!1,m&&(m=!1,b(k),k=-1),f=!0;var r=p;try{e:{for(w(t),h=i(c);null!==h&&!(h.expirationTime>t&&E());){var a=h.callback;if("function"===typeof a){h.callback=null,p=h.priorityLevel;var o=a(h.expirationTime<=t);if(t=e.unstable_now(),"function"===typeof o){h.callback=o,w(t),n=!0;break e}h===i(c)&&s(c),w(t)}else s(c);h=i(c)}if(null!==h)n=!0;else{var l=i(d);null!==l&&R(x,l.startTime-t),n=!1}}break t}finally{h=null,p=r,f=!1}n=void 0}}finally{n?_():S=!1}}}if("function"===typeof y)_=function(){y(T)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,M=P.port2;P.port1.onmessage=T,_=function(){M.postMessage(null)}}else _=function(){v(T,0)};function D(){S||(S=!0,_())}function R(t,n){k=v((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){g||f||(g=!0,D())},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return i(c)},e.unstable_next=function(t){switch(p){case 1:case 2:case 3:var e=3;break;default:e=p}var n=p;p=e;try{return t()}finally{p=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=p;p=t;try{return e()}finally{p=n}},e.unstable_scheduleCallback=function(t,s,r){var a=e.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?a+r:a:r=a,t){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return t={id:u++,callback:s,priorityLevel:t,startTime:r,expirationTime:o=r+o,sortIndex:-1},r>a?(t.sortIndex=r,n(d,t),null===i(c)&&t===i(d)&&(m?(b(k),k=-1):m=!0,R(x,r-a))):(t.sortIndex=o,n(c,t),g||f||(g=!0,D())),t},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(t){var e=p;return function(){var n=p;p=e;try{return t.apply(this,arguments)}finally{p=n}}}},950:(t,e,n)=>{!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(672)}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var r=e[i]={exports:{}};return t[i](r,r.exports,n),r.exports}n.m=t,(()=>{var t,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;n.t=function(i,s){if(1&s&&(i=this(i)),8&s)return i;if("object"===typeof i&&i){if(4&s&&i.__esModule)return i;if(16&s&&"function"===typeof i.then)return i}var r=Object.create(null);n.r(r);var a={};t=t||[null,e({}),e([]),e(e)];for(var o=2&s&&i;"object"==typeof o&&!~t.indexOf(o);o=e(o))Object.getOwnPropertyNames(o).forEach((t=>a[t]=()=>i[t]));return a.default=()=>i,n.d(r,a),r}})(),n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.f={},n.e=t=>Promise.all(Object.keys(n.f).reduce(((e,i)=>(n.f[i](t,e),e)),[])),n.u=t=>"static/js/"+t+".1407b060.chunk.js",n.miniCssF=t=>{},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={},e="portfolio:";n.l=(i,s,r,a)=>{if(t[i])t[i].push(s);else{var o,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==i||u.getAttribute("data-webpack")==e+r){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",e+r),o.src=i),t[i]=[s];var h=(e,n)=>{o.onerror=o.onload=null,clearTimeout(p);var s=t[i];if(delete t[i],o.parentNode&&o.parentNode.removeChild(o),s&&s.forEach((t=>t(n))),e)return e(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.p="/portfolio/",(()=>{var t={792:0};n.f.j=(e,i)=>{var s=n.o(t,e)?t[e]:void 0;if(0!==s)if(s)i.push(s[2]);else{var r=new Promise(((n,i)=>s=t[e]=[n,i]));i.push(s[2]=r);var a=n.p+n.u(e),o=new Error;n.l(a,(i=>{if(n.o(t,e)&&(0!==(s=t[e])&&(t[e]=void 0),s)){var r=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.src;o.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",o.name="ChunkLoadError",o.type=r,o.request=a,s[1](o)}}),"chunk-"+e,e)}};var e=(e,i)=>{var s,r,a=i[0],o=i[1],l=i[2],c=0;if(a.some((e=>0!==t[e]))){for(s in o)n.o(o,s)&&(n.m[s]=o[s]);if(l)l(n)}for(e&&e(i);c<a.length;c++)r=a[c],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0},i=self.webpackChunkportfolio=self.webpackChunkportfolio||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})();var i={};n.r(i),n.d(i,{dU:()=>Wd,ng:()=>Zr,EA:()=>_c,Tm:()=>td,D6:()=>Qc,YE:()=>Jc,rE:()=>od});var s,r=n(43),a=n.t(r,2),o=n(391),l=n(950),c=n.t(l,2);function d(){return d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},d.apply(this,arguments)}!function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(s||(s={}));const u="popstate";function h(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}function p(t,e){if(!t){"undefined"!==typeof console&&console.warn(e);try{throw new Error(e)}catch(n){}}}function f(t,e){return{usr:t.state,key:t.key,idx:e}}function g(t,e,n,i){return void 0===n&&(n=null),d({pathname:"string"===typeof t?t:t.pathname,search:"",hash:""},"string"===typeof e?v(e):e,{state:n,key:e&&e.key||i||Math.random().toString(36).substr(2,8)})}function m(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&"?"!==n&&(e+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(e+="#"===i.charAt(0)?i:"#"+i),e}function v(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function b(t,e,n,i){void 0===i&&(i={});let{window:r=document.defaultView,v5Compat:a=!1}=i,o=r.history,l=s.Pop,c=null,p=v();function v(){return(o.state||{idx:null}).idx}function b(){l=s.Pop;let t=v(),e=null==t?null:t-p;p=t,c&&c({action:l,location:w.location,delta:e})}function y(t){let e="null"!==r.location.origin?r.location.origin:r.location.href,n="string"===typeof t?t:m(t);return n=n.replace(/ $/,"%20"),h(e,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,e)}null==p&&(p=0,o.replaceState(d({},o.state,{idx:p}),""));let w={get action(){return l},get location(){return t(r,o)},listen(t){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(u,b),c=t,()=>{r.removeEventListener(u,b),c=null}},createHref:t=>e(r,t),createURL:y,encodeLocation(t){let e=y(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(t,e){l=s.Push;let i=g(w.location,t,e);n&&n(i,t),p=v()+1;let d=f(i,p),u=w.createHref(i);try{o.pushState(d,"",u)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;r.location.assign(u)}a&&c&&c({action:l,location:w.location,delta:1})},replace:function(t,e){l=s.Replace;let i=g(w.location,t,e);n&&n(i,t),p=v();let r=f(i,p),d=w.createHref(i);o.replaceState(r,"",d),a&&c&&c({action:l,location:w.location,delta:0})},go:t=>o.go(t)};return w}var y;!function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function w(t,e,n){return void 0===n&&(n="/"),x(t,e,n,!1)}function x(t,e,n,i){let s=O(("string"===typeof e?v(e):e).pathname||"/",n);if(null==s)return null;let r=_(t);!function(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let n=t.length===e.length&&t.slice(0,-1).every(((t,n)=>t===e[n]));return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}(r);let a=null;for(let o=0;null==a&&o<r.length;++o){let t=L(s);a=R(r[o],t,i)}return a}function _(t,e,n,i){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===i&&(i="");let s=(t,s,r)=>{let a={relativePath:void 0===r?t.path||"":r,caseSensitive:!0===t.caseSensitive,childrenIndex:s,route:t};a.relativePath.startsWith("/")&&(h(a.relativePath.startsWith(i),'Absolute route path "'+a.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(i.length));let o=U([i,a.relativePath]),l=n.concat(a);t.children&&t.children.length>0&&(h(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),_(t.children,e,l,o)),(null!=t.path||t.index)&&e.push({path:o,score:D(o,t.index),routesMeta:l})};return t.forEach(((t,e)=>{var n;if(""!==t.path&&null!=(n=t.path)&&n.includes("?"))for(let i of S(t.path))s(t,e,i);else s(t,e)})),e}function S(t){let e=t.split("/");if(0===e.length)return[];let[n,...i]=e,s=n.endsWith("?"),r=n.replace(/\?$/,"");if(0===i.length)return s?[r,""]:[r];let a=S(i.join("/")),o=[];return o.push(...a.map((t=>""===t?r:[r,t].join("/")))),s&&o.push(...a),o.map((e=>t.startsWith("/")&&""===e?"/":e))}const k=/^:[\w-]+$/,A=3,C=2,E=1,T=10,P=-2,M=t=>"*"===t;function D(t,e){let n=t.split("/"),i=n.length;return n.some(M)&&(i+=P),e&&(i+=C),n.filter((t=>!M(t))).reduce(((t,e)=>t+(k.test(e)?A:""===e?E:T)),i)}function R(t,e,n){void 0===n&&(n=!1);let{routesMeta:i}=t,s={},r="/",a=[];for(let o=0;o<i.length;++o){let t=i[o],l=o===i.length-1,c="/"===r?e:e.slice(r.length)||"/",d=I({path:t.relativePath,caseSensitive:t.caseSensitive,end:l},c),u=t.route;if(!d&&l&&n&&!i[i.length-1].route.index&&(d=I({path:t.relativePath,caseSensitive:t.caseSensitive,end:!1},c)),!d)return null;Object.assign(s,d.params),a.push({params:s,pathname:U([r,d.pathname]),pathnameBase:j(U([r,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(r=U([r,d.pathnameBase]))}return a}function I(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=function(t,e,n){void 0===e&&(e=!1);void 0===n&&(n=!0);p("*"===t||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were "'+t.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+t.replace(/\*$/,"/*")+'".');let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((t,e,n)=>(i.push({paramName:e,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));t.endsWith("*")?(i.push({paramName:"*"}),s+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==t&&"/"!==t&&(s+="(?:(?=\\/|$))");let r=new RegExp(s,e?void 0:"i");return[r,i]}(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let r=s[0],a=r.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:i.reduce(((t,e,n)=>{let{paramName:i,isOptional:s}=e;if("*"===i){let t=o[n]||"";a=r.slice(0,r.length-t.length).replace(/(.)\/+$/,"$1")}const l=o[n];return t[i]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),t}),{}),pathname:r,pathnameBase:a,pattern:t}}function L(t){try{return t.split("/").map((t=>decodeURIComponent(t).replace(/\//g,"%2F"))).join("/")}catch(e){return p(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+e+")."),t}}function O(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&"/"!==i?null:t.slice(n)||"/"}function F(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified `to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function B(t){return t.filter(((t,e)=>0===e||t.route.path&&t.route.path.length>0))}function N(t,e){let n=B(t);return e?n.map(((t,e)=>e===n.length-1?t.pathname:t.pathnameBase)):n.map((t=>t.pathnameBase))}function z(t,e,n,i){let s;void 0===i&&(i=!1),"string"===typeof t?s=v(t):(s=d({},t),h(!s.pathname||!s.pathname.includes("?"),F("?","pathname","search",s)),h(!s.pathname||!s.pathname.includes("#"),F("#","pathname","hash",s)),h(!s.search||!s.search.includes("#"),F("#","search","hash",s)));let r,a=""===t||""===s.pathname,o=a?"/":s.pathname;if(null==o)r=n;else{let t=e.length-1;if(!i&&o.startsWith("..")){let e=o.split("/");for(;".."===e[0];)e.shift(),t-=1;s.pathname=e.join("/")}r=t>=0?e[t]:"/"}let l=function(t,e){void 0===e&&(e="/");let{pathname:n,search:i="",hash:s=""}="string"===typeof t?v(t):t,r=n?n.startsWith("/")?n:function(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)})),n.length>1?n.join("/"):"/"}(n,e):e;return{pathname:r,search:H(i),hash:V(s)}}(s,r),c=o&&"/"!==o&&o.endsWith("/"),u=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const U=t=>t.join("/").replace(/\/\/+/g,"/"),j=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),H=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",V=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";Error;function $(t){return null!=t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"boolean"===typeof t.internal&&"data"in t}const W=["post","put","patch","delete"],G=(new Set(W),["get",...W]);new Set(G),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},q.apply(this,arguments)}const X=r.createContext(null);const K=r.createContext(null);const Y=r.createContext(null);const Q=r.createContext(null);const J=r.createContext({outlet:null,matches:[],isDataRoute:!1});const Z=r.createContext(null);function tt(){return null!=r.useContext(Q)}function et(){return tt()||h(!1),r.useContext(Q).location}function nt(t){r.useContext(Y).static||r.useLayoutEffect(t)}function it(){let{isDataRoute:t}=r.useContext(J);return t?function(){let{router:t}=ht(dt.UseNavigateStable),e=ft(ut.UseNavigateStable),n=r.useRef(!1);return nt((()=>{n.current=!0})),r.useCallback((function(i,s){void 0===s&&(s={}),n.current&&("number"===typeof i?t.navigate(i):t.navigate(i,q({fromRouteId:e},s)))}),[t,e])}():function(){tt()||h(!1);let t=r.useContext(X),{basename:e,future:n,navigator:i}=r.useContext(Y),{matches:s}=r.useContext(J),{pathname:a}=et(),o=JSON.stringify(N(s,n.v7_relativeSplatPath)),l=r.useRef(!1);return nt((()=>{l.current=!0})),r.useCallback((function(n,s){if(void 0===s&&(s={}),!l.current)return;if("number"===typeof n)return void i.go(n);let r=z(n,JSON.parse(o),a,"path"===s.relative);null==t&&"/"!==e&&(r.pathname="/"===r.pathname?e:U([e,r.pathname])),(s.replace?i.replace:i.push)(r,s.state,s)}),[e,i,o,a,t])}()}function st(t,e,n,i){tt()||h(!1);let{navigator:a,static:o}=r.useContext(Y),{matches:l}=r.useContext(J),c=l[l.length-1],d=c?c.params:{},u=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let p,f=et();if(e){var g;let t="string"===typeof e?v(e):e;"/"===u||(null==(g=t.pathname)?void 0:g.startsWith(u))||h(!1),p=t}else p=f;let m=p.pathname||"/",b=m;if("/"!==u){let t=u.replace(/^\//,"").split("/");b="/"+m.replace(/^\//,"").split("/").slice(t.length).join("/")}let y=!o&&n&&n.matches&&n.matches.length>0?n.matches:w(t,{pathname:b});let x=ct(y&&y.map((t=>Object.assign({},t,{params:Object.assign({},d,t.params),pathname:U([u,a.encodeLocation?a.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?u:U([u,a.encodeLocation?a.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])}))),l,n,i);return e&&x?r.createElement(Q.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:s.Pop}},x):x}function rt(){let t=function(){var t;let e=r.useContext(Z),n=pt(ut.UseRouteError),i=ft(ut.UseRouteError);if(void 0!==e)return e;return null==(t=n.errors)?void 0:t[i]}(),e=$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},e),n?r.createElement("pre",{style:s},n):null,null)}const at=r.createElement(rt,null);class ot extends r.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:void 0!==t.error?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return void 0!==this.state.error?r.createElement(J.Provider,{value:this.props.routeContext},r.createElement(Z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lt(t){let{routeContext:e,match:n,children:i}=t,s=r.useContext(X);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(J.Provider,{value:e},i)}function ct(t,e,n,i){var s;if(void 0===e&&(e=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==t){var a;if(!n)return null;if(n.errors)t=n.matches;else{if(!(null!=(a=i)&&a.v7_partialHydration&&0===e.length&&!n.initialized&&n.matches.length>0))return null;t=n.matches}}let o=t,l=null==(s=n)?void 0:s.errors;if(null!=l){let t=o.findIndex((t=>t.route.id&&void 0!==(null==l?void 0:l[t.route.id])));t>=0||h(!1),o=o.slice(0,Math.min(o.length,t+1))}let c=!1,d=-1;if(n&&i&&i.v7_partialHydration)for(let r=0;r<o.length;r++){let t=o[r];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(d=r),t.route.id){let{loaderData:e,errors:i}=n,s=t.route.loader&&void 0===e[t.route.id]&&(!i||void 0===i[t.route.id]);if(t.route.lazy||s){c=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight(((t,i,s)=>{let a,u=!1,h=null,p=null;var f;n&&(a=l&&i.route.id?l[i.route.id]:void 0,h=i.route.errorElement||at,c&&(d<0&&0===s?(f="route-fallback",!1||gt[f]||(gt[f]=!0),u=!0,p=null):d===s&&(u=!0,p=i.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,s+1)),m=()=>{let e;return e=a?h:u?p:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:t,r.createElement(lt,{match:i,routeContext:{outlet:t,matches:g,isDataRoute:null!=n},children:e})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?r.createElement(ot,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()}),null)}var dt=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(dt||{}),ut=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ut||{});function ht(t){let e=r.useContext(X);return e||h(!1),e}function pt(t){let e=r.useContext(K);return e||h(!1),e}function ft(t){let e=function(){let t=r.useContext(J);return t||h(!1),t}(),n=e.matches[e.matches.length-1];return n.route.id||h(!1),n.route.id}const gt={};function mt(t,e){null==t||t.v7_startTransition,void 0===(null==t?void 0:t.v7_relativeSplatPath)&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}a.startTransition;function vt(t){h(!1)}function bt(t){let{basename:e="/",children:n=null,location:i,navigationType:a=s.Pop,navigator:o,static:l=!1,future:c}=t;tt()&&h(!1);let d=e.replace(/^\/*/,"/"),u=r.useMemo((()=>({basename:d,navigator:o,static:l,future:q({v7_relativeSplatPath:!1},c)})),[d,c,o,l]);"string"===typeof i&&(i=v(i));let{pathname:p="/",search:f="",hash:g="",state:m=null,key:b="default"}=i,y=r.useMemo((()=>{let t=O(p,d);return null==t?null:{location:{pathname:t,search:f,hash:g,state:m,key:b},navigationType:a}}),[d,p,f,g,m,b,a]);return null==y?null:r.createElement(Y.Provider,{value:u},r.createElement(Q.Provider,{children:n,value:y}))}function yt(t){let{children:e,location:n}=t;return st(wt(e),n)}new Promise((()=>{}));r.Component;function wt(t,e){void 0===e&&(e=[]);let n=[];return r.Children.forEach(t,((t,i)=>{if(!r.isValidElement(t))return;let s=[...e,i];if(t.type===r.Fragment)return void n.push.apply(n,wt(t.props.children,s));t.type!==vt&&h(!1),t.props.index&&t.props.children&&h(!1);let a={id:t.props.id||s.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(a.children=wt(t.props.children,s)),n.push(a)})),n}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(gh){}new Map;const xt=a.startTransition;c.flushSync,a.useId;function _t(t){let{basename:e,children:n,future:i,window:s}=t,a=r.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),b((function(t,e){let{pathname:n,search:i,hash:s}=t.location;return g("",{pathname:n,search:i,hash:s},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(t,e){return"string"===typeof e?e:m(e)}),null,o)));let l=a.current,[c,d]=r.useState({action:l.action,location:l.location}),{v7_startTransition:u}=i||{},h=r.useCallback((t=>{u&&xt?xt((()=>d(t))):d(t)}),[d,u]);return r.useLayoutEffect((()=>l.listen(h)),[l,h]),r.useEffect((()=>mt(i)),[i]),r.createElement(bt,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:l,future:i})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var St,kt;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(St||(St={})),function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"}(kt||(kt={}));var At={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ct=r.createContext&&r.createContext(At),Et=["attr","size","title"];function Tt(t,e){if(null==t)return{};var n,i,s=function(t,e){if(null==t)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function Pt(){return Pt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Pt.apply(this,arguments)}function Mt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Dt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mt(Object(n),!0).forEach((function(e){Rt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Rt(t,e,n){return e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function It(t){return t&&t.map(((t,e)=>r.createElement(t.tag,Dt({key:e},t.attr),It(t.child))))}function Lt(t){return e=>r.createElement(Ot,Pt({attr:Dt({},t.attr)},e),It(t.child))}function Ot(t){var e=e=>{var n,{attr:i,size:s,title:a}=t,o=Tt(t,Et),l=s||e.size||"1em";return e.className&&(n=e.className),t.className&&(n=(n?n+" ":"")+t.className),r.createElement("svg",Pt({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,o,{className:n,style:Dt(Dt({color:t.color||e.color},e.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&r.createElement("title",null,a),t.children)};return void 0!==Ct?r.createElement(Ct.Consumer,null,(t=>e(t))):e(At)}function Ft(t){return Lt({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.5921 9.1962s-.354-3.298-3.627-3.39c-3.2741-.09-4.9552 2.474-4.9552 6.14 0 3.6651 1.858 6.5972 5.0451 6.5972 3.184 0 3.5381-3.665 3.5381-3.665l6.1041.365s.36 3.31-2.196 5.836c-2.552 2.5241-5.6901 2.9371-7.8762 2.9201-2.19-.017-5.2261.034-8.1602-2.97-2.938-3.0101-3.436-5.9302-3.436-8.8002 0-2.8701.556-6.6702 4.047-9.5502C7.444.72 9.849 0 12.254 0c10.0422 0 10.7172 9.2602 10.7172 9.2602z"},child:[]}]})(t)}function Bt(t){return Lt({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M22.394 6c-.167-.29-.398-.543-.652-.69L12.926.22c-.509-.294-1.34-.294-1.848 0L2.26 5.31c-.508.293-.923 1.013-.923 1.6v10.18c0 .294.104.62.271.91.167.29.398.543.652.69l8.816 5.09c.508.293 1.34.293 1.848 0l8.816-5.09c.254-.147.485-.4.652-.69.167-.29.27-.616.27-.91V6.91c.003-.294-.1-.62-.268-.91zM12 19.11c-3.92 0-7.109-3.19-7.109-7.11 0-3.92 3.19-7.11 7.11-7.11a7.133 7.133 0 016.156 3.553l-3.076 1.78a3.567 3.567 0 00-3.08-1.78A3.56 3.56 0 008.444 12 3.56 3.56 0 0012 15.555a3.57 3.57 0 003.08-1.778l3.078 1.78A7.135 7.135 0 0112 19.11zm7.11-6.715h-.79v.79h-.79v-.79h-.79v-.79h.79v-.79h.79v.79h.79zm2.962 0h-.79v.79h-.79v-.79h-.79v-.79h.79v-.79h.79v.79h.79z"},child:[]}]})(t)}function Nt(t){return Lt({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M24 5.457v13.909c0 .904-.732 1.636-1.636 1.636h-3.819V11.73L12 16.64l-6.545-4.91v9.273H1.636A1.636 1.636 0 0 1 0 19.366V5.457c0-2.023 2.309-3.178 3.927-1.964L5.455 4.64 12 9.548l6.545-4.91 1.528-1.145C21.69 2.28 24 3.434 24 5.457z"},child:[]}]})(t)}function zt(t){return Lt({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z"},child:[]}]})(t)}function Ut(t){return Lt({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function jt(t){return Lt({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 53.2 242.84 0 242.84 0c21.5 84.5-75.6 110.1-110.7 162.6-23.9 35.9 11.7 74.4 60.2 118.2zm114.6-176.2c.1 0-175.2 43.8-91.5 140.2 24.7 28.4-6.5 54-6.5 54s62.7-32.4 33.9-72.9c-26.9-37.8-47.5-56.6 64.1-121.3zm-6.1 270.5a12.19 12.19 0 0 1-2 2.6c128.3-33.7 81.1-118.9 19.8-97.3a17.33 17.33 0 0 0-8.2 6.3 70.45 70.45 0 0 1 11-3c31-6.5 75.5 41.5-20.6 91.4zM348 437.4s14.5 11.9-15.9 21.2c-57.9 17.5-240.8 22.8-291.6.7-18.3-7.9 16-19 26.8-21.3 11.2-2.4 17.7-2 17.7-2-20.3-14.3-131.3 28.1-56.4 40.2C232.84 509.4 401 461.3 348 437.4zM124.44 396c-78.7 22 47.9 67.4 148.1 24.5a185.89 185.89 0 0 1-28.2-13.8c-44.7 8.5-65.4 9.1-106 4.5-33.5-3.8-13.9-15.2-13.9-15.2zm179.8 97.2c-78.7 14.8-175.8 13.1-233.3 3.6 0-.1 11.8 9.7 72.4 13.6 92.2 5.9 233.8-3.3 237.1-46.9 0 0-6.4 16.5-76.2 29.7zM260.64 353c-59.2 11.4-93.5 11.1-136.8 6.6-33.5-3.5-11.6-19.7-11.6-19.7-86.8 28.8 48.2 61.4 169.5 25.9a60.37 60.37 0 0 1-21.1-12.8z"},child:[]}]})(t)}function Ht(t){return Lt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function Vt(t){return Lt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function $t(t){return Lt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}function Wt(t){return Lt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}const Gt="generated",qt="pointerleave",Xt="pointermove",Kt="touchend",Yt="tsParticles - Error";class Qt{constructor(t,e,n){if(this._updateFromAngle=(t,e)=>{this.x=Math.cos(t)*e,this.y=Math.sin(t)*e},!je(t)&&t){this.x=t.x,this.y=t.y;const e=t;this.z=e.z?e.z:0}else{if(void 0===t||void 0===e)throw new Error(`${Yt} Vector3d not initialized correctly`);this.x=t,this.y=e,this.z=n??0}}static get origin(){return Qt.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(t){this._updateFromAngle(t,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(t){this._updateFromAngle(this.angle,t)}static clone(t){return Qt.create(t.x,t.y,t.z)}static create(t,e,n){return new Qt(t,e,n)}add(t){return Qt.create(this.x+t.x,this.y+t.y,this.z+t.z)}addTo(t){this.x+=t.x,this.y+=t.y,this.z+=t.z}copy(){return Qt.clone(this)}distanceTo(t){return this.sub(t).length}distanceToSq(t){return this.sub(t).getLengthSq()}div(t){return Qt.create(this.x/t,this.y/t,this.z/t)}divTo(t){this.x/=t,this.y/=t,this.z/=t}getLengthSq(){return this.x**2+this.y**2}mult(t){return Qt.create(this.x*t,this.y*t,this.z*t)}multTo(t){this.x*=t,this.y*=t,this.z*=t}normalize(){const t=this.length;0!=t&&this.multTo(1/t)}rotate(t){return Qt.create(this.x*Math.cos(t)-this.y*Math.sin(t),this.x*Math.sin(t)+this.y*Math.cos(t),0)}setTo(t){this.x=t.x,this.y=t.y;const e=t;this.z=e.z?e.z:0}sub(t){return Qt.create(this.x-t.x,this.y-t.y,this.z-t.z)}subFrom(t){this.x-=t.x,this.y-=t.y,this.z-=t.z}}class Jt extends Qt{constructor(t,e){super(t,e,0)}static get origin(){return Jt.create(0,0)}static clone(t){return Jt.create(t.x,t.y)}static create(t,e){return new Jt(t,e)}}let Zt=Math.random;const te=new Map;function ee(t,e){te.get(t)||te.set(t,e)}function ne(t){return te.get(t)||(t=>t)}function ie(){return se(Zt(),0,1-1e-16)}function se(t,e,n){return Math.min(Math.max(t,e),n)}function re(t,e,n,i){return Math.floor((t*n+e*i)/(n+i))}function ae(t){const e=ce(t);let n=le(t);return e===n&&(n=0),ie()*(e-n)+n}function oe(t){return je(t)?t:ae(t)}function le(t){return je(t)?t:t.min}function ce(t){return je(t)?t:t.max}function de(t,e){if(t===e||void 0===e&&je(t))return t;const n=le(t),i=ce(t);return void 0!==e?{min:Math.min(n,e),max:Math.max(i,e)}:de(n,i)}function ue(t){const e=t.random,{enable:n,minimumValue:i}=ze(e)?{enable:e,minimumValue:0}:e;return oe(n?de(t.value,i):t.value)}function he(t,e){const n=t.x-e.x,i=t.y-e.y;return{dx:n,dy:i,distance:Math.sqrt(n**2+i**2)}}function pe(t,e){return he(t,e).distance}function fe(t,e,n,i){return Jt.create(t.x*(n-i)/(n+i)+2*e.x*i/(n+i),t.y)}function ge(t){return{x:t.position?.x??ie()*t.size.width,y:t.position?.y??ie()*t.size.height}}function me(t){return t?t.endsWith("%")?parseFloat(t)/100:parseFloat(t):1}const ve={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function be(){return ve}function ye(t){const e={bounced:!1},{pSide:n,pOtherSide:i,rectSide:s,rectOtherSide:r,velocity:a,factor:o}=t;return i.min<r.min||i.min>r.max||i.max<r.min||i.max>r.max||(n.max>=s.min&&n.max<=(s.max+s.min)/2&&a>0||n.min<=s.max&&n.min>(s.max+s.min)/2&&a<0)&&(e.velocity=a*-o,e.bounced=!0),e}function we(){return"undefined"===typeof window||!window||"undefined"===typeof window.document||!window.document}function xe(t){if(!we()&&"undefined"!==typeof matchMedia)return matchMedia(t)}function _e(t,e){return t===e||$e(e)&&e.indexOf(t)>-1}function Se(t,e){return t[void 0!==e&&(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])?e%t.length:function(t){return Math.floor(ie()*t.length)}(t)]}function ke(t,e,n,i,s){return function(t,e,n,i){let s=!0;i&&"bottom"!==i||(s=t.top<e.height+n.x);!s||i&&"left"!==i||(s=t.right>n.x);!s||i&&"right"!==i||(s=t.left<e.width+n.y);!s||i&&"top"!==i||(s=t.bottom>n.y);return s}(Ae(t,i??0),e,n,s)}function Ae(t,e){return{bottom:t.y+e,left:t.x-e,right:t.x+e,top:t.y-e}}function Ce(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const s of n){if(void 0===s||null===s)continue;if(!Ve(s)){t=s;continue}const e=Array.isArray(s);!e||!Ve(t)&&t&&Array.isArray(t)?e||!Ve(t)&&t&&!Array.isArray(t)||(t={}):t=[];for(const n in s){if("__proto__"===n)continue;const e=s[n],i=t;i[n]=Ve(e)&&Array.isArray(e)?e.map((t=>Ce(i[n],t))):Ce(i[n],e)}}return t}function Ee(t,e){return!!Oe(e,(e=>e.enable&&_e(t,e.mode)))}function Te(t,e,n){Ie(e,(e=>{const i=e.mode;e.enable&&_e(t,i)&&function(t,e){const n=t.selectors;Ie(n,(n=>{e(n,t)}))}(e,n)}))}function Pe(t,e){if(e&&t)return Oe(t,(t=>function(t,e){const n=Ie(e,(e=>t.matches(e)));return $e(n)?n.some((t=>t)):n}(e,t.selectors)))}function Me(t){return{position:t.getPosition(),radius:t.getRadius(),mass:t.getMass(),velocity:t.velocity,factor:Jt.create(ue(t.options.bounce.horizontal),ue(t.options.bounce.vertical))}}function De(t,e){const{x:n,y:i}=t.velocity.sub(e.velocity),[s,r]=[t.position,e.position],{dx:a,dy:o}=he(r,s);if(n*a+i*o<0)return;const l=-Math.atan2(o,a),c=t.mass,d=e.mass,u=t.velocity.rotate(l),h=e.velocity.rotate(l),p=fe(u,h,c,d),f=fe(h,u,c,d),g=p.rotate(-l),m=f.rotate(-l);t.velocity.x=g.x*t.factor.x,t.velocity.y=g.y*t.factor.y,e.velocity.x=m.x*e.factor.x,e.velocity.y=m.y*e.factor.y}function Re(t,e){const n=Ae(t.getPosition(),t.getRadius()),i=ye({pSide:{min:n.left,max:n.right},pOtherSide:{min:n.top,max:n.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:t.velocity.x,factor:ue(t.options.bounce.horizontal)});i.bounced&&(void 0!==i.velocity&&(t.velocity.x=i.velocity),void 0!==i.position&&(t.position.x=i.position));const s=ye({pSide:{min:n.top,max:n.bottom},pOtherSide:{min:n.left,max:n.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:t.velocity.y,factor:ue(t.options.bounce.vertical)});s.bounced&&(void 0!==s.velocity&&(t.velocity.y=s.velocity),void 0!==s.position&&(t.position.y=s.position))}function Ie(t,e){return $e(t)?t.map(((t,n)=>e(t,n))):e(t,0)}function Le(t,e,n){return $e(t)?Se(t,e,n):t}function Oe(t,e){return $e(t)?t.find(((t,n)=>e(t,n))):e(t,0)?t:void 0}function Fe(t,e){const n=t.value,i=t.animation,s={delayTime:1e3*oe(i.delay),enable:i.enable,value:oe(t.value)*e,max:ce(n)*e,min:le(n)*e,loops:0,maxLoops:oe(i.count),time:0};if(i.enable){switch(s.decay=1-oe(i.decay),i.mode){case"increase":s.status="increasing";break;case"decrease":s.status="decreasing";break;case"random":s.status=ie()>=.5?"increasing":"decreasing"}const t="auto"===i.mode;switch(i.startValue){case"min":s.value=s.min,t&&(s.status="increasing");break;case"max":s.value=s.max,t&&(s.status="decreasing");break;default:s.value=ae(s),t&&(s.status=ie()>=.5?"increasing":"decreasing")}}return s.initialValue=s.value,s}function Be(t,e){if(!("percent"===t.mode)){const{mode:e,...n}=t;return n}return"x"in t?{x:t.x/100*e.width,y:t.y/100*e.height}:{width:t.width/100*e.width,height:t.height/100*e.height}}function Ne(t,e){return Be(t,e)}function ze(t){return"boolean"===typeof t}function Ue(t){return"string"===typeof t}function je(t){return"number"===typeof t}function He(t){return"function"===typeof t}function Ve(t){return"object"===typeof t&&null!==t}function $e(t){return Array.isArray(t)}const We="random",Ge="mid",qe=new Map;function Xe(t){qe.set(t.key,t)}function Ke(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Ye(t){for(const[,i]of qe)if(t.startsWith(i.stringPrefix))return i.parseString(t);const e=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,((t,e,n,i,s)=>e+e+n+n+i+i+(void 0!==s?s+s:""))),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(e);return n?{a:void 0!==n[4]?parseInt(n[4],16)/255:1,b:parseInt(n[3],16),g:parseInt(n[2],16),r:parseInt(n[1],16)}:void 0}function Qe(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t)return;const i=Ue(t)?{value:t}:t;if(Ue(i.value))return Je(i.value,e,n);if($e(i.value))return Qe({value:Se(i.value,e,n)});for(const[,s]of qe){const t=s.handleRangeColor(i);if(t)return t}}function Je(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t)return;const i=Ue(t)?{value:t}:t;if(Ue(i.value))return i.value===We?nn():function(t){return Ye(t)}(i.value);if($e(i.value))return Je({value:Se(i.value,e,n)});for(const[,s]of qe){const t=s.handleColor(i);if(t)return t}}function Ze(t,e){const n=Qe(t,e,!(arguments.length>2&&void 0!==arguments[2])||arguments[2]);return n?tn(n):void 0}function tn(t){const e=t.r/255,n=t.g/255,i=t.b/255,s=Math.max(e,n,i),r=Math.min(e,n,i),a={h:0,l:(s+r)/2,s:0};return s!==r&&(a.s=a.l<.5?(s-r)/(s+r):(s-r)/(2-s-r),a.h=e===s?(n-i)/(s-r):a.h=n===s?2+(i-e)/(s-r):4+(e-n)/(s-r)),a.l*=100,a.s*=100,a.h*=60,a.h<0&&(a.h+=360),a.h>=360&&(a.h-=360),a}function en(t){const e={b:0,g:0,r:0},n={h:t.h/360,l:t.l/100,s:t.s/100};if(n.s){const t=n.l<.5?n.l*(1+n.s):n.l+n.s-n.l*n.s,i=2*n.l-t;e.r=Ke(i,t,n.h+1/3),e.g=Ke(i,t,n.h),e.b=Ke(i,t,n.h-1/3)}else e.r=e.g=e.b=n.l;return e.r=Math.floor(255*e.r),e.g=Math.floor(255*e.g),e.b=Math.floor(255*e.b),e}function nn(t){const e=t??0;return{b:Math.floor(ae(de(e,256))),g:Math.floor(ae(de(e,256))),r:Math.floor(ae(de(e,256)))}}function sn(t,e){return`rgba(${t.r}, ${t.g}, ${t.b}, ${e??1})`}function rn(t,e){return`hsla(${t.h}, ${t.s}%, ${t.l}%, ${e??1})`}function an(t,e,n,i){let s=t,r=e;return void 0===s.r&&(s=en(t)),void 0===r.r&&(r=en(e)),{b:re(s.b,r.b,n,i),g:re(s.g,r.g,n,i),r:re(s.r,r.r,n,i)}}function on(t,e,n){if(n===We)return nn();if(n!==Ge)return n;{const n=t.getFillColor()??t.getStrokeColor(),i=e?.getFillColor()??e?.getStrokeColor();if(n&&i&&e)return an(n,i,t.getRadius(),e.getRadius());{const t=n??i;if(t)return en(t)}}}function ln(t,e,n){const i=Ue(t)?t:t.value;return i===We?n?Qe({value:i}):e?We:Ge:i===Ge?Ge:Qe({value:i})}function cn(t){return void 0!==t?{h:t.h.value,s:t.s.value,l:t.l.value}:void 0}function dn(t,e,n){const i={h:{enable:!1,value:t.h},s:{enable:!1,value:t.s},l:{enable:!1,value:t.l}};return e&&(un(i.h,e.h,n),un(i.s,e.s,n),un(i.l,e.l,n)),i}function un(t,e,n){t.enable=e.enable,t.enable?(t.velocity=oe(e.speed)/100*n,t.decay=1-oe(e.decay),t.status="increasing",t.loops=0,t.maxLoops=oe(e.count),t.time=0,t.delayTime=1e3*oe(e.delay),e.sync||(t.velocity*=ie(),t.value*=ie()),t.initialValue=t.value):t.velocity=0}function hn(t,e,n){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.closePath()}function pn(t,e){t.clearRect(0,0,e.width,e.height)}function fn(t,e,n){const i=e[n];void 0!==i&&(t[n]=(t[n]??1)*i)}class gn{constructor(t){this.container=t,this._applyPostDrawUpdaters=t=>{for(const e of this._postDrawUpdaters)e.afterDraw&&e.afterDraw(t)},this._applyPreDrawUpdaters=(t,e,n,i,s,r)=>{for(const a of this._preDrawUpdaters){if(a.getColorStyles){const{fill:r,stroke:o}=a.getColorStyles(e,t,n,i);r&&(s.fill=r),o&&(s.stroke=o)}if(a.getTransformValues){const t=a.getTransformValues(e);for(const e in t)fn(r,t,e)}a.beforeDraw&&a.beforeDraw(e)}},this._applyResizePlugins=()=>{for(const t of this._resizePlugins)t.resize&&t.resize()},this._getPluginParticleColors=t=>{let e,n;for(const i of this._colorPlugins)if(!e&&i.particleFillColor&&(e=Ze(i.particleFillColor(t))),!n&&i.particleStrokeColor&&(n=Ze(i.particleStrokeColor(t))),e&&n)break;return[e,n]},this._initCover=()=>{const t=this.container.actualOptions.backgroundMask.cover,e=Qe(t.color);if(e){const n={...e,a:t.opacity};this._coverColorStyle=sn(n,n.a)}},this._initStyle=()=>{const t=this.element,e=this.container.actualOptions;if(t){this._fullScreen?(this._originalStyle=Ce({},t.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const n in e.style){if(!n||!e.style)continue;const i=e.style[n];i&&t.style.setProperty(n,i,"important")}}},this._initTrail=async()=>{const t=this.container.actualOptions,e=t.particles.move.trail,n=e.fill;if(e.enable)if(n.color){const e=Qe(n.color);if(!e)return;const i=t.particles.move.trail;this._trailFill={color:{...e},opacity:1/i.length}}else await new Promise(((t,i)=>{if(!n.image)return;const s=document.createElement("img");s.addEventListener("load",(()=>{this._trailFill={image:s,opacity:1/e.length},t()})),s.addEventListener("error",(t=>{i(t.error)})),s.src=n.image}))},this._paintBase=t=>{this.draw((e=>function(t,e,n){t.fillStyle=n??"rgba(0,0,0,0)",t.fillRect(0,0,e.width,e.height)}(e,this.size,t)))},this._paintImage=(t,e)=>{this.draw((n=>function(t,e,n,i){n&&(t.globalAlpha=i,t.drawImage(n,0,0,e.width,e.height),t.globalAlpha=1)}(n,this.size,t,e)))},this._repairStyle=()=>{const t=this.element;t&&(this._safeMutationObserver((t=>t.disconnect())),this._initStyle(),this.initBackground(),this._safeMutationObserver((e=>e.observe(t,{attributes:!0}))))},this._resetOriginalStyle=()=>{const t=this.element,e=this._originalStyle;if(!t||!e)return;const n=t.style;n.position=e.position,n.zIndex=e.zIndex,n.top=e.top,n.left=e.left,n.width=e.width,n.height=e.height},this._safeMutationObserver=t=>{this._mutationObserver&&t(this._mutationObserver)},this._setFullScreenStyle=()=>{const t=this.element;if(!t)return;const e="important",n=t.style;n.setProperty("position","fixed",e),n.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),e),n.setProperty("top","0",e),n.setProperty("left","0",e),n.setProperty("width","100%",e),n.setProperty("height","100%",e)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const t=this.container.actualOptions,e=t.particles.move.trail,n=this._trailFill;t.backgroundMask.enable?this.paint():e.enable&&e.length>0&&n?n.color?this._paintBase(sn(n.color,n.opacity)):n.image&&this._paintImage(n.image,n.opacity):this.draw((t=>{pn(t,this.size)}))}destroy(){if(this.stop(),this._generated){const t=this.element;t&&t.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(t){const e=this._context;if(e)return t(e)}drawParticle(t,e){if(t.spawning||t.destroyed)return;const n=t.getRadius();if(n<=0)return;const i=t.getFillColor(),s=t.getStrokeColor()??i;let[r,a]=this._getPluginParticleColors(t);r||(r=i),a||(a=s),(r||a)&&this.draw((i=>{const s=this.container,o=s.actualOptions,l=t.options.zIndex,c=(1-t.zIndexFactor)**l.opacityRate,d=t.bubble.opacity??t.opacity?.value??1,u=d*c,h=(t.strokeOpacity??d)*c,p={},f={fill:r?rn(r,u):void 0};f.stroke=a?rn(a,h):f.fill,this._applyPreDrawUpdaters(i,t,n,u,f,p),function(t){const{container:e,context:n,particle:i,delta:s,colorStyles:r,backgroundMask:a,composite:o,radius:l,opacity:c,shadow:d,transform:u}=t,h=i.getPosition(),p=i.rotation+(i.pathRotation?i.velocity.angle:0),f=Math.sin(p),g=Math.cos(p),m={a:g*(u.a??1),b:f*(u.b??1),c:-f*(u.c??1),d:g*(u.d??1)};n.setTransform(m.a,m.b,m.c,m.d,h.x,h.y),n.beginPath(),a&&(n.globalCompositeOperation=o);const v=i.shadowColor;d.enable&&v&&(n.shadowBlur=d.blur,n.shadowColor=sn(v),n.shadowOffsetX=d.offset.x,n.shadowOffsetY=d.offset.y),r.fill&&(n.fillStyle=r.fill);const b=i.strokeWidth??0;n.lineWidth=b,r.stroke&&(n.strokeStyle=r.stroke),function(t,e,n,i,s,r){if(!n.shape)return;const a=t.drawers.get(n.shape);a&&a.draw(e,n,i,s,r,t.retina.pixelRatio)}(e,n,i,l,c,s),b>0&&n.stroke(),i.close&&n.closePath(),i.fill&&n.fill(),function(t,e,n,i,s,r){if(!n.shape)return;const a=t.drawers.get(n.shape);a&&a.afterEffect&&a.afterEffect(e,n,i,s,r,t.retina.pixelRatio)}(e,n,i,l,c,s),n.globalCompositeOperation="source-over",n.setTransform(1,0,0,1,0,0)}({container:s,context:i,particle:t,delta:e,colorStyles:f,backgroundMask:o.backgroundMask.enable,composite:o.backgroundMask.composite,radius:n*(1-t.zIndexFactor)**l.sizeRate,opacity:u,shadow:t.options.shadow,transform:p}),this._applyPostDrawUpdaters(t)}))}drawParticlePlugin(t,e,n){this.draw((i=>function(t,e,n,i){e.drawParticle&&e.drawParticle(t,n,i)}(i,t,e,n)))}drawPlugin(t,e){this.draw((n=>function(t,e,n){e.draw&&e.draw(t,n)}(n,t,e)))}async init(){this._safeMutationObserver((t=>t.disconnect())),this._mutationObserver=function(t){if(!we()&&"undefined"!==typeof MutationObserver)return new MutationObserver(t)}((t=>{for(const e of t)"attributes"===e.type&&"style"===e.attributeName&&this._repairStyle()})),this.resize(),this._initStyle(),this._initCover();try{await this._initTrail()}catch(gh){be().error(gh)}this.initBackground(),this._safeMutationObserver((t=>{this.element&&t.observe(this.element,{attributes:!0})})),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const t=this.container.actualOptions.background,e=this.element;if(!e)return;const n=e.style;if(n){if(t.color){const e=Qe(t.color);n.backgroundColor=e?sn(e,t.opacity):""}else n.backgroundColor="";n.backgroundImage=t.image||"",n.backgroundPosition=t.position||"",n.backgroundRepeat=t.repeat||"",n.backgroundSize=t.size||""}}initPlugins(){this._resizePlugins=[];for(const[,t]of this.container.plugins)t.resize&&this._resizePlugins.push(t),(t.particleFillColor||t.particleStrokeColor)&&this._colorPlugins.push(t)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const t of this.container.particles.updaters)t.afterDraw&&this._postDrawUpdaters.push(t),(t.getColorStyles||t.getTransformValues||t.beforeDraw)&&this._preDrawUpdaters.push(t)}loadCanvas(t){this._generated&&this.element&&this.element.remove(),this._generated=t.dataset&&Gt in t.dataset?"true"===t.dataset[Gt]:this._generated,this.element=t,this.element.ariaHidden="true",this._originalStyle=Ce({},this.element.style),this.size.height=t.offsetHeight,this.size.width=t.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver((t=>{this.element&&t.observe(this.element,{attributes:!0})})),this.container.retina.init(),this.initBackground()}paint(){const t=this.container.actualOptions;this.draw((e=>{t.backgroundMask.enable&&t.backgroundMask.cover?(pn(e,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()}))}resize(){if(!this.element)return!1;const t=this.container,e=t.retina.pixelRatio,n=t.canvas.size,i=this.element.offsetWidth*e,s=this.element.offsetHeight*e;if(s===n.height&&i===n.width&&s===this.element.height&&i===this.element.width)return!1;const r={...n};return this.element.width=n.width=this.element.offsetWidth*e,this.element.height=n.height=this.element.offsetHeight*e,this.container.started&&(this.resizeFactor={width:n.width/r.width,height:n.height/r.height}),!0}stop(){this._safeMutationObserver((t=>t.disconnect())),this._mutationObserver=void 0,this.draw((t=>pn(t,this.size)))}async windowResize(){if(!this.element||!this.resize())return;const t=this.container,e=t.updateActualOptions();t.particles.setDensity(),this._applyResizePlugins(),e&&await t.refresh()}}function mn(t,e,n,i,s){if(i){let i={passive:!0};ze(s)?i.capture=s:void 0!==s&&(i=s),t.addEventListener(e,n,i)}else{const i=s;t.removeEventListener(e,n,i)}}class vn{constructor(t){this.container=t,this._doMouseTouchClick=t=>{const e=this.container,n=e.actualOptions;if(this._canPush){const t=e.interactivity.mouse,i=t.position;if(!i)return;t.clickPosition={...i},t.clickTime=(new Date).getTime();Ie(n.interactivity.events.onClick.mode,(t=>this.container.handleClickMode(t)))}"touchend"===t.type&&setTimeout((()=>this._mouseTouchFinish()),500)},this._handleThemeChange=t=>{const e=t,n=this.container,i=n.options,s=i.defaultThemes,r=e.matches?s.dark:s.light,a=i.themes.find((t=>t.name===r));a&&a.default.auto&&n.loadTheme(r)},this._handleVisibilityChange=()=>{const t=this.container,e=t.actualOptions;this._mouseTouchFinish(),e.pauseOnBlur&&(document&&document.hidden?(t.pageHidden=!0,t.pause()):(t.pageHidden=!1,t.getAnimationStatus()?t.play(!0):t.draw(!0)))},this._handleWindowResize=async()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout),this._resizeTimeout=setTimeout((async()=>{const t=this.container.canvas;t&&await t.windowResize()}),1e3*this.container.actualOptions.interactivity.events.resize.delay)},this._manageInteractivityListeners=(t,e)=>{const n=this._handlers,i=this.container,s=i.actualOptions,r=i.interactivity.element;if(!r)return;const a=r,o=i.canvas.element;o&&(o.style.pointerEvents=a===o?"initial":"none"),(s.interactivity.events.onHover.enable||s.interactivity.events.onClick.enable)&&(mn(r,Xt,n.mouseMove,e),mn(r,"touchstart",n.touchStart,e),mn(r,"touchmove",n.touchMove,e),s.interactivity.events.onClick.enable?(mn(r,Kt,n.touchEndClick,e),mn(r,"pointerup",n.mouseUp,e),mn(r,"pointerdown",n.mouseDown,e)):mn(r,Kt,n.touchEnd,e),mn(r,t,n.mouseLeave,e),mn(r,"touchcancel",n.touchCancel,e))},this._manageListeners=t=>{const e=this._handlers,n=this.container,i=n.actualOptions.interactivity.detectsOn,s=n.canvas.element;let r=qt;"window"===i?(n.interactivity.element=window,r="pointerout"):n.interactivity.element="parent"===i&&s?s.parentElement??s.parentNode:s,this._manageMediaMatch(t),this._manageResize(t),this._manageInteractivityListeners(r,t),document&&mn(document,"visibilitychange",e.visibilityChange,t,!1)},this._manageMediaMatch=t=>{const e=this._handlers,n=xe("(prefers-color-scheme: dark)");n&&(void 0===n.addEventListener?void 0!==n.addListener&&(t?n.addListener(e.oldThemeChange):n.removeListener(e.oldThemeChange)):mn(n,"change",e.themeChange,t))},this._manageResize=t=>{const e=this._handlers,n=this.container;if(!n.actualOptions.interactivity.events.resize)return;if("undefined"===typeof ResizeObserver)return void mn(window,"resize",e.resize,t);const i=n.canvas.element;this._resizeObserver&&!t?(i&&this._resizeObserver.unobserve(i),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&t&&i&&(this._resizeObserver=new ResizeObserver((async t=>{t.find((t=>t.target===i))&&await this._handleWindowResize()})),this._resizeObserver.observe(i))},this._mouseDown=()=>{const{interactivity:t}=this.container;if(!t)return;const{mouse:e}=t;e.clicking=!0,e.downPosition=e.position},this._mouseTouchClick=t=>{const e=this.container,n=e.actualOptions,{mouse:i}=e.interactivity;i.inside=!0;let s=!1;const r=i.position;if(r&&n.interactivity.events.onClick.enable){for(const[,t]of e.plugins)if(t.clickPositionValid&&(s=t.clickPositionValid(r),s))break;s||this._doMouseTouchClick(t),i.clicking=!1}},this._mouseTouchFinish=()=>{const t=this.container.interactivity;if(!t)return;const e=t.mouse;delete e.position,delete e.clickPosition,delete e.downPosition,t.status=qt,e.inside=!1,e.clicking=!1},this._mouseTouchMove=t=>{const e=this.container,n=e.actualOptions,i=e.interactivity,s=e.canvas.element;if(!i||!i.element)return;let r;if(i.mouse.inside=!0,t.type.startsWith("pointer")){this._canPush=!0;const e=t;if(i.element===window){if(s){const t=s.getBoundingClientRect();r={x:e.clientX-t.left,y:e.clientY-t.top}}}else if("parent"===n.interactivity.detectsOn){const t=e.target,n=e.currentTarget;if(t&&n&&s){const i=t.getBoundingClientRect(),a=n.getBoundingClientRect(),o=s.getBoundingClientRect();r={x:e.offsetX+2*i.left-(a.left+o.left),y:e.offsetY+2*i.top-(a.top+o.top)}}else r={x:e.offsetX??e.clientX,y:e.offsetY??e.clientY}}else e.target===s&&(r={x:e.offsetX??e.clientX,y:e.offsetY??e.clientY})}else if(this._canPush="touchmove"!==t.type,s){const e=t,n=e.touches[e.touches.length-1],i=s.getBoundingClientRect();r={x:n.clientX-(i.left??0),y:n.clientY-(i.top??0)}}const a=e.retina.pixelRatio;r&&(r.x*=a,r.y*=a),i.mouse.position=r,i.status=Xt},this._touchEnd=t=>{const e=t,n=Array.from(e.changedTouches);for(const i of n)this._touches.delete(i.identifier);this._mouseTouchFinish()},this._touchEndClick=t=>{const e=t,n=Array.from(e.changedTouches);for(const i of n)this._touches.delete(i.identifier);this._mouseTouchClick(t)},this._touchStart=t=>{const e=t,n=Array.from(e.changedTouches);for(const i of n)this._touches.set(i.identifier,performance.now());this._mouseTouchMove(t)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:t=>this._mouseTouchMove(t),mouseUp:t=>this._mouseTouchClick(t),touchStart:t=>this._touchStart(t),touchMove:t=>this._mouseTouchMove(t),touchEnd:t=>this._touchEnd(t),touchCancel:t=>this._touchEnd(t),touchEndClick:t=>this._touchEndClick(t),visibilityChange:()=>this._handleVisibilityChange(),themeChange:t=>this._handleThemeChange(t),oldThemeChange:t=>this._handleThemeChange(t),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}class bn{constructor(){this.value=""}static create(t,e){const n=new bn;return n.load(t),void 0!==e&&(Ue(e)||$e(e)?n.load({value:e}):n.load(e)),n}load(t){void 0!==t?.value&&(this.value=t.value)}}class yn{constructor(){this.color=new bn,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(t){t&&(void 0!==t.color&&(this.color=bn.create(this.color,t.color)),void 0!==t.image&&(this.image=t.image),void 0!==t.position&&(this.position=t.position),void 0!==t.repeat&&(this.repeat=t.repeat),void 0!==t.size&&(this.size=t.size),void 0!==t.opacity&&(this.opacity=t.opacity))}}class wn{constructor(){this.color=new bn,this.color.value="#fff",this.opacity=1}load(t){t&&(void 0!==t.color&&(this.color=bn.create(this.color,t.color)),void 0!==t.opacity&&(this.opacity=t.opacity))}}class xn{constructor(){this.composite="destination-out",this.cover=new wn,this.enable=!1}load(t){if(t){if(void 0!==t.composite&&(this.composite=t.composite),void 0!==t.cover){const e=t.cover,n=Ue(t.cover)?{color:t.cover}:t.cover;this.cover.load(void 0!==e.color?e:{color:n})}void 0!==t.enable&&(this.enable=t.enable)}}}class _n{constructor(){this.enable=!0,this.zIndex=0}load(t){t&&(void 0!==t.enable&&(this.enable=t.enable),void 0!==t.zIndex&&(this.zIndex=t.zIndex))}}class Sn{constructor(){this.enable=!1,this.mode=[]}load(t){t&&(void 0!==t.enable&&(this.enable=t.enable),void 0!==t.mode&&(this.mode=t.mode))}}class kn{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(t){this.elementId=t}get elementId(){return this.ids}set elementId(t){this.ids=t}get ids(){return Ie(this.selectors,(t=>t.replace("#","")))}set ids(t){this.selectors=Ie(t,(t=>`#${t}`))}load(t){if(!t)return;const e=t.ids??t.elementId??t.el;void 0!==e&&(this.ids=e),void 0!==t.selectors&&(this.selectors=t.selectors),void 0!==t.enable&&(this.enable=t.enable),void 0!==t.mode&&(this.mode=t.mode),void 0!==t.type&&(this.type=t.type)}}class An{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(t){t&&(void 0!==t.enable&&(this.enable=t.enable),void 0!==t.force&&(this.force=t.force),void 0!==t.smooth&&(this.smooth=t.smooth))}}class Cn{constructor(){this.enable=!1,this.mode=[],this.parallax=new An}load(t){t&&(void 0!==t.enable&&(this.enable=t.enable),void 0!==t.mode&&(this.mode=t.mode),this.parallax.load(t.parallax))}}class En{constructor(){this.delay=.5,this.enable=!0}load(t){void 0!==t&&(void 0!==t.delay&&(this.delay=t.delay),void 0!==t.enable&&(this.enable=t.enable))}}class Tn{constructor(){this.onClick=new Sn,this.onDiv=new kn,this.onHover=new Cn,this.resize=new En}get onclick(){return this.onClick}set onclick(t){this.onClick=t}get ondiv(){return this.onDiv}set ondiv(t){this.onDiv=t}get onhover(){return this.onHover}set onhover(t){this.onHover=t}load(t){if(!t)return;this.onClick.load(t.onClick??t.onclick);const e=t.onDiv??t.ondiv;void 0!==e&&(this.onDiv=Ie(e,(t=>{const e=new kn;return e.load(t),e}))),this.onHover.load(t.onHover??t.onhover),ze(t.resize)?this.resize.enable=t.resize:this.resize.load(t.resize)}}class Pn{constructor(t,e){this._engine=t,this._container=e}load(t){if(!t)return;if(!this._container)return;const e=this._engine.plugins.interactors.get(this._container);if(e)for(const n of e)n.loadModeOptions&&n.loadModeOptions(this,t)}}class Mn{constructor(t,e){this.detectsOn="window",this.events=new Tn,this.modes=new Pn(t,e)}get detect_on(){return this.detectsOn}set detect_on(t){this.detectsOn=t}load(t){if(!t)return;const e=t.detectsOn??t.detect_on;void 0!==e&&(this.detectsOn=e),this.events.load(t.events),this.modes.load(t.modes)}}class Dn{load(t){t&&(t.position&&(this.position={x:t.position.x??50,y:t.position.y??50,mode:t.position.mode??"percent"}),t.options&&(this.options=Ce({},t.options)))}}class Rn{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(t){t&&(void 0!==t.maxWidth&&(this.maxWidth=t.maxWidth),void 0!==t.mode&&("screen"===t.mode?this.mode="screen":this.mode="canvas"),void 0!==t.options&&(this.options=Ce({},t.options)))}}class In{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(t){t&&(void 0!==t.auto&&(this.auto=t.auto),void 0!==t.mode&&(this.mode=t.mode),void 0!==t.value&&(this.value=t.value))}}class Ln{constructor(){this.name="",this.default=new In}load(t){t&&(void 0!==t.name&&(this.name=t.name),this.default.load(t.default),void 0!==t.options&&(this.options=Ce({},t.options)))}}class On{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.delay=0,this.decay=0,this.sync=!0}load(t){t&&(void 0!==t.count&&(this.count=de(t.count)),void 0!==t.enable&&(this.enable=t.enable),void 0!==t.offset&&(this.offset=de(t.offset)),void 0!==t.speed&&(this.speed=de(t.speed)),void 0!==t.decay&&(this.decay=de(t.decay)),void 0!==t.delay&&(this.delay=de(t.delay)),void 0!==t.sync&&(this.sync=t.sync))}}class Fn{constructor(){this.h=new On,this.s=new On,this.l=new On}load(t){t&&(this.h.load(t.h),this.s.load(t.s),this.l.load(t.l))}}class Bn extends bn{constructor(){super(),this.animation=new Fn}static create(t,e){const n=new Bn;return n.load(t),void 0!==e&&(Ue(e)||$e(e)?n.load({value:e}):n.load(e)),n}load(t){if(super.load(t),!t)return;const e=t.animation;void 0!==e&&(void 0!==e.enable?this.animation.h.load(e):this.animation.load(t.animation))}}class Nn{constructor(){this.speed=2}load(t){t&&void 0!==t.speed&&(this.speed=t.speed)}}class zn{constructor(){this.enable=!0,this.retries=0}load(t){t&&(void 0!==t.enable&&(this.enable=t.enable),void 0!==t.retries&&(this.retries=t.retries))}}class Un{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(t){t&&(void 0!==t.count&&(this.count=de(t.count)),void 0!==t.enable&&(this.enable=t.enable),void 0!==t.speed&&(this.speed=de(t.speed)),void 0!==t.decay&&(this.decay=de(t.decay)),void 0!==t.delay&&(this.delay=de(t.delay)),void 0!==t.sync&&(this.sync=t.sync))}}class jn extends Un{constructor(){super(),this.mode="auto",this.startValue="random"}load(t){super.load(t),t&&(void 0!==t.minimumValue&&(this.minimumValue=t.minimumValue),void 0!==t.mode&&(this.mode=t.mode),void 0!==t.startValue&&(this.startValue=t.startValue))}}class Hn{constructor(){this.enable=!1,this.minimumValue=0}load(t){t&&(void 0!==t.enable&&(this.enable=t.enable),void 0!==t.minimumValue&&(this.minimumValue=t.minimumValue))}}class Vn{constructor(){this.random=new Hn,this.value=0}load(t){t&&(ze(t.random)?this.random.enable=t.random:this.random.load(t.random),void 0!==t.value&&(this.value=de(t.value,this.random.enable?this.random.minimumValue:void 0)))}}class $n extends Vn{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class Wn{constructor(){this.horizontal=new $n,this.vertical=new $n}load(t){t&&(this.horizontal.load(t.horizontal),this.vertical.load(t.vertical))}}class Gn{constructor(){this.absorb=new Nn,this.bounce=new Wn,this.enable=!1,this.maxSpeed=50,this.mode="bounce",this.overlap=new zn}load(t){t&&(this.absorb.load(t.absorb),this.bounce.load(t.bounce),void 0!==t.enable&&(this.enable=t.enable),void 0!==t.maxSpeed&&(this.maxSpeed=de(t.maxSpeed)),void 0!==t.mode&&(this.mode=t.mode),this.overlap.load(t.overlap))}}class qn{constructor(){this.offset=0,this.value=90}load(t){t&&(void 0!==t.offset&&(this.offset=de(t.offset)),void 0!==t.value&&(this.value=de(t.value)))}}class Xn{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(t){this.rotate.x=t}get rotateY(){return this.rotate.y}set rotateY(t){this.rotate.y=t}load(t){if(!t)return;void 0!==t.distance&&(this.distance=de(t.distance)),void 0!==t.enable&&(this.enable=t.enable);const e=t.rotate?.x??t.rotateX;void 0!==e&&(this.rotate.x=e);const n=t.rotate?.y??t.rotateY;void 0!==n&&(this.rotate.y=n)}}class Kn{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(t){t&&(void 0!==t.x&&(this.x=t.x),void 0!==t.y&&(this.y=t.y),void 0!==t.mode&&(this.mode=t.mode),void 0!==t.radius&&(this.radius=t.radius))}}class Yn{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(t){t&&(void 0!==t.acceleration&&(this.acceleration=de(t.acceleration)),void 0!==t.enable&&(this.enable=t.enable),void 0!==t.inverse&&(this.inverse=t.inverse),void 0!==t.maxSpeed&&(this.maxSpeed=de(t.maxSpeed)))}}class Qn{constructor(){this.clamp=!0,this.delay=new Vn,this.enable=!1,this.options={}}load(t){t&&(void 0!==t.clamp&&(this.clamp=t.clamp),this.delay.load(t.delay),void 0!==t.enable&&(this.enable=t.enable),this.generator=t.generator,t.options&&(this.options=Ce(this.options,t.options)))}}class Jn{load(t){t&&(void 0!==t.color&&(this.color=bn.create(this.color,t.color)),void 0!==t.image&&(this.image=t.image))}}class Zn{constructor(){this.enable=!1,this.length=10,this.fill=new Jn}get fillColor(){return this.fill.color}set fillColor(t){this.fill.load({color:t})}load(t){t&&(void 0!==t.enable&&(this.enable=t.enable),void 0===t.fill&&void 0===t.fillColor||this.fill.load(t.fill||{color:t.fillColor}),void 0!==t.length&&(this.length=t.length))}}class ti{constructor(){this.default="out"}load(t){t&&(void 0!==t.default&&(this.default=t.default),this.bottom=t.bottom??t.default,this.left=t.left??t.default,this.right=t.right??t.default,this.top=t.top??t.default)}}class ei{constructor(){this.acceleration=0,this.enable=!1}load(t){t&&(void 0!==t.acceleration&&(this.acceleration=de(t.acceleration)),void 0!==t.enable&&(this.enable=t.enable),t.position&&(this.position=Ce({},t.position)))}}class ni{constructor(){this.angle=new qn,this.attract=new Xn,this.center=new Kn,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new Yn,this.path=new Qn,this.outModes=new ti,this.random=!1,this.size=!1,this.speed=2,this.spin=new ei,this.straight=!1,this.trail=new Zn,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(t){this.collisions=t}get collisions(){return!1}set collisions(t){}get noise(){return this.path}set noise(t){this.path=t}get outMode(){return this.outModes.default}set outMode(t){this.outModes.default=t}get out_mode(){return this.outMode}set out_mode(t){this.outMode=t}load(t){if(!t)return;this.angle.load(je(t.angle)?{value:t.angle}:t.angle),this.attract.load(t.attract),this.center.load(t.center),void 0!==t.decay&&(this.decay=de(t.decay)),void 0!==t.direction&&(this.direction=t.direction),void 0!==t.distance&&(this.distance=je(t.distance)?{horizontal:t.distance,vertical:t.distance}:{...t.distance}),void 0!==t.drift&&(this.drift=de(t.drift)),void 0!==t.enable&&(this.enable=t.enable),this.gravity.load(t.gravity);const e=t.outModes??t.outMode??t.out_mode;void 0!==e&&(Ve(e)?this.outModes.load(e):this.outModes.load({default:e})),this.path.load(t.path??t.noise),void 0!==t.random&&(this.random=t.random),void 0!==t.size&&(this.size=t.size),void 0!==t.speed&&(this.speed=de(t.speed)),this.spin.load(t.spin),void 0!==t.straight&&(this.straight=t.straight),this.trail.load(t.trail),void 0!==t.vibrate&&(this.vibrate=t.vibrate),void 0!==t.warp&&(this.warp=t.warp)}}class ii extends jn{constructor(){super(),this.destroy="none",this.speed=2}get opacity_min(){return this.minimumValue}set opacity_min(t){this.minimumValue=t}load(t){void 0!==t?.opacity_min&&void 0===t.minimumValue&&(t.minimumValue=t.opacity_min),super.load(t),t&&void 0!==t.destroy&&(this.destroy=t.destroy)}}class si extends Vn{constructor(){super(),this.animation=new ii,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(t){this.animation=t}load(t){if(!t)return;super.load(t);const e=t.animation??t.anim;void 0!==e&&(this.animation.load(e),this.value=de(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class ri{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(t){this.width=t}get factor(){return this.height}set factor(t){this.height=t}get value_area(){return this.area}set value_area(t){this.area=t}load(t){if(!t)return;void 0!==t.enable&&(this.enable=t.enable);const e=t.width??t.area??t.value_area;void 0!==e&&(this.width=e);const n=t.height??t.factor;void 0!==n&&(this.height=n)}}class ai{constructor(){this.density=new ri,this.limit=0,this.value=0}get max(){return this.limit}set max(t){this.limit=t}load(t){if(!t)return;this.density.load(t.density);const e=t.limit??t.max;void 0!==e&&(this.limit=e),void 0!==t.value&&(this.value=t.value)}}class oi{constructor(){this.blur=0,this.color=new bn,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(t){t&&(void 0!==t.blur&&(this.blur=t.blur),this.color=bn.create(this.color,t.color),void 0!==t.enable&&(this.enable=t.enable),void 0!==t.offset&&(void 0!==t.offset.x&&(this.offset.x=t.offset.x),void 0!==t.offset.y&&(this.offset.y=t.offset.y)))}}const li="character",ci="char",di="image",ui="images",hi="polygon",pi="star";class fi{constructor(){this.loadShape=(t,e,n,i)=>{if(!t)return;const s=$e(t),r=s?[]:{},a=s!==$e(this.options[e]),o=s!==$e(this.options[n]);a&&(this.options[e]=r),o&&i&&(this.options[n]=r),this.options[e]=Ce(this.options[e]??r,t),this.options[n]&&!i||(this.options[n]=Ce(this.options[n]??r,t))},this.close=!0,this.fill=!0,this.options={},this.type="circle"}get character(){return this.options[li]??this.options[ci]}set character(t){this.options[ci]=this.options[li]=t}get custom(){return this.options}set custom(t){this.options=t}get image(){return this.options[di]??this.options[ui]}set image(t){this.options[ui]=this.options[di]=t}get images(){return this.image}set images(t){this.image=t}get polygon(){return this.options[hi]??this.options[pi]}set polygon(t){this.options[pi]=this.options[hi]=t}get stroke(){return[]}set stroke(t){}load(t){if(!t)return;const e=t.options??t.custom;if(void 0!==e)for(const n in e){const t=e[n];t&&(this.options[n]=Ce(this.options[n]??{},t))}this.loadShape(t.character,li,ci,!0),this.loadShape(t.polygon,hi,pi,!1),this.loadShape(t.image??t.images,di,ui,!0),void 0!==t.close&&(this.close=t.close),void 0!==t.fill&&(this.fill=t.fill),void 0!==t.type&&(this.type=t.type)}}class gi extends jn{constructor(){super(),this.destroy="none",this.speed=5}get size_min(){return this.minimumValue}set size_min(t){this.minimumValue=t}load(t){void 0!==t?.size_min&&void 0===t.minimumValue&&(t.minimumValue=t.size_min),super.load(t),t&&void 0!==t.destroy&&(this.destroy=t.destroy)}}class mi extends Vn{constructor(){super(),this.animation=new gi,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(t){this.animation=t}load(t){if(super.load(t),!t)return;const e=t.animation??t.anim;void 0!==e&&(this.animation.load(e),this.value=de(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class vi{constructor(){this.width=0}load(t){t&&(void 0!==t.color&&(this.color=Bn.create(this.color,t.color)),void 0!==t.width&&(this.width=de(t.width)),void 0!==t.opacity&&(this.opacity=de(t.opacity)))}}class bi extends Vn{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(t){super.load(t),t&&(void 0!==t.opacityRate&&(this.opacityRate=t.opacityRate),void 0!==t.sizeRate&&(this.sizeRate=t.sizeRate),void 0!==t.velocityRate&&(this.velocityRate=t.velocityRate))}}class yi{constructor(t,e){this._engine=t,this._container=e,this.bounce=new Wn,this.collisions=new Gn,this.color=new Bn,this.color.value="#fff",this.groups={},this.move=new ni,this.number=new ai,this.opacity=new si,this.reduceDuplicates=!1,this.shadow=new oi,this.shape=new fi,this.size=new mi,this.stroke=new vi,this.zIndex=new bi}load(t){if(!t)return;if(this.bounce.load(t.bounce),this.color.load(Bn.create(this.color,t.color)),void 0!==t.groups)for(const i in t.groups){const e=t.groups[i];void 0!==e&&(this.groups[i]=Ce(this.groups[i]??{},e))}this.move.load(t.move),this.number.load(t.number),this.opacity.load(t.opacity),void 0!==t.reduceDuplicates&&(this.reduceDuplicates=t.reduceDuplicates),this.shape.load(t.shape),this.size.load(t.size),this.shadow.load(t.shadow),this.zIndex.load(t.zIndex);const e=t.move?.collisions??t.move?.bounce;void 0!==e&&(this.collisions.enable=e),this.collisions.load(t.collisions),void 0!==t.interactivity&&(this.interactivity=Ce({},t.interactivity));const n=t.stroke??t.shape?.stroke;if(n&&(this.stroke=Ie(n,(t=>{const e=new vi;return e.load(t),e}))),this._container){const e=this._engine.plugins.updaters.get(this._container);if(e)for(const i of e)i.loadOptions&&i.loadOptions(this,t);const n=this._engine.plugins.interactors.get(this._container);if(n)for(const i of n)i.loadParticlesOptions&&i.loadParticlesOptions(this,t)}}}function wi(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const s of n)t.load(s)}function xi(t,e){const n=new yi(t,e);for(var i=arguments.length,s=new Array(i>2?i-2:0),r=2;r<i;r++)s[r-2]=arguments[r];return wi(n,...s),n}class _i{constructor(t,e){this._findDefaultTheme=t=>this.themes.find((e=>e.default.value&&e.default.mode===t))??this.themes.find((t=>t.default.value&&"any"===t.default.mode)),this._importPreset=t=>{this.load(this._engine.plugins.getPreset(t))},this._engine=t,this._container=e,this.autoPlay=!0,this.background=new yn,this.backgroundMask=new xn,this.defaultThemes={},this.delay=0,this.fullScreen=new _n,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new Mn(t,e),this.manualParticles=[],this.particles=xi(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(t){this.fullScreen.load(t)}get fps_limit(){return this.fpsLimit}set fps_limit(t){this.fpsLimit=t}get retina_detect(){return this.detectRetina}set retina_detect(t){this.detectRetina=t}load(t){if(!t)return;void 0!==t.preset&&Ie(t.preset,(t=>this._importPreset(t))),void 0!==t.autoPlay&&(this.autoPlay=t.autoPlay),void 0!==t.delay&&(this.delay=de(t.delay));const e=t.detectRetina??t.retina_detect;void 0!==e&&(this.detectRetina=e),void 0!==t.duration&&(this.duration=de(t.duration));const n=t.fpsLimit??t.fps_limit;void 0!==n&&(this.fpsLimit=n),void 0!==t.pauseOnBlur&&(this.pauseOnBlur=t.pauseOnBlur),void 0!==t.pauseOnOutsideViewport&&(this.pauseOnOutsideViewport=t.pauseOnOutsideViewport),void 0!==t.zLayers&&(this.zLayers=t.zLayers),this.background.load(t.background);const i=t.fullScreen??t.backgroundMode;ze(i)?this.fullScreen.enable=i:this.fullScreen.load(i),this.backgroundMask.load(t.backgroundMask),this.interactivity.load(t.interactivity),t.manualParticles&&(this.manualParticles=t.manualParticles.map((t=>{const e=new Dn;return e.load(t),e}))),this.particles.load(t.particles),this.style=Ce(this.style,t.style),this._engine.plugins.loadOptions(this,t),void 0!==t.smooth&&(this.smooth=t.smooth);const s=this._engine.plugins.interactors.get(this._container);if(s)for(const r of s)r.loadOptions&&r.loadOptions(this,t);if(void 0!==t.responsive)for(const r of t.responsive){const t=new Rn;t.load(r),this.responsive.push(t)}if(this.responsive.sort(((t,e)=>t.maxWidth-e.maxWidth)),void 0!==t.themes)for(const r of t.themes){const t=this.themes.find((t=>t.name===r.name));if(t)t.load(r);else{const t=new Ln;t.load(r),this.themes.push(t)}}this.defaultThemes.dark=this._findDefaultTheme("dark")?.name,this.defaultThemes.light=this._findDefaultTheme("light")?.name}setResponsive(t,e,n){this.load(n);const i=this.responsive.find((n=>"screen"===n.mode&&screen?n.maxWidth>screen.availWidth:n.maxWidth*e>t));return this.load(i?.options),i?.maxWidth}setTheme(t){if(t){const e=this.themes.find((e=>e.name===t));e&&this.load(e.options)}else{const t=xe("(prefers-color-scheme: dark)"),e=t&&t.matches,n=this._findDefaultTheme(e?"dark":"light");n&&this.load(n.options)}}}class Si{constructor(t,e){this.container=e,this._engine=t,this._interactors=t.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}async externalInteract(t){for(const e of this._externalInteractors)e.isEnabled()&&await e.interact(t)}handleClickMode(t){for(const e of this._externalInteractors)e.handleClickMode&&e.handleClickMode(t)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const t of this._interactors){switch(t.type){case"external":this._externalInteractors.push(t);break;case"particles":this._particleInteractors.push(t)}t.init()}}async particlesInteract(t,e){for(const n of this._externalInteractors)n.clear(t,e);for(const n of this._particleInteractors)n.isEnabled(t)&&await n.interact(t,e)}async reset(t){for(const e of this._externalInteractors)e.isEnabled()&&e.reset(t);for(const e of this._particleInteractors)e.isEnabled(t)&&e.reset(t)}}const ki=t=>{if(!_e(t.outMode,t.checkModes))return;const e=2*t.radius;t.coord>t.maxCoord-e?t.setCb(-t.radius):t.coord<e&&t.setCb(t.radius)};class Ai{constructor(t,e,n,i,s,r){var a=this;this.container=n,this._calcPosition=function(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;for(const[,u]of t.plugins){const t=void 0!==u.particlePosition?u.particlePosition(e,a):void 0;if(t)return Qt.create(t.x,t.y,n)}const s=ge({size:t.canvas.size,position:e}),r=Qt.create(s.x,s.y,n),o=a.getRadius(),l=a.options.move.outModes,c=e=>{ki({outMode:e,checkModes:["bounce","bounce-horizontal"],coord:r.x,maxCoord:t.canvas.size.width,setCb:t=>r.x+=t,radius:o})},d=e=>{ki({outMode:e,checkModes:["bounce","bounce-vertical"],coord:r.y,maxCoord:t.canvas.size.height,setCb:t=>r.y+=t,radius:o})};return c(l.left??l.default),c(l.right??l.default),d(l.top??l.default),d(l.bottom??l.default),a._checkOverlap(r,i)?a._calcPosition(t,void 0,n,i+1):r},this._calculateVelocity=()=>{const t=function(t){const e=Jt.origin;return e.length=1,e.angle=t,e}(this.direction).copy(),e=this.options.move;if("inside"===e.direction||"outside"===e.direction)return t;const n=Math.PI/180*oe(e.angle.value),i=Math.PI/180*oe(e.angle.offset),s={left:i-n/2,right:i+n/2};return e.straight||(t.angle+=ae(de(s.left,s.right))),e.random&&"number"===typeof e.speed&&(t.length*=ie()),t},this._checkOverlap=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=a.options.collisions,i=a.getRadius();if(!n.enable)return!1;const s=n.overlap;if(s.enable)return!1;const r=s.retries;if(r>=0&&e>r)throw new Error(`${Yt} particle is overlapping and can't be placed`);return!!a.container.particles.find((e=>pe(t,e.position)<i+e.getRadius()))},this._getRollColor=t=>{if(!t||!this.roll||!this.backColor&&!this.roll.alter)return t;const e=this.roll.horizontal&&this.roll.vertical?2:1,n=this.roll.horizontal?Math.PI/2:0;return Math.floor(((this.roll.angle??0)+n)/(Math.PI/e))%2?this.backColor?this.backColor:this.roll.alter?function(t,e,n){return{h:t.h,s:t.s,l:t.l+("darken"===e?-1:1)*n}}(t,this.roll.alter.type,this.roll.alter.value):t:t},this._initPosition=t=>{const e=this.container,n=oe(this.options.zIndex.value);this.position=this._calcPosition(e,t,se(n,0,e.zLayers)),this.initialPosition=this.position.copy();const i=e.canvas.size;switch(this.moveCenter={...Ne(this.options.move.center,i),radius:this.options.move.center.radius??0,mode:this.options.move.center.mode??"percent"},this.direction=function(t,e,n){if(je(t))return t*Math.PI/180;switch(t){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(n.y-e.y,n.x-e.x);case"outside":return Math.atan2(e.y-n.y,e.x-n.x);default:return ie()*Math.PI*2}}(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside"}this.offset=Jt.origin},this._loadShapeData=(t,e)=>{const n=t.options[this.shape];if(n)return Ce({close:t.close,fill:t.fill},Le(n,this.id,e))},this._engine=t,this.init(e,i,s,r)}destroy(t){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const e=this.container,n=this.pathGenerator;for(const[,i]of e.plugins)i.particleDestroyed&&i.particleDestroyed(this,t);for(const i of e.particles.updaters)i.particleDestroyed&&i.particleDestroyed(this,t);n&&n.reset(this)}draw(t){const e=this.container;for(const[,n]of e.plugins)e.canvas.drawParticlePlugin(n,this,t);e.canvas.drawParticle(this,t)}getFillColor(){return this._getRollColor(this.bubble.color??cn(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??cn(this.strokeColor))}init(t,e,n,i){const s=this.container,r=this._engine;this.id=t,this.group=i,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const a=s.retina.pixelRatio,o=s.actualOptions,l=xi(this._engine,s,o.particles),c=l.shape.type,{reduceDuplicates:d}=l;this.shape=Le(c,this.id,d);const u=l.shape;if(n&&n.shape&&n.shape.type){const t=Le(n.shape.type,this.id,d);t&&(this.shape=t,u.load(n.shape))}this.shapeData=this._loadShapeData(u,d),l.load(n);const h=this.shapeData;h&&l.load(h.particles);const p=new Mn(r,s);p.load(s.actualOptions.interactivity),p.load(l.interactivity),this.interactivity=p,this.fill=h?.fill??l.shape.fill,this.close=h?.close??l.shape.close,this.options=l;const f=this.options.move.path;this.pathDelay=1e3*ue(f.delay),f.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(f.generator),this.pathGenerator&&s.addPath(f.generator,this.pathGenerator)&&this.pathGenerator.init(s)),s.retina.initParticle(this),this.size=Fe(this.options.size,a),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(e),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-oe(this.options.move.decay);const g=s.particles;g.needsSort=g.needsSort||g.lastZIndex<this.position.z,g.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/s.zLayers,this.sides=24;let m=s.drawers.get(this.shape);m||(m=this._engine.plugins.getShapeDrawer(this.shape),m&&s.drawers.set(this.shape,m)),m&&m.loadShape&&m.loadShape(this);const v=m?.getSidesCount;v&&(this.sides=v(this)),this.spawning=!1,this.shadowColor=Qe(this.options.shadow.color);for(const b of s.particles.updaters)b.init(this);for(const b of s.particles.movers)b.init&&b.init(this);m&&m.particleInit&&m.particleInit(s,this);for(const[,b]of s.plugins)b.particleCreated&&b.particleCreated(this)}isInsideCanvas(){const t=this.getRadius(),e=this.container.canvas.size,n=this.position;return n.x>=-t&&n.y>=-t&&n.y<=e.height+t&&n.x<=e.width+t}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const t of this.container.particles.updaters)t.reset&&t.reset(this)}}class Ci{constructor(t,e){this.position=t,this.particle=e}}class Ei{constructor(t,e){this.position={x:t,y:e}}}class Ti extends Ei{constructor(t,e,n,i){super(t,e),this.size={height:i,width:n}}contains(t){const e=this.size.width,n=this.size.height,i=this.position;return t.x>=i.x&&t.x<=i.x+e&&t.y>=i.y&&t.y<=i.y+n}intersects(t){t instanceof Pi&&t.intersects(this);const e=this.size.width,n=this.size.height,i=this.position,s=t.position,r=t instanceof Ti?t.size:{width:0,height:0},a=r.width,o=r.height;return s.x<i.x+e&&s.x+a>i.x&&s.y<i.y+n&&s.y+o>i.y}}class Pi extends Ei{constructor(t,e,n){super(t,e),this.radius=n}contains(t){return pe(t,this.position)<=this.radius}intersects(t){const e=this.position,n=t.position,i=Math.abs(n.x-e.x),s=Math.abs(n.y-e.y),r=this.radius;if(t instanceof Pi){return r+t.radius>Math.sqrt(i**2+s**2)}if(t instanceof Ti){const{width:e,height:n}=t.size;return Math.pow(i-e,2)+Math.pow(s-n,2)<=r**2||i<=r+e&&s<=r+n||i<=e||s<=n}return!1}}class Mi{constructor(t,e){this.rectangle=t,this.capacity=e,this._subdivide=()=>{const{x:t,y:e}=this.rectangle.position,{width:n,height:i}=this.rectangle.size,{capacity:s}=this;for(let r=0;r<4;r++)this._subs.push(new Mi(new Ti(t+n/2*(r%2),e+i/2*(Math.round(r/2)-r%2),n/2,i/2),s));this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(t){return!!this.rectangle.contains(t.position)&&(this._points.length<this.capacity?(this._points.push(t),!0):(this._divided||this._subdivide(),this._subs.some((e=>e.insert(t)))))}query(t,e,n){const i=n||[];if(!t.intersects(this.rectangle))return[];for(const s of this._points)!t.contains(s.position)&&pe(t.position,s.position)>s.particle.getRadius()&&(!e||e(s.particle))||i.push(s.particle);if(this._divided)for(const s of this._subs)s.query(t,e,i);return i}queryCircle(t,e,n){return this.query(new Pi(t.x,t.y,e),n)}queryRectangle(t,e,n){return this.query(new Ti(t.x,t.y,e.width,e.height),n)}}const Di=t=>new Ti(-t.width/4,-t.height/4,3*t.width/2,3*t.height/2);class Ri{constructor(t,e){this._applyDensity=(t,e,n)=>{if(!t.number.density?.enable)return;const i=t.number,s=this._initDensityFactor(i.density),r=i.value,a=i.limit>0?i.limit:r,o=Math.min(r,a)*s+e,l=Math.min(this.count,this.filter((t=>t.group===n)).length);this.limit=i.limit*s,l<o?this.push(Math.abs(o-l),void 0,t,n):l>o&&this.removeQuantity(l-o,n)},this._initDensityFactor=t=>{const e=this._container;if(!e.canvas.element||!t.enable)return 1;const n=e.canvas.element,i=e.retina.pixelRatio;return n.width*n.height/(t.factor*i**2*t.area)},this._pushParticle=(t,e,n,i)=>{try{let s=this.pool.pop();s?s.init(this._nextId,t,e,n):s=new Ai(this._engine,this._nextId,this._container,t,e,n);let r=!0;if(i&&(r=i(s)),!r)return;return this._array.push(s),this._zArray.push(s),this._nextId++,this._engine.dispatchEvent("particleAdded",{container:this._container,data:{particle:s}}),s}catch(gh){return void be().warning(`${Yt} adding particle: ${gh}`)}},this._removeParticle=(t,e,n)=>{const i=this._array[t];if(!i||i.group!==e)return!1;i.destroy(n);const s=this._zArray.indexOf(i);return this._array.splice(t,1),this._zArray.splice(s,1),this.pool.push(i),this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:i}}),!0},this._engine=t,this._container=e,this._nextId=0,this._array=[],this._zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this._interactionManager=new Si(t,e);const n=e.canvas.size;this.quadTree=new Mi(Di(n),4),this.movers=this._engine.plugins.getMovers(e,!0),this.updaters=this._engine.plugins.getUpdaters(e,!0)}get count(){return this._array.length}addManualParticles(){const t=this._container,e=t.actualOptions;for(const n of e.manualParticles)this.addParticle(n.position?Ne(n.position,t.canvas.size):void 0,n.options)}addParticle(t,e,n,i){const s=this._container.actualOptions.particles.number.limit;if(s>0){const t=this.count+1-s;t>0&&this.removeQuantity(t)}return this._pushParticle(t,e,n,i)}clear(){this._array=[],this._zArray=[]}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}async draw(t){const e=this._container;e.canvas.clear(),await this.update(t);for(const[,n]of e.plugins)e.canvas.drawPlugin(n,t);for(const n of this._zArray)n.draw(t)}filter(t){return this._array.filter(t)}find(t){return this._array.find(t)}handleClickMode(t){this._interactionManager.handleClickMode(t)}init(){const t=this._container,e=t.actualOptions;this.lastZIndex=0,this.needsSort=!1;let n=!1;this.updaters=this._engine.plugins.getUpdaters(t,!0),this._interactionManager.init();for(const[,i]of t.plugins)if(void 0!==i.particlesInitialization&&(n=i.particlesInitialization()),n)break;this._interactionManager.init();for(const[,i]of t.pathGenerators)i.init(t);if(this.addManualParticles(),!n){for(const t in e.particles.groups){const n=e.particles.groups[t];for(let i=this.count,s=0;s<n.number?.value&&i<e.particles.number.value;i++,s++)this.addParticle(void 0,n,t)}for(let t=this.count;t<e.particles.number.value;t++)this.addParticle()}}push(t,e,n,i){this.pushing=!0;for(let s=0;s<t;s++)this.addParticle(e?.position,n,i);this.pushing=!1}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(t,e,n){this.removeAt(this._array.indexOf(t),void 0,e,n)}removeAt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(t<0||t>this.count)return;let s=0;for(let r=t;s<e&&r<this.count;r++)this._removeParticle(r--,n,i)&&s++}removeQuantity(t,e){this.removeAt(0,t,e)}setDensity(){const t=this._container.actualOptions,e=t.particles.groups;for(const n in e)this._applyDensity(e[n],0,n);this._applyDensity(t.particles,t.manualParticles.length)}async update(t){const e=this._container,n=new Set;this.quadTree=new Mi(Di(e.canvas.size),4);for(const[,i]of e.pathGenerators)i.update();for(const[,i]of e.plugins)i.update&&i.update(t);for(const i of this._array){const s=e.canvas.resizeFactor;s&&!i.ignoresResizeRatio&&(i.position.x*=s.width,i.position.y*=s.height,i.initialPosition.x*=s.width,i.initialPosition.y*=s.height),i.ignoresResizeRatio=!1,await this._interactionManager.reset(i);for(const[,e]of this._container.plugins){if(i.destroyed)break;e.particleUpdate&&e.particleUpdate(i,t)}for(const e of this.movers)e.isEnabled(i)&&e.move(i,t);i.destroyed?n.add(i):this.quadTree.insert(new Ci(i.getPosition(),i))}if(n.size){const t=t=>!n.has(t);this._array=this.filter(t),this._zArray=this._zArray.filter(t),this.pool.push(...n)}await this._interactionManager.externalInteract(t);for(const i of this._array){for(const e of this.updaters)e.update(i,t);i.destroyed||i.spawning||await this._interactionManager.particlesInteract(i,t)}if(delete e.canvas.resizeFactor,this.needsSort){const t=this._zArray;t.sort(((t,e)=>e.position.z-t.position.z||t.id-e.id)),this.lastZIndex=t[t.length-1].position.z,this.needsSort=!1}}}class Ii{constructor(t){this.container=t,this.pixelRatio=1,this.reduceFactor=1}init(){const t=this.container,e=t.actualOptions;this.pixelRatio=!e.detectRetina||we()?1:window.devicePixelRatio,this.reduceFactor=1;const n=this.pixelRatio;if(t.canvas.element){const e=t.canvas.element;t.canvas.size.width=e.offsetWidth*n,t.canvas.size.height=e.offsetHeight*n}const i=e.particles,s=i.move;this.attractDistance=oe(s.attract.distance)*n,this.maxSpeed=oe(s.gravity.maxSpeed)*n,this.sizeAnimationSpeed=oe(i.size.animation.speed)*n}initParticle(t){const e=t.options,n=this.pixelRatio,i=e.move,s=i.distance,r=t.retina;r.attractDistance=oe(i.attract.distance)*n,r.moveDrift=oe(i.drift)*n,r.moveSpeed=oe(i.speed)*n,r.sizeAnimationSpeed=oe(e.size.animation.speed)*n;const a=r.maxDistance;a.horizontal=void 0!==s.horizontal?s.horizontal*n:void 0,a.vertical=void 0!==s.vertical?s.vertical*n:void 0,r.maxSpeed=oe(i.gravity.maxSpeed)*n}}function Li(t){return t&&!t.destroyed}function Oi(t,e){const n=new _i(t,e);for(var i=arguments.length,s=new Array(i>2?i-2:0),r=2;r<i;r++)s[r-2]=arguments[r];return wi(n,...s),n}const Fi={generate:t=>t.velocity,init:()=>{},update:()=>{},reset:()=>{}};class Bi{constructor(t,e,n){this.id=e,this._intersectionManager=t=>{if(Li(this)&&this.actualOptions.pauseOnOutsideViewport)for(const e of t)e.target===this.interactivity.element&&(e.isIntersecting?this.play:this.pause)()},this._nextFrame=async t=>{try{if(!this.smooth&&void 0!==this.lastFrameTime&&t<this.lastFrameTime+1e3/this.fpsLimit)return void this.draw(!1);this.lastFrameTime??=t;const e=function(t){return{value:t,factor:arguments.length>2&&void 0!==arguments[2]&&arguments[2]?60/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:60):60*t/1e3}}(t-this.lastFrameTime,this.fpsLimit,this.smooth);if(this.addLifeTime(e.value),this.lastFrameTime=t,e.value>1e3)return void this.draw(!1);if(await this.particles.draw(e),!this.alive())return void this.destroy();this.getAnimationStatus()&&this.draw(!1)}catch(gh){be().error(`${Yt} in animation loop`,gh)}},this._engine=t,this.fpsLimit=120,this.smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=n,this._initialSourceOptions=n,this.retina=new Ii(this),this.canvas=new gn(this),this.particles=new Ri(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=Oi(this._engine,this),this.actualOptions=Oi(this._engine,this),this._eventListeners=new vn(this),"undefined"!==typeof IntersectionObserver&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver((t=>this._intersectionManager(t)))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(t){if(!Li(this))return;const e=this.interactivity.element;if(!e)return;const n=(e,n,i)=>{if(!Li(this))return;const s=this.retina.pixelRatio,r={x:n.x*s,y:n.y*s},a=this.particles.quadTree.queryCircle(r,i*s);t(e,a)};let i=!1,s=!1;e.addEventListener("click",(t=>{if(!Li(this))return;const e=t,i={x:e.offsetX||e.clientX,y:e.offsetY||e.clientY};n(t,i,1)})),e.addEventListener("touchstart",(()=>{Li(this)&&(i=!0,s=!1)})),e.addEventListener("touchmove",(()=>{Li(this)&&(s=!0)})),e.addEventListener("touchend",(t=>{if(Li(this)){if(i&&!s){const e=t;let i=e.touches[e.touches.length-1];if(!i&&(i=e.changedTouches[e.changedTouches.length-1],!i))return;const s=this.canvas.element,r=s?s.getBoundingClientRect():void 0,a={x:i.clientX-(r?r.left:0),y:i.clientY-(r?r.top:0)};n(t,a,Math.max(i.radiusX,i.radiusY))}i=!1,s=!1}})),e.addEventListener("touchcancel",(()=>{Li(this)&&(i=!1,s=!1)}))}addLifeTime(t){this._lifeTime+=t}addPath(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!(!Li(this)||!n&&this.pathGenerators.has(t))&&(this.pathGenerators.set(t,e??Fi),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}destroy(){if(!Li(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,n]of this.drawers)n.destroy&&n.destroy(this);for(const n of this.drawers.keys())this.drawers.delete(n);this._engine.plugins.destroy(this),this.destroyed=!0;const t=this._engine.dom(),e=t.findIndex((t=>t===this));e>=0&&t.splice(e,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(t){if(!Li(this))return;let e=t;this._drawAnimationFrame=requestAnimationFrame((async t=>{e&&(this.lastFrameTime=void 0,e=!1),await this._nextFrame(t)}))}async export(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const[,n]of this.plugins){if(!n.export)continue;const i=await n.export(t,e);if(i.supported)return i.blob}be().error(`${Yt} - Export plugin with type ${t} not found`)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&Li(this)}handleClickMode(t){if(Li(this)){this.particles.handleClickMode(t);for(const[,e]of this.plugins)e.handleClickMode&&e.handleClickMode(t)}}async init(){if(!Li(this))return;const t=this._engine.plugins.getSupportedShapes();for(const n of t){const t=this._engine.plugins.getShapeDrawer(n);t&&this.drawers.set(n,t)}this._options=Oi(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=Oi(this._engine,this,this._options);const e=this._engine.plugins.getAvailablePlugins(this);for(const[n,i]of e)this.plugins.set(n,i);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this._duration=1e3*oe(this.actualOptions.duration),this._delay=1e3*oe(this.actualOptions.delay),this._lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth;for(const[,n]of this.drawers)n.init&&await n.init(this);for(const[,n]of this.plugins)n.init&&await n.init();this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,n]of this.plugins)n.particlesSetup&&n.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(t){Li(this)&&(this._currentTheme=t,await this.refresh())}pause(){if(Li(this)&&(void 0!==this._drawAnimationFrame&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,t]of this.plugins)t.pause&&t.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(t){if(!Li(this))return;const e=this._paused||t;if(!this._firstStart||this.actualOptions.autoPlay){if(this._paused&&(this._paused=!1),e)for(const[,t]of this.plugins)t.play&&t.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(e||!1)}else this._firstStart=!1}async refresh(){if(Li(this))return this.stop(),this.start()}async reset(){if(Li(this))return this._initialSourceOptions=void 0,this._options=Oi(this._engine,this),this.actualOptions=Oi(this._engine,this,this._options),this.refresh()}setNoise(t,e,n){Li(this)&&this.setPath(t,e,n)}setPath(t,e,n){if(!t||!Li(this))return;const i={...Fi};if(He(t))i.generate=t,e&&(i.init=e),n&&(i.update=n);else{const e=i;i.generate=t.generate||e.generate,i.init=t.init||e.init,i.update=t.update||e.update}this.addPath("default",i,!0)}async start(){Li(this)&&!this.started&&(await this.init(),this.started=!0,await new Promise((t=>{this._delayTimeout=setTimeout((async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,t]of this.plugins)t.start&&await t.start();this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),t()}),this._delay)})))}stop(){if(Li(this)&&this.started){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,t]of this.plugins)t.stop&&t.stop();for(const t of this.plugins.keys())this.plugins.delete(t);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const t=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth!==t&&(this.responsiveMaxWidth=t,!0)}}class Ni{constructor(){this._listeners=new Map}addEventListener(t,e){this.removeEventListener(t,e);let n=this._listeners.get(t);n||(n=[],this._listeners.set(t,n)),n.push(e)}dispatchEvent(t,e){const n=this._listeners.get(t);n&&n.forEach((t=>t(e)))}hasEventListener(t){return!!this._listeners.get(t)}removeAllEventListeners(t){t?this._listeners.delete(t):this._listeners=new Map}removeEventListener(t,e){const n=this._listeners.get(t);if(!n)return;const i=n.length,s=n.indexOf(e);s<0||(1===i?this._listeners.delete(t):n.splice(s,1))}}function zi(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=e.get(t);return s&&!i||(s=[...n.values()].map((e=>e(t))),e.set(t,s)),s}class Ui{constructor(t){this._engine=t,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(t,e){this._initializers.interactors.set(t,e)}addParticleMover(t,e){this._initializers.movers.set(t,e)}addParticleUpdater(t,e){this._initializers.updaters.set(t,e)}addPathGenerator(t,e){!this.getPathGenerator(t)&&this.pathGenerators.set(t,e)}addPlugin(t){!this.getPlugin(t.id)&&this.plugins.push(t)}addPreset(t,e){(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||!this.getPreset(t))&&this.presets.set(t,e)}addShapeDrawer(t,e){Ie(t,(t=>{!this.getShapeDrawer(t)&&this.drawers.set(t,e)}))}destroy(t){this.updaters.delete(t),this.movers.delete(t),this.interactors.delete(t)}getAvailablePlugins(t){const e=new Map;for(const n of this.plugins)n.needsPlugin(t.actualOptions)&&e.set(n.id,n.getPlugin(t));return e}getInteractors(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return zi(t,this.interactors,this._initializers.interactors,e)}getMovers(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return zi(t,this.movers,this._initializers.movers,e)}getPathGenerator(t){return this.pathGenerators.get(t)}getPlugin(t){return this.plugins.find((e=>e.id===t))}getPreset(t){return this.presets.get(t)}getShapeDrawer(t){return this.drawers.get(t)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return zi(t,this.updaters,this._initializers.updaters,e)}loadOptions(t,e){for(const n of this.plugins)n.loadOptions(t,e)}loadParticlesOptions(t,e){const n=this.updaters.get(t);if(n){for(var i=arguments.length,s=new Array(i>2?i-2:0),r=2;r<i;r++)s[r-2]=arguments[r];for(const t of n)t.loadOptions&&t.loadOptions(e,...s)}}}class ji{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new Ni,this._initialized=!1,this.plugins=new Ui(this)}get configs(){const t={};for(const[e,n]of this._configs)t[e]=n;return t}get version(){return"2.12.0"}addConfig(t,e){Ue(t)?e&&(e.name=t,this._configs.set(t,e)):this._configs.set(t.name??"default",t)}addEventListener(t,e){this._eventDispatcher.addEventListener(t,e)}async addInteractor(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.plugins.addInteractor(t,e),await this.refresh(n)}async addMover(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.plugins.addParticleMover(t,e),await this.refresh(n)}async addParticleUpdater(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.plugins.addParticleUpdater(t,e),await this.refresh(n)}async addPathGenerator(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.plugins.addPathGenerator(t,e),await this.refresh(n)}async addPlugin(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.plugins.addPlugin(t),await this.refresh(e)}async addPreset(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.plugins.addPreset(t,e,n),await this.refresh(i)}async addShape(t,e,n,i,s){let r,a,o,l,c=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];ze(n)?(c=n,a=void 0):a=n,ze(i)?(c=i,o=void 0):o=i,ze(s)?(c=s,l=void 0):l=s,r=He(e)?{afterEffect:o,destroy:l,draw:e,init:a}:e,this.plugins.addShapeDrawer(t,r),await this.refresh(c)}dispatchEvent(t,e){this._eventDispatcher.dispatchEvent(t,e)}dom(){return this._domArray}domItem(t){const e=this.dom(),n=e[t];if(n&&!n.destroyed)return n;e.splice(t,1)}init(){this._initialized||(this._initialized=!0)}async load(t,e){return this.loadFromArray(t,e)}async loadFromArray(t,e,n){let i;return!function(t){return!(!(e=t).id&&!e.element&&!e.url&&!e.options);var e}(t)?(i={},Ue(t)?i.id=t:i.options=t,je(e)?i.index=e:i.options=e??i.options,i.index=n??i.index):i=t,this._loadParams(i)}async loadJSON(t,e,n){let i,s;return je(e)||void 0===e?i=t:(s=t,i=e),this._loadParams({id:s,url:i,index:n})}async refresh(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&this.dom().forEach((t=>t.refresh()))}removeEventListener(t,e){this._eventDispatcher.removeEventListener(t,e)}async set(t,e,n,i){const s={index:i};return Ue(t)?s.id=t:s.element=t,e instanceof HTMLElement?s.element=e:s.options=e,je(n)?s.index=n:s.options=n??s.options,this._loadParams(s)}async setJSON(t,e,n,i){const s={};return t instanceof HTMLElement?(s.element=t,s.url=e,s.index=n):(s.id=t,s.element=e,s.url=n,s.index=i),this._loadParams(s)}setOnClickHandler(t){const e=this.dom();if(!e.length)throw new Error(`${Yt} can only set click handlers after calling tsParticles.load()`);for(const n of e)n.addClickHandler(t)}async _loadParams(t){const e=t.id??`tsparticles${Math.floor(1e4*ie())}`,{index:n,url:i}=t,s=i?await async function(t){const e=Le(t.url,t.index);if(!e)return t.fallback;const n=await fetch(e);return n.ok?n.json():(be().error(`${Yt} ${n.status} while retrieving config file`),t.fallback)}({fallback:t.options,url:i,index:n}):t.options;let r=t.element??document.getElementById(e);r||(r=document.createElement("div"),r.id=e,document.body.append(r));const a=Le(s,n),o=this.dom(),l=o.findIndex((t=>t.id===e));if(l>=0){const t=this.domItem(l);t&&!t.destroyed&&(t.destroy(),o.splice(l,1))}let c;if("canvas"===r.tagName.toLowerCase())c=r,c.dataset[Gt]="false";else{const t=r.getElementsByTagName("canvas");t.length?(c=t[0],c.dataset[Gt]="false"):(c=document.createElement("canvas"),c.dataset[Gt]="true",r.appendChild(c))}c.style.width||(c.style.width="100%"),c.style.height||(c.style.height="100%");const d=new Bi(this,e,a);return l>=0?o.splice(l,0,d):o.push(d),d.canvas.loadCanvas(c),await d.start(),d}}class Hi{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(t){const e=t.value.hsl??t.value;if(void 0!==e.h&&void 0!==e.s&&void 0!==e.l)return en(e)}handleRangeColor(t){const e=t.value.hsl??t.value;if(void 0!==e.h&&void 0!==e.l)return en({h:oe(e.h),l:oe(e.l),s:oe(e.s)})}parseString(t){if(!t.startsWith("hsl"))return;const e=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i.exec(t);return e?function(t){const e=en(t);return{a:t.a,b:e.b,g:e.g,r:e.r}}({a:e.length>4?me(e[5]):1,h:parseInt(e[1],10),l:parseInt(e[3],10),s:parseInt(e[2],10)}):void 0}}class Vi{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(t){const e=t.value.rgb??t.value;if(void 0!==e.r)return e}handleRangeColor(t){const e=t.value.rgb??t.value;if(void 0!==e.r)return{r:oe(e.r),g:oe(e.g),b:oe(e.b)}}parseString(t){if(!t.startsWith(this.stringPrefix))return;const e=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i.exec(t);return e?{a:e.length>4?me(e[5]):1,b:parseInt(e[3],10),g:parseInt(e[2],10),r:parseInt(e[1],10)}:void 0}}const $i=function(){const t=new Vi,e=new Hi;Xe(t),Xe(e);const n=new ji;return n.init(),n}();we()||(window.tsParticles=$i);const Wi=t=>"object"===typeof t&&null!==t;function Gi(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!1;if(!Wi(t)||!Wi(e))return t===e;const i=Object.keys(t).filter((t=>!n(t))),s=Object.keys(e).filter((t=>!n(t)));if(i.length!==s.length)return!1;for(const r of i){const i=t[r],s=e[r];if(Wi(i)&&Wi(s)){if(i===e&&s===t)continue;if(!Gi(i,s,n))return!1}else if(Array.isArray(i)&&Array.isArray(s)){if(!qi(i,s,n))return!1}else if(i!==s)return!1}return!0}function qi(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){const s=t[i],r=e[i];if(Array.isArray(s)&&Array.isArray(r)){if(!qi(s,r,n))return!1}else if(Wi(s)&&Wi(r)){if(!Gi(s,r,n))return!1}else if(s!==r)return!1}return!0}const Xi="tsparticles";class Ki extends r.Component{constructor(t){super(t),this.state={init:!1,library:void 0}}destroy(){this.state.library&&(this.state.library.destroy(),this.setState({library:void 0}))}shouldComponentUpdate(t){const e=t.options??t.params,n=this.props.options??this.props.params;return t.url!==this.props.url||t.id!==this.props.id||t.canvasClassName!==this.props.canvasClassName||t.className!==this.props.className||t.height!==this.props.height||t.width!==this.props.width||!Gi(t.style,this.props.style)||t.init!==this.props.init||t.loaded!==this.props.loaded||!Gi(e,n,(t=>t.startsWith("_")))}componentDidUpdate(){this.refresh()}forceUpdate(){this.refresh().then((()=>{super.forceUpdate()}))}componentDidMount(){(async()=>{this.props.init&&await this.props.init($i),this.setState({init:!0},(async()=>{await this.loadParticles()}))})()}componentWillUnmount(){this.destroy()}render(){const{width:t,height:e,className:n,canvasClassName:i,id:s}=this.props;return r.createElement("div",{className:n,id:s},r.createElement("canvas",{className:i,style:{...this.props.style,width:t,height:e}}))}async refresh(){this.destroy(),await this.loadParticles()}async loadParticles(){if(!this.state.init)return;const t=this.props.id??Ki.defaultProps.id??Xi,e=await $i.load({url:this.props.url,id:t,options:this.props.options??this.props.params});this.props.container&&(this.props.container.current=e),this.setState({library:e}),this.props.loaded&&await this.props.loaded(e)}}Ki.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:Xi};const Yi=Ki;class Qi{static init(t){const e=new Qi,n=t.selector;if(!n)throw new Error("No selector provided");const i=document.querySelector(n);if(!i)throw new Error("No element found for selector");return $i.set(n.replace(".","").replace("!",""),i,{fullScreen:{enable:!1},particles:{color:{value:t.color??"!000000"},links:{color:"random",distance:t.minDistance??120,enable:t.connectParticles??!1},move:{enable:!0,speed:t.speed??.5},number:{value:t.maxParticles??100},size:{value:{min:1,max:t.sizeVariations??3}}},responsive:t.responsive?.map((e=>({maxWidth:e.breakpoint,options:{particles:{color:{value:e.options?.color},links:{distance:e.options?.minDistance,enable:e.options?.connectParticles},number:{value:t.maxParticles},move:{enable:!0,speed:e.options?.speed},size:{value:e.options?.sizeVariations}}}})))}).then((t=>{e._container=t})),e}destroy(){const t=this._container;t&&t.destroy()}pauseAnimation(){const t=this._container;t&&t.pause()}resumeAnimation(){const t=this._container;t&&t.play()}}function Ji(t,e,n,i,s,r){!function(t,e){const n=t.options,i=n.move.path;if(!i.enable)return;if(t.lastPathTime<=t.pathDelay)return void(t.lastPathTime+=e.value);const s=t.pathGenerator?.generate(t,e);s&&t.velocity.addTo(s);i.clamp&&(t.velocity.x=se(t.velocity.x,-1,1),t.velocity.y=se(t.velocity.y,-1,1));t.lastPathTime-=t.pathDelay}(t,r);const a=t.gravity,o=a?.enable&&a.inverse?-1:1;s&&n&&(t.velocity.x+=s*r.factor/(60*n)),a?.enable&&n&&(t.velocity.y+=o*(a.acceleration*r.factor)/(60*n));const l=t.moveDecay;t.velocity.multTo(l);const c=t.velocity.mult(n);a?.enable&&i>0&&(!a.inverse&&c.y>=0&&c.y>=i||a.inverse&&c.y<=0&&c.y<=-i)&&(c.y=o*i,n&&(t.velocity.y=c.y/n));const d=t.options.zIndex,u=(1-t.zIndexFactor)**d.velocityRate;c.multTo(u);const{position:h}=t;h.addTo(c),e.vibrate&&(h.x+=Math.sin(h.x*Math.cos(h.y)),h.y+=Math.cos(h.y*Math.sin(h.x)))}class Zi{constructor(){this._initSpin=t=>{const e=t.container,n=t.options.move.spin;if(!n.enable)return;const i=n.position??{x:50,y:50},s={x:i.x/100*e.canvas.size.width,y:i.y/100*e.canvas.size.height},r=pe(t.getPosition(),s),a=oe(n.acceleration);t.retina.spinAcceleration=a*e.retina.pixelRatio,t.spin={center:s,direction:t.velocity.x>=0?"clockwise":"counter-clockwise",angle:t.velocity.angle,radius:r,acceleration:t.retina.spinAcceleration}}}init(t){const e=t.options.move.gravity;t.gravity={enable:e.enable,acceleration:oe(e.acceleration),inverse:e.inverse},this._initSpin(t)}isEnabled(t){return!t.destroyed&&t.options.move.enable}move(t,e){const n=t.options,i=n.move;if(!i.enable)return;const s=t.container,r=s.retina.pixelRatio,a=function(t){return t.slow.inRange?t.slow.factor:1}(t),o=(t.retina.moveSpeed??=oe(i.speed)*r)*s.retina.reduceFactor,l=t.retina.moveDrift??=oe(t.options.move.drift)*r,c=ce(n.size.value)*r,d=o*(i.size?t.getRadius()/c:1)*a*(e.factor||1)/2,u=t.retina.maxSpeed??s.retina.maxSpeed;i.spin.enable?function(t,e){const n=t.container;if(!t.spin)return;const i={x:"clockwise"===t.spin.direction?Math.cos:Math.sin,y:"clockwise"===t.spin.direction?Math.sin:Math.cos};t.position.x=t.spin.center.x+t.spin.radius*i.x(t.spin.angle),t.position.y=t.spin.center.y+t.spin.radius*i.y(t.spin.angle),t.spin.radius+=t.spin.acceleration;const s=Math.max(n.canvas.size.width,n.canvas.size.height);t.spin.radius>s/2?(t.spin.radius=s/2,t.spin.acceleration*=-1):t.spin.radius<0&&(t.spin.radius=0,t.spin.acceleration*=-1),t.spin.angle+=e/100*(1-t.spin.radius/s)}(t,d):Ji(t,i,d,u,l,e),function(t){const e=t.initialPosition,{dx:n,dy:i}=he(e,t.position),s=Math.abs(n),r=Math.abs(i),{maxDistance:a}=t.retina,o=a.horizontal,l=a.vertical;if(o||l)if((o&&s>=o||l&&r>=l)&&!t.misplaced)t.misplaced=!!o&&s>o||!!l&&r>l,o&&(t.velocity.x=t.velocity.y/2-t.velocity.x),l&&(t.velocity.y=t.velocity.x/2-t.velocity.y);else if((!o||s<o)&&(!l||r<l)&&t.misplaced)t.misplaced=!1;else if(t.misplaced){const n=t.position,i=t.velocity;o&&(n.x<e.x&&i.x<0||n.x>e.x&&i.x>0)&&(i.x*=-ie()),l&&(n.y<e.y&&i.y<0||n.y>e.y&&i.y>0)&&(i.y*=-ie())}}(t)}}class ts{draw(t,e,n){e.circleRange||(e.circleRange={min:0,max:2*Math.PI});const i=e.circleRange;t.arc(0,0,n,i.min,i.max,!1)}getSidesCount(){return 12}particleInit(t,e){const n=e.shapeData,i=n?.angle??{max:360,min:0};e.circleRange=Ve(i)?{min:i.min*Math.PI/180,max:i.max*Math.PI/180}:{min:0,max:i*Math.PI/180}}}function es(t,e,n,i,s){if(!e||!n.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=t.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0))return;const r=ae(n.offset),a=(e.velocity??0)*t.factor+3.6*r,o=e.decay??1;s&&"increasing"!==e.status?(e.value-=a,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)):(e.value+=a,e.value>i&&(e.loops||(e.loops=0),e.loops++,s&&(e.status="decreasing",e.value-=e.value%i))),e.velocity&&1!==o&&(e.velocity*=o),e.value>i&&(e.value%=i)}class ns{constructor(t){this.container=t}init(t){const e=Ze(t.options.color,t.id,t.options.reduceDuplicates);e&&(t.color=dn(e,t.options.color.animation,this.container.retina.reduceFactor))}isEnabled(t){const{h:e,s:n,l:i}=t.options.color.animation,{color:s}=t;return!t.destroyed&&!t.spawning&&(void 0!==s?.h.value&&e.enable||void 0!==s?.s.value&&n.enable||void 0!==s?.l.value&&i.enable)}update(t,e){!function(t,e){const{h:n,s:i,l:s}=t.options.color.animation,{color:r}=t;if(!r)return;const{h:a,s:o,l:l}=r;a&&es(e,a,n,360,!1),o&&es(e,o,i,100,!0),l&&es(e,l,s,100,!0)}(t,e)}}class is{constructor(t){this.container=t}init(t){const e=t.options.opacity;t.opacity=Fe(e,1);const n=e.animation;n.enable&&(t.opacity.velocity=oe(n.speed)/100*this.container.retina.reduceFactor,n.sync||(t.opacity.velocity*=ie()))}isEnabled(t){return!t.destroyed&&!t.spawning&&!!t.opacity&&t.opacity.enable&&((t.opacity.maxLoops??0)<=0||(t.opacity.maxLoops??0)>0&&(t.opacity.loops??0)<(t.opacity.maxLoops??0))}reset(t){t.opacity&&(t.opacity.time=0,t.opacity.loops=0)}update(t,e){this.isEnabled(t)&&function(t,e){const n=t.opacity;if(t.destroyed||!n?.enable||(n.maxLoops??0)>0&&(n.loops??0)>(n.maxLoops??0))return;const i=n.min,s=n.max,r=n.decay??1;if(n.time||(n.time=0),(n.delayTime??0)>0&&n.time<(n.delayTime??0)&&(n.time+=e.value),!((n.delayTime??0)>0&&n.time<(n.delayTime??0))){switch(n.status){case"increasing":n.value>=s?(n.status="decreasing",n.loops||(n.loops=0),n.loops++):n.value+=(n.velocity??0)*e.factor;break;case"decreasing":n.value<=i?(n.status="increasing",n.loops||(n.loops=0),n.loops++):n.value-=(n.velocity??0)*e.factor}n.velocity&&1!==n.decay&&(n.velocity*=r),function(t,e,n,i){switch(t.options.opacity.animation.destroy){case"max":e>=i&&t.destroy();break;case"min":e<=n&&t.destroy()}}(t,n.value,i,s),t.destroyed||(n.value=se(n.value,i,s))}}(t,e)}}class ss{constructor(t){this.container=t,this.modes=["bounce","bounce-vertical","bounce-horizontal","bounceVertical","bounceHorizontal","split"]}update(t,e,n,i){if(!this.modes.includes(i))return;const s=this.container;let r=!1;for(const[,u]of s.plugins)if(void 0!==u.particleBounce&&(r=u.particleBounce(t,n,e)),r)break;if(r)return;const a=t.getPosition(),o=t.offset,l=t.getRadius(),c=Ae(a,l),d=s.canvas.size;!function(t){if("bounce"!==t.outMode&&"bounce-horizontal"!==t.outMode&&"bounceHorizontal"!==t.outMode&&"split"!==t.outMode||"left"!==t.direction&&"right"!==t.direction)return;t.bounds.right<0&&"left"===t.direction?t.particle.position.x=t.size+t.offset.x:t.bounds.left>t.canvasSize.width&&"right"===t.direction&&(t.particle.position.x=t.canvasSize.width-t.size-t.offset.x);const e=t.particle.velocity.x;let n=!1;if("right"===t.direction&&t.bounds.right>=t.canvasSize.width&&e>0||"left"===t.direction&&t.bounds.left<=0&&e<0){const e=ue(t.particle.options.bounce.horizontal);t.particle.velocity.x*=-e,n=!0}if(!n)return;const i=t.offset.x+t.size;t.bounds.right>=t.canvasSize.width&&"right"===t.direction?t.particle.position.x=t.canvasSize.width-i:t.bounds.left<=0&&"left"===t.direction&&(t.particle.position.x=i),"split"===t.outMode&&t.particle.destroy()}({particle:t,outMode:i,direction:e,bounds:c,canvasSize:d,offset:o,size:l}),function(t){if("bounce"!==t.outMode&&"bounce-vertical"!==t.outMode&&"bounceVertical"!==t.outMode&&"split"!==t.outMode||"bottom"!==t.direction&&"top"!==t.direction)return;t.bounds.bottom<0&&"top"===t.direction?t.particle.position.y=t.size+t.offset.y:t.bounds.top>t.canvasSize.height&&"bottom"===t.direction&&(t.particle.position.y=t.canvasSize.height-t.size-t.offset.y);const e=t.particle.velocity.y;let n=!1;if("bottom"===t.direction&&t.bounds.bottom>=t.canvasSize.height&&e>0||"top"===t.direction&&t.bounds.top<=0&&e<0){const e=ue(t.particle.options.bounce.vertical);t.particle.velocity.y*=-e,n=!0}if(!n)return;const i=t.offset.y+t.size;t.bounds.bottom>=t.canvasSize.height&&"bottom"===t.direction?t.particle.position.y=t.canvasSize.height-i:t.bounds.top<=0&&"top"===t.direction&&(t.particle.position.y=i),"split"===t.outMode&&t.particle.destroy()}({particle:t,outMode:i,direction:e,bounds:c,canvasSize:d,offset:o,size:l})}}class rs{constructor(t){this.container=t,this.modes=["destroy"]}update(t,e,n,i){if(!this.modes.includes(i))return;const s=this.container;switch(t.outType){case"normal":case"outside":if(ke(t.position,s.canvas.size,Jt.origin,t.getRadius(),e))return;break;case"inside":{const{dx:e,dy:n}=he(t.position,t.moveCenter),{x:i,y:s}=t.velocity;if(i<0&&e>t.moveCenter.radius||s<0&&n>t.moveCenter.radius||i>=0&&e<-t.moveCenter.radius||s>=0&&n<-t.moveCenter.radius)return;break}}s.particles.remove(t,void 0,!0)}}class as{constructor(t){this.container=t,this.modes=["none"]}update(t,e,n,i){if(!this.modes.includes(i))return;if(t.options.move.distance.horizontal&&("left"===e||"right"===e)||t.options.move.distance.vertical&&("top"===e||"bottom"===e))return;const s=t.options.move.gravity,r=this.container,a=r.canvas.size,o=t.getRadius();if(s.enable){const n=t.position;(!s.inverse&&n.y>a.height+o&&"bottom"===e||s.inverse&&n.y<-o&&"top"===e)&&r.particles.remove(t)}else{if(t.velocity.y>0&&t.position.y<=a.height+o||t.velocity.y<0&&t.position.y>=-o||t.velocity.x>0&&t.position.x<=a.width+o||t.velocity.x<0&&t.position.x>=-o)return;ke(t.position,r.canvas.size,Jt.origin,o,e)||r.particles.remove(t)}}}class os{constructor(t){this.container=t,this.modes=["out"]}update(t,e,n,i){if(!this.modes.includes(i))return;const s=this.container;switch(t.outType){case"inside":{const{x:e,y:n}=t.velocity,i=Jt.origin;i.length=t.moveCenter.radius,i.angle=t.velocity.angle+Math.PI,i.addTo(Jt.create(t.moveCenter));const{dx:r,dy:a}=he(t.position,i);if(e<=0&&r>=0||n<=0&&a>=0||e>=0&&r<=0||n>=0&&a<=0)return;t.position.x=Math.floor(ae({min:0,max:s.canvas.size.width})),t.position.y=Math.floor(ae({min:0,max:s.canvas.size.height}));const{dx:o,dy:l}=he(t.position,t.moveCenter);t.direction=Math.atan2(-l,-o),t.velocity.angle=t.direction;break}default:if(ke(t.position,s.canvas.size,Jt.origin,t.getRadius(),e))return;switch(t.outType){case"outside":{t.position.x=Math.floor(ae({min:-t.moveCenter.radius,max:t.moveCenter.radius}))+t.moveCenter.x,t.position.y=Math.floor(ae({min:-t.moveCenter.radius,max:t.moveCenter.radius}))+t.moveCenter.y;const{dx:e,dy:n}=he(t.position,t.moveCenter);t.moveCenter.radius&&(t.direction=Math.atan2(n,e),t.velocity.angle=t.direction);break}case"normal":{const n=t.options.move.warp,i=s.canvas.size,r={bottom:i.height+t.getRadius()+t.offset.y,left:-t.getRadius()-t.offset.x,right:i.width+t.getRadius()+t.offset.x,top:-t.getRadius()-t.offset.y},a=t.getRadius(),o=Ae(t.position,a);"right"===e&&o.left>i.width+t.offset.x?(t.position.x=r.left,t.initialPosition.x=t.position.x,n||(t.position.y=ie()*i.height,t.initialPosition.y=t.position.y)):"left"===e&&o.right<-t.offset.x&&(t.position.x=r.right,t.initialPosition.x=t.position.x,n||(t.position.y=ie()*i.height,t.initialPosition.y=t.position.y)),"bottom"===e&&o.top>i.height+t.offset.y?(n||(t.position.x=ie()*i.width,t.initialPosition.x=t.position.x),t.position.y=r.top,t.initialPosition.y=t.position.y):"top"===e&&o.bottom<-t.offset.y&&(n||(t.position.x=ie()*i.width,t.initialPosition.x=t.position.x),t.position.y=r.bottom,t.initialPosition.y=t.position.y);break}}}}}class ls{constructor(t){this.container=t,this._updateOutMode=(t,e,n,i)=>{for(const s of this.updaters)s.update(t,i,e,n)},this.updaters=[new ss(t),new rs(t),new os(t),new as(t)]}init(){}isEnabled(t){return!t.destroyed&&!t.spawning}update(t,e){const n=t.options.move.outModes;this._updateOutMode(t,e,n.bottom??n.default,"bottom"),this._updateOutMode(t,e,n.left??n.default,"left"),this._updateOutMode(t,e,n.right??n.default,"right"),this._updateOutMode(t,e,n.top??n.default,"top")}}class cs{init(t){const e=t.container,n=t.options.size.animation;n.enable&&(t.size.velocity=(t.retina.sizeAnimationSpeed??e.retina.sizeAnimationSpeed)/100*e.retina.reduceFactor,n.sync||(t.size.velocity*=ie()))}isEnabled(t){return!t.destroyed&&!t.spawning&&t.size.enable&&((t.size.maxLoops??0)<=0||(t.size.maxLoops??0)>0&&(t.size.loops??0)<(t.size.maxLoops??0))}reset(t){t.size.loops=0}update(t,e){this.isEnabled(t)&&function(t,e){const n=t.size;if(t.destroyed||!n||!n.enable||(n.maxLoops??0)>0&&(n.loops??0)>(n.maxLoops??0))return;const i=(n.velocity??0)*e.factor,s=n.min,r=n.max,a=n.decay??1;if(n.time||(n.time=0),(n.delayTime??0)>0&&n.time<(n.delayTime??0)&&(n.time+=e.value),!((n.delayTime??0)>0&&n.time<(n.delayTime??0))){switch(n.status){case"increasing":n.value>=r?(n.status="decreasing",n.loops||(n.loops=0),n.loops++):n.value+=i;break;case"decreasing":n.value<=s?(n.status="increasing",n.loops||(n.loops=0),n.loops++):n.value-=i}n.velocity&&1!==a&&(n.velocity*=a),function(t,e,n,i){switch(t.options.size.animation.destroy){case"max":e>=i&&t.destroy();break;case"min":e<=n&&t.destroy()}}(t,n.value,s,r),t.destroyed||(n.value=se(n.value,s,r))}}(t,e)}}async function ds(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addMover("base",(()=>new Zi),e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addShape("circle",new ts,e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addParticleUpdater("color",(t=>new ns(t)),e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addParticleUpdater("opacity",(t=>new is(t)),e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addParticleUpdater("outModes",(t=>new ls(t)),e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addParticleUpdater("size",(()=>new cs),e)}(t,!1),await t.refresh(e)}class us{constructor(t){this.container=t,this.type="external"}}class hs{constructor(){this.distance=200,this.duration=.4,this.easing="ease-out-quad",this.factor=1,this.maxSpeed=50,this.speed=1}load(t){t&&(void 0!==t.distance&&(this.distance=t.distance),void 0!==t.duration&&(this.duration=t.duration),void 0!==t.easing&&(this.easing=t.easing),void 0!==t.factor&&(this.factor=t.factor),void 0!==t.maxSpeed&&(this.maxSpeed=t.maxSpeed),void 0!==t.speed&&(this.speed=t.speed))}}class ps extends us{constructor(t,e){super(e),this._clickAttract=()=>{const t=this.container;t.attract||(t.attract={particles:[]});const{attract:e}=t;if(e.finish||(e.count||(e.count=0),e.count++,e.count===t.particles.count&&(e.finish=!0)),e.clicking){const e=t.interactivity.mouse.clickPosition,n=t.retina.attractModeDistance;if(!n||n<0||!e)return;this._processAttract(e,n,new Pi(e.x,e.y,n))}else!1===e.clicking&&(e.particles=[])},this._hoverAttract=()=>{const t=this.container,e=t.interactivity.mouse.position,n=t.retina.attractModeDistance;!n||n<0||!e||this._processAttract(e,n,new Pi(e.x,e.y,n))},this._processAttract=(t,e,n)=>{const i=this.container,s=i.actualOptions.interactivity.modes.attract;if(!s)return;const r=i.particles.quadTree.query(n,(t=>this.isEnabled(t)));for(const a of r){const{dx:n,dy:i,distance:r}=he(a.position,t),o=s.speed*s.factor,l=se(ne(s.easing)(1-r/e)*o,0,s.maxSpeed),c=Jt.create(0===r?o:n/r*l,0===r?o:i/r*l);a.position.subFrom(c)}},this._engine=t,e.attract||(e.attract={particles:[]}),this.handleClickMode=t=>{const n=this.container.actualOptions.interactivity.modes.attract;if(n&&"attract"===t){e.attract||(e.attract={particles:[]}),e.attract.clicking=!0,e.attract.count=0;for(const t of e.attract.particles)this.isEnabled(t)&&t.velocity.setTo(t.initialVelocity);e.attract.particles=[],e.attract.finish=!1,setTimeout((()=>{e.destroyed||(e.attract||(e.attract={particles:[]}),e.attract.clicking=!1)}),1e3*n.duration)}}}clear(){}init(){const t=this.container,e=t.actualOptions.interactivity.modes.attract;e&&(t.retina.attractModeDistance=e.distance*t.retina.pixelRatio)}async interact(){const t=this.container,e=t.actualOptions,n=t.interactivity.status===Xt,i=e.interactivity.events,s=i.onHover.enable,r=i.onHover.mode,a=i.onClick.enable,o=i.onClick.mode;n&&s&&_e("attract",r)?this._hoverAttract():a&&_e("attract",o)&&this._clickAttract()}isEnabled(t){const e=this.container,n=e.actualOptions,i=e.interactivity.mouse,s=(t?.interactivity??n.interactivity).events;if((!i.position||!s.onHover.enable)&&(!i.clickPosition||!s.onClick.enable))return!1;const r=s.onHover.mode,a=s.onClick.mode;return _e("attract",r)||_e("attract",a)}loadModeOptions(t){t.attract||(t.attract=new hs);for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const s of n)t.attract.load(s?.attract)}reset(){}}class fs{constructor(){this.distance=200}load(t){t&&void 0!==t.distance&&(this.distance=t.distance)}}class gs extends us{constructor(t){super(t),this._processBounce=(t,e,n)=>{const i=this.container.particles.quadTree.query(n,(t=>this.isEnabled(t)));for(const s of i)n instanceof Pi?De(Me(s),{position:t,radius:e,mass:e**2*Math.PI/2,velocity:Jt.origin,factor:Jt.origin}):n instanceof Ti&&Re(s,Ae(t,e))},this._processMouseBounce=()=>{const t=this.container,e=10*t.retina.pixelRatio,n=t.interactivity.mouse.position,i=t.retina.bounceModeDistance;!i||i<0||!n||this._processBounce(n,i,new Pi(n.x,n.y,i+e))},this._singleSelectorBounce=(t,e)=>{const n=this.container,i=document.querySelectorAll(t);i.length&&i.forEach((t=>{const i=t,s=n.retina.pixelRatio,r={x:(i.offsetLeft+i.offsetWidth/2)*s,y:(i.offsetTop+i.offsetHeight/2)*s},a=i.offsetWidth/2*s,o=10*s,l="circle"===e.type?new Pi(r.x,r.y,a+o):new Ti(i.offsetLeft*s-o,i.offsetTop*s-o,i.offsetWidth*s+2*o,i.offsetHeight*s+2*o);this._processBounce(r,a,l)}))}}clear(){}init(){const t=this.container,e=t.actualOptions.interactivity.modes.bounce;e&&(t.retina.bounceModeDistance=e.distance*t.retina.pixelRatio)}async interact(){const t=this.container,e=t.actualOptions.interactivity.events,n=t.interactivity.status===Xt,i=e.onHover.enable,s=e.onHover.mode,r=e.onDiv;n&&i&&_e("bounce",s)?this._processMouseBounce():Te("bounce",r,((t,e)=>this._singleSelectorBounce(t,e)))}isEnabled(t){const e=this.container,n=e.actualOptions,i=e.interactivity.mouse,s=(t?.interactivity??n.interactivity).events,r=s.onDiv;return i.position&&s.onHover.enable&&_e("bounce",s.onHover.mode)||Ee("bounce",r)}loadModeOptions(t){t.bounce||(t.bounce=new fs);for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const s of n)t.bounce.load(s?.bounce)}reset(){}}class ms{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(t){if(t){if(void 0!==t.distance&&(this.distance=t.distance),void 0!==t.duration&&(this.duration=t.duration),void 0!==t.mix&&(this.mix=t.mix),void 0!==t.opacity&&(this.opacity=t.opacity),void 0!==t.color){const e=$e(this.color)?void 0:this.color;this.color=Ie(t.color,(t=>bn.create(e,t)))}void 0!==t.size&&(this.size=t.size)}}}class vs extends ms{constructor(){super(),this.selectors=[]}get ids(){return Ie(this.selectors,(t=>t.replace("#","")))}set ids(t){this.selectors=Ie(t,(t=>`#${t}`))}load(t){super.load(t),t&&(void 0!==t.ids&&(this.ids=t.ids),void 0!==t.selectors&&(this.selectors=t.selectors))}}class bs extends ms{load(t){super.load(t),t&&(this.divs=Ie(t.divs,(t=>{const e=new vs;return e.load(t),e})))}}function ys(t,e,n,i){if(e>=n){return se(t+(e-n)*i,t,e)}if(e<n){return se(t-(n-e)*i,e,t)}}class ws extends us{constructor(t){super(t),this._clickBubble=()=>{const t=this.container,e=t.actualOptions,n=t.interactivity.mouse.clickPosition,i=e.interactivity.modes.bubble;if(!i||!n)return;t.bubble||(t.bubble={});const s=t.retina.bubbleModeDistance;if(!s||s<0)return;const r=t.particles.quadTree.queryCircle(n,s,(t=>this.isEnabled(t))),{bubble:a}=t;for(const o of r){if(!a.clicking)continue;o.bubble.inRange=!a.durationEnd;const e=pe(o.getPosition(),n),r=((new Date).getTime()-(t.interactivity.mouse.clickTime||0))/1e3;r>i.duration&&(a.durationEnd=!0),r>2*i.duration&&(a.clicking=!1,a.durationEnd=!1);const l={bubbleObj:{optValue:t.retina.bubbleModeSize,value:o.bubble.radius},particlesObj:{optValue:ce(o.options.size.value)*t.retina.pixelRatio,value:o.size.value},type:"size"};this._process(o,e,r,l);const c={bubbleObj:{optValue:i.opacity,value:o.bubble.opacity},particlesObj:{optValue:ce(o.options.opacity.value),value:o.opacity?.value??1},type:"opacity"};this._process(o,e,r,c),!a.durationEnd&&e<=s?this._hoverBubbleColor(o,e):delete o.bubble.color}},this._hoverBubble=()=>{const t=this.container,e=t.interactivity.mouse.position,n=t.retina.bubbleModeDistance;if(!n||n<0||void 0===e)return;const i=t.particles.quadTree.queryCircle(e,n,(t=>this.isEnabled(t)));for(const s of i){s.bubble.inRange=!0;const i=pe(s.getPosition(),e),r=1-i/n;i<=n?r>=0&&t.interactivity.status===Xt&&(this._hoverBubbleSize(s,r),this._hoverBubbleOpacity(s,r),this._hoverBubbleColor(s,r)):this.reset(s),t.interactivity.status===qt&&this.reset(s)}},this._hoverBubbleColor=(t,e,n)=>{const i=this.container.actualOptions,s=n??i.interactivity.modes.bubble;if(s){if(!t.bubble.finalColor){const e=s.color;if(!e)return;const n=Le(e);t.bubble.finalColor=Ze(n)}if(t.bubble.finalColor)if(s.mix){t.bubble.color=void 0;const n=t.getFillColor();t.bubble.color=n?tn(an(n,t.bubble.finalColor,1-e,e)):t.bubble.finalColor}else t.bubble.color=t.bubble.finalColor}},this._hoverBubbleOpacity=(t,e,n)=>{const i=this.container.actualOptions,s=n?.opacity??i.interactivity.modes.bubble?.opacity;if(!s)return;const r=t.options.opacity.value,a=ys(t.opacity?.value??1,s,ce(r),e);void 0!==a&&(t.bubble.opacity=a)},this._hoverBubbleSize=(t,e,n)=>{const i=this.container,s=n?.size?n.size*i.retina.pixelRatio:i.retina.bubbleModeSize;if(void 0===s)return;const r=ce(t.options.size.value)*i.retina.pixelRatio,a=ys(t.size.value,s,r,e);void 0!==a&&(t.bubble.radius=a)},this._process=(t,e,n,i)=>{const s=this.container,r=i.bubbleObj.optValue,a=s.actualOptions.interactivity.modes.bubble;if(!a||void 0===r)return;const o=a.duration,l=s.retina.bubbleModeDistance,c=i.particlesObj.optValue,d=i.bubbleObj.value,u=i.particlesObj.value||0,h=i.type;if(l&&!(l<0)&&r!==c)if(s.bubble||(s.bubble={}),s.bubble.durationEnd)d&&("size"===h&&delete t.bubble.radius,"opacity"===h&&delete t.bubble.opacity);else if(e<=l){if((d??u)!==r){const e=u-n*(u-r)/o;"size"===h&&(t.bubble.radius=e),"opacity"===h&&(t.bubble.opacity=e)}}else"size"===h&&delete t.bubble.radius,"opacity"===h&&delete t.bubble.opacity},this._singleSelectorHover=(t,e,n)=>{const i=this.container,s=document.querySelectorAll(e),r=i.actualOptions.interactivity.modes.bubble;r&&s.length&&s.forEach((e=>{const s=e,a=i.retina.pixelRatio,o={x:(s.offsetLeft+s.offsetWidth/2)*a,y:(s.offsetTop+s.offsetHeight/2)*a},l=s.offsetWidth/2*a,c="circle"===n.type?new Pi(o.x,o.y,l):new Ti(s.offsetLeft*a,s.offsetTop*a,s.offsetWidth*a,s.offsetHeight*a),d=i.particles.quadTree.query(c,(t=>this.isEnabled(t)));for(const n of d){if(!c.contains(n.getPosition()))continue;n.bubble.inRange=!0;const e=Pe(r.divs,s);n.bubble.div&&n.bubble.div===s||(this.clear(n,t,!0),n.bubble.div=s),this._hoverBubbleSize(n,1,e),this._hoverBubbleOpacity(n,1,e),this._hoverBubbleColor(n,1,e)}}))},t.bubble||(t.bubble={}),this.handleClickMode=e=>{"bubble"===e&&(t.bubble||(t.bubble={}),t.bubble.clicking=!0)}}clear(t,e,n){t.bubble.inRange&&!n||(delete t.bubble.div,delete t.bubble.opacity,delete t.bubble.radius,delete t.bubble.color)}init(){const t=this.container,e=t.actualOptions.interactivity.modes.bubble;e&&(t.retina.bubbleModeDistance=e.distance*t.retina.pixelRatio,void 0!==e.size&&(t.retina.bubbleModeSize=e.size*t.retina.pixelRatio))}async interact(t){const e=this.container.actualOptions.interactivity.events,n=e.onHover,i=e.onClick,s=n.enable,r=n.mode,a=i.enable,o=i.mode,l=e.onDiv;s&&_e("bubble",r)?this._hoverBubble():a&&_e("bubble",o)?this._clickBubble():Te("bubble",l,((e,n)=>this._singleSelectorHover(t,e,n)))}isEnabled(t){const e=this.container,n=e.actualOptions,i=e.interactivity.mouse,s=(t?.interactivity??n.interactivity).events,{onClick:r,onDiv:a,onHover:o}=s,l=Ee("bubble",a);return!!(l||o.enable&&i.position||r.enable&&i.clickPosition)&&(_e("bubble",o.mode)||_e("bubble",r.mode)||l)}loadModeOptions(t){t.bubble||(t.bubble=new bs);for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const s of n)t.bubble.load(s?.bubble)}reset(t){t.bubble.inRange=!1}}class xs{constructor(){this.opacity=.5}load(t){t&&void 0!==t.opacity&&(this.opacity=t.opacity)}}class _s{constructor(){this.distance=80,this.links=new xs,this.radius=60}get lineLinked(){return this.links}set lineLinked(t){this.links=t}get line_linked(){return this.links}set line_linked(t){this.links=t}load(t){t&&(void 0!==t.distance&&(this.distance=t.distance),this.links.load(t.links??t.lineLinked??t.line_linked),void 0!==t.radius&&(this.radius=t.radius))}}function Ss(t,e,n,i){const s=t.actualOptions.interactivity.modes.connect;if(s)return function(t,e,n,i){const s=Math.floor(n.getRadius()/e.getRadius()),r=e.getFillColor(),a=n.getFillColor();if(!r||!a)return;const o=e.getPosition(),l=n.getPosition(),c=an(r,a,e.getRadius(),n.getRadius()),d=t.createLinearGradient(o.x,o.y,l.x,l.y);return d.addColorStop(0,rn(r,i)),d.addColorStop(s>1?1:s,sn(c,i)),d.addColorStop(1,rn(a,i)),d}(e,n,i,s.links.opacity)}function ks(t,e,n){t.canvas.draw((i=>{const s=Ss(t,i,e,n);if(!s)return;const r=e.getPosition(),a=n.getPosition();!function(t,e,n,i,s){hn(t,i,s),t.lineWidth=e,t.strokeStyle=n,t.stroke()}(i,e.retina.linksWidth??0,s,r,a)}))}class As extends us{constructor(t){super(t)}clear(){}init(){const t=this.container,e=t.actualOptions.interactivity.modes.connect;e&&(t.retina.connectModeDistance=e.distance*t.retina.pixelRatio,t.retina.connectModeRadius=e.radius*t.retina.pixelRatio)}async interact(){const t=this.container;if(t.actualOptions.interactivity.events.onHover.enable&&"pointermove"===t.interactivity.status){const e=t.interactivity.mouse.position;if(!t.retina.connectModeDistance||t.retina.connectModeDistance<0||!t.retina.connectModeRadius||t.retina.connectModeRadius<0||!e)return;const n=Math.abs(t.retina.connectModeRadius),i=t.particles.quadTree.queryCircle(e,n,(t=>this.isEnabled(t)));let s=0;for(const r of i){const e=r.getPosition();for(const n of i.slice(s+1)){const i=n.getPosition(),s=Math.abs(t.retina.connectModeDistance),a=Math.abs(e.x-i.x),o=Math.abs(e.y-i.y);a<s&&o<s&&ks(t,r,n)}++s}}}isEnabled(t){const e=this.container,n=e.interactivity.mouse,i=(t?.interactivity??e.actualOptions.interactivity).events;return!(!i.onHover.enable||!n.position)&&_e("connect",i.onHover.mode)}loadModeOptions(t){t.connect||(t.connect=new _s);for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const s of n)t.connect.load(s?.connect)}reset(){}}class Cs{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(t){t&&(void 0!==t.blink&&(this.blink=t.blink),void 0!==t.color&&(this.color=bn.create(this.color,t.color)),void 0!==t.consent&&(this.consent=t.consent),void 0!==t.opacity&&(this.opacity=t.opacity))}}class Es{constructor(){this.distance=100,this.links=new Cs}get lineLinked(){return this.links}set lineLinked(t){this.links=t}get line_linked(){return this.links}set line_linked(t){this.links=t}load(t){t&&(void 0!==t.distance&&(this.distance=t.distance),this.links.load(t.links??t.lineLinked??t.line_linked))}}function Ts(t,e,n,i,s){t.canvas.draw((t=>{const r=e.getPosition();!function(t,e,n,i,s,r){hn(t,n,i),t.strokeStyle=sn(s,r),t.lineWidth=e,t.stroke()}(t,e.retina.linksWidth??0,r,s,n,i)}))}class Ps extends us{constructor(t){super(t)}clear(){}init(){const t=this.container,e=t.actualOptions.interactivity.modes.grab;e&&(t.retina.grabModeDistance=e.distance*t.retina.pixelRatio)}async interact(){const t=this.container,e=t.actualOptions.interactivity;if(!e.modes.grab||!e.events.onHover.enable||t.interactivity.status!==Xt)return;const n=t.interactivity.mouse.position;if(!n)return;const i=t.retina.grabModeDistance;if(!i||i<0)return;const s=t.particles.quadTree.queryCircle(n,i,(t=>this.isEnabled(t)));for(const r of s){const s=pe(r.getPosition(),n);if(s>i)continue;const a=e.modes.grab.links,o=a.opacity,l=o-s*o/i;if(l<=0)continue;const c=a.color??r.options.links?.color;if(!t.particles.grabLineColor&&c){const n=e.modes.grab.links;t.particles.grabLineColor=ln(c,n.blink,n.consent)}const d=on(r,void 0,t.particles.grabLineColor);d&&Ts(t,r,d,l,n)}}isEnabled(t){const e=this.container,n=e.interactivity.mouse,i=(t?.interactivity??e.actualOptions.interactivity).events;return i.onHover.enable&&!!n.position&&_e("grab",i.onHover.mode)}loadModeOptions(t){t.grab||(t.grab=new Es);for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const s of n)t.grab.load(s?.grab)}reset(){}}class Ms extends us{constructor(t){super(t),this.handleClickMode=t=>{if("pause"!==t)return;const e=this.container;e.getAnimationStatus()?e.pause():e.play()}}clear(){}init(){}async interact(){}isEnabled(){return!0}reset(){}}class Ds{constructor(){this.default=!0,this.groups=[],this.quantity=4}get particles_nb(){return this.quantity}set particles_nb(t){this.quantity=de(t)}load(t){if(!t)return;void 0!==t.default&&(this.default=t.default),void 0!==t.groups&&(this.groups=t.groups.map((t=>t))),this.groups.length||(this.default=!0);const e=t.quantity??t.particles_nb;void 0!==e&&(this.quantity=de(e))}}class Rs extends us{constructor(t){super(t),this.handleClickMode=t=>{if("push"!==t)return;const e=this.container,n=e.actualOptions.interactivity.modes.push;if(!n)return;const i=oe(n.quantity);if(i<=0)return;const s=Se([void 0,...n.groups]),r=void 0!==s?e.actualOptions.particles.groups[s]:void 0;e.particles.push(i,e.interactivity.mouse,r,s)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(t){t.push||(t.push=new Ds);for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const s of n)t.push.load(s?.push)}reset(){}}class Is{constructor(){this.quantity=2}get particles_nb(){return this.quantity}set particles_nb(t){this.quantity=de(t)}load(t){if(!t)return;const e=t.quantity??t.particles_nb;void 0!==e&&(this.quantity=de(e))}}class Ls extends us{constructor(t){super(t),this.handleClickMode=t=>{const e=this.container,n=e.actualOptions;if(!n.interactivity.modes.remove||"remove"!==t)return;const i=oe(n.interactivity.modes.remove.quantity);e.particles.removeQuantity(i)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(t){t.remove||(t.remove=new Is);for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const s of n)t.remove.load(s?.remove)}reset(){}}class Os{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing="ease-out-quad"}load(t){t&&(void 0!==t.distance&&(this.distance=t.distance),void 0!==t.duration&&(this.duration=t.duration),void 0!==t.easing&&(this.easing=t.easing),void 0!==t.factor&&(this.factor=t.factor),void 0!==t.speed&&(this.speed=t.speed),void 0!==t.maxSpeed&&(this.maxSpeed=t.maxSpeed))}}class Fs extends Os{constructor(){super(),this.selectors=[]}get ids(){return Ie(this.selectors,(t=>t.replace("#","")))}set ids(t){this.selectors=Ie(t,(t=>`#${t}`))}load(t){super.load(t),t&&(void 0!==t.ids&&(this.ids=t.ids),void 0!==t.selectors&&(this.selectors=t.selectors))}}class Bs extends Os{load(t){super.load(t),t&&(this.divs=Ie(t.divs,(t=>{const e=new Fs;return e.load(t),e})))}}class Ns extends us{constructor(t,e){super(e),this._clickRepulse=()=>{const t=this.container,e=t.actualOptions.interactivity.modes.repulse;if(!e)return;const n=t.repulse||{particles:[]};if(n.finish||(n.count||(n.count=0),n.count++,n.count===t.particles.count&&(n.finish=!0)),n.clicking){const i=t.retina.repulseModeDistance;if(!i||i<0)return;const s=Math.pow(i/6,3),r=t.interactivity.mouse.clickPosition;if(void 0===r)return;const a=new Pi(r.x,r.y,s),o=t.particles.quadTree.query(a,(t=>this.isEnabled(t)));for(const t of o){const{dx:i,dy:a,distance:o}=he(r,t.position),l=o**2,c=-s*e.speed/l;if(l<=s){n.particles.push(t);const e=Jt.create(i,a);e.length=c,t.velocity.setTo(e)}}}else if(!1===n.clicking){for(const t of n.particles)t.velocity.setTo(t.initialVelocity);n.particles=[]}},this._hoverRepulse=()=>{const t=this.container,e=t.interactivity.mouse.position,n=t.retina.repulseModeDistance;!n||n<0||!e||this._processRepulse(e,n,new Pi(e.x,e.y,n))},this._processRepulse=(t,e,n,i)=>{const s=this.container,r=s.particles.quadTree.query(n,(t=>this.isEnabled(t))),a=s.actualOptions.interactivity.modes.repulse;if(a)for(const o of r){const{dx:n,dy:s,distance:r}=he(o.position,t),l=(i?.speed??a.speed)*a.factor,c=se(ne(a.easing)(1-r/e)*l,0,a.maxSpeed),d=Jt.create(0===r?l:n/r*c,0===r?l:s/r*c);o.position.addTo(d)}},this._singleSelectorRepulse=(t,e)=>{const n=this.container,i=n.actualOptions.interactivity.modes.repulse;if(!i)return;const s=document.querySelectorAll(t);s.length&&s.forEach((t=>{const s=t,r=n.retina.pixelRatio,a={x:(s.offsetLeft+s.offsetWidth/2)*r,y:(s.offsetTop+s.offsetHeight/2)*r},o=s.offsetWidth/2*r,l="circle"===e.type?new Pi(a.x,a.y,o):new Ti(s.offsetLeft*r,s.offsetTop*r,s.offsetWidth*r,s.offsetHeight*r),c=Pe(i.divs,s);this._processRepulse(a,o,l,c)}))},this._engine=t,e.repulse||(e.repulse={particles:[]}),this.handleClickMode=t=>{const n=this.container.actualOptions.interactivity.modes.repulse;if(!n||"repulse"!==t)return;e.repulse||(e.repulse={particles:[]});const i=e.repulse;i.clicking=!0,i.count=0;for(const s of e.repulse.particles)this.isEnabled(s)&&s.velocity.setTo(s.initialVelocity);i.particles=[],i.finish=!1,setTimeout((()=>{e.destroyed||(i.clicking=!1)}),1e3*n.duration)}}clear(){}init(){const t=this.container,e=t.actualOptions.interactivity.modes.repulse;e&&(t.retina.repulseModeDistance=e.distance*t.retina.pixelRatio)}async interact(){const t=this.container,e=t.actualOptions,n=t.interactivity.status===Xt,i=e.interactivity.events,s=i.onHover,r=s.enable,a=s.mode,o=i.onClick,l=o.enable,c=o.mode,d=i.onDiv;n&&r&&_e("repulse",a)?this._hoverRepulse():l&&_e("repulse",c)?this._clickRepulse():Te("repulse",d,((t,e)=>this._singleSelectorRepulse(t,e)))}isEnabled(t){const e=this.container,n=e.actualOptions,i=e.interactivity.mouse,s=(t?.interactivity??n.interactivity).events,r=s.onDiv,a=s.onHover,o=s.onClick,l=Ee("repulse",r);if(!(l||a.enable&&i.position||o.enable&&i.clickPosition))return!1;const c=a.mode,d=o.mode;return _e("repulse",c)||_e("repulse",d)||l}loadModeOptions(t){t.repulse||(t.repulse=new Bs);for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const s of n)t.repulse.load(s?.repulse)}reset(){}}class zs{constructor(){this.factor=3,this.radius=200}load(t){t&&(void 0!==t.factor&&(this.factor=t.factor),void 0!==t.radius&&(this.radius=t.radius))}}class Us extends us{constructor(t){super(t)}clear(t,e,n){t.slow.inRange&&!n||(t.slow.factor=1)}init(){const t=this.container,e=t.actualOptions.interactivity.modes.slow;e&&(t.retina.slowModeRadius=e.radius*t.retina.pixelRatio)}async interact(){}isEnabled(t){const e=this.container,n=e.interactivity.mouse,i=(t?.interactivity??e.actualOptions.interactivity).events;return i.onHover.enable&&!!n.position&&_e("slow",i.onHover.mode)}loadModeOptions(t){t.slow||(t.slow=new zs);for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const s of n)t.slow.load(s?.slow)}reset(t){t.slow.inRange=!1;const e=this.container,n=e.actualOptions,i=e.interactivity.mouse.position,s=e.retina.slowModeRadius,r=n.interactivity.modes.slow;if(!r||!s||s<0||!i)return;const a=pe(i,t.getPosition()),o=a/s,l=r.factor,{slow:c}=t;a>s||(c.inRange=!0,c.factor=o/l)}}const js=[0,4,2,1],Hs=[8,8,4,2];class Vs{constructor(t){this.pos=0,this.data=new Uint8ClampedArray(t)}getString(t){const e=this.data.slice(this.pos,this.pos+t);return this.pos+=e.length,e.reduce(((t,e)=>t+String.fromCharCode(e)),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let t="",e=0;do{e=this.data[this.pos++];for(let n=e;--n>=0;t+=String.fromCharCode(this.data[this.pos++]));}while(0!==e);return t}readSubBlocksBin(){let t=0,e=0;for(let i=0;0!==(t=this.data[this.pos+i]);i+=t+1)e+=t;const n=new Uint8Array(e);for(let i=0;0!==(t=this.data[this.pos++]);)for(let e=t;--e>=0;n[i++]=this.data[this.pos++]);return n}skipSubBlocks(){for(;0!==this.data[this.pos];this.pos+=this.data[this.pos]+1);this.pos++}}function $s(t,e){const n=[];for(let i=0;i<e;i++)n.push({r:t.data[t.pos],g:t.data[t.pos+1],b:t.data[t.pos+2]}),t.pos+=3;return n}async function Ws(t,e,n,i,s,r){switch(t.nextByte()){case 59:return!0;case 44:await async function(t,e,n,i,s,r){const a=e.frames[i(!0)];a.left=t.nextTwoBytes(),a.top=t.nextTwoBytes(),a.width=t.nextTwoBytes(),a.height=t.nextTwoBytes();const o=t.nextByte(),l=128===(128&o),c=64===(64&o);a.sortFlag=32===(32&o),a.reserved=(24&o)>>>3;const d=1<<1+(7&o);l&&(a.localColorTable=$s(t,d));const u=t=>{const{r:i,g:r,b:o}=(l?a.localColorTable:e.globalColorTable)[t];return{r:i,g:r,b:o,a:t===s(null)?n?~~((i+r+o)/3):0:255}},h=(()=>{try{return new ImageData(a.width,a.height,{colorSpace:"srgb"})}catch(t){if(t instanceof DOMException&&"IndexSizeError"===t.name)return null;throw t}})();if(null==h)throw new EvalError("GIF frame size is to large");const p=t.nextByte(),f=t.readSubBlocksBin(),g=1<<p,m=(t,e)=>{const n=t>>>3,i=7&t;return(f[n]+(f[n+1]<<8)+(f[n+2]<<16)&(1<<e)-1<<i)>>>i};if(c){for(let n=0,s=p+1,o=0,l=[[0]],c=0;c<4;c++){if(js[c]<a.height)for(let t=0,e=0;;){const i=n;if(n=m(o,s),o+=s+1,n===g){s=p+1,l.length=g+2;for(let t=0;t<l.length;t++)l[t]=t<g?[t]:[]}else{n>=l.length?l.push(l[i].concat(l[i][0])):i!==g&&l.push(l[i].concat(l[n][0]));for(let i=0;i<l[n].length;i++){const{r:s,g:r,b:o,a:d}=u(l[n][i]);h.data.set([s,r,o,d],js[c]*a.width+Hs[c]*e+t%(4*a.width)),t+=4}l.length===1<<s&&s<12&&s++}if(t===4*a.width*(e+1)&&(e++,js[c]+Hs[c]*e>=a.height))break}r?.(t.pos/(t.data.length-1),i(!1)+1,h,{x:a.left,y:a.top},{width:e.width,height:e.height})}a.image=h,a.bitmap=await createImageBitmap(h)}else{for(let t=0,e=p+1,n=0,i=[[0]],s=-4;;){const r=t;if(t=m(n,e),n+=e,t===g){e=p+1,i.length=g+2;for(let t=0;t<i.length;t++)i[t]=t<g?[t]:[]}else{if(t===g+1)break;t>=i.length?i.push(i[r].concat(i[r][0])):r!==g&&i.push(i[r].concat(i[t][0]));for(let e=0;e<i[t].length;e++){const{r:n,g:r,b:a,a:o}=u(i[t][e]);h.data.set([n,r,a,o],s+=4)}i.length>=1<<e&&e<12&&e++}}a.image=h,a.bitmap=await createImageBitmap(h),r?.((t.pos+1)/t.data.length,i(!1)+1,a.image,{x:a.left,y:a.top},{width:e.width,height:e.height})}}(t,e,n,i,s,r);break;case 33:await async function(t,e,n,i){switch(t.nextByte()){case 249:{const s=e.frames[n(!1)];t.pos++;const r=t.nextByte();s.GCreserved=(224&r)>>>5,s.disposalMethod=(28&r)>>>2,s.userInputDelayFlag=2===(2&r);const a=1===(1&r);s.delayTime=10*t.nextTwoBytes();const o=t.nextByte();a&&i(o),t.pos++;break}case 255:{t.pos++;const n={identifier:t.getString(8),authenticationCode:t.getString(3),data:t.readSubBlocksBin()};e.applicationExtensions.push(n);break}case 254:e.comments.push([n(!1),t.readSubBlocks()]);break;case 1:if(0===e.globalColorTable.length)throw new EvalError("plain text extension without global color table");t.pos++,e.frames[n(!1)].plainTextData={left:t.nextTwoBytes(),top:t.nextTwoBytes(),width:t.nextTwoBytes(),height:t.nextTwoBytes(),charSize:{width:t.nextTwoBytes(),height:t.nextTwoBytes()},foregroundColor:t.nextByte(),backgroundColor:t.nextByte(),text:t.readSubBlocks()};break;default:t.skipSubBlocks()}}(t,e,i,s);break;default:throw new EvalError("undefined block found")}return!1}const Gs=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;async function qs(t){return new Promise((e=>{t.loading=!0;const n=new Image;t.element=n,n.addEventListener("load",(()=>{t.loading=!1,e()})),n.addEventListener("error",(()=>{t.element=void 0,t.error=!0,t.loading=!1,be().error(`${Yt} loading image: ${t.source}`),e()})),n.src=t.source}))}async function Xs(t){if("gif"===t.type){t.loading=!0;try{t.gifData=await async function(t,e,n){n||(n=!1);const i=await fetch(t);if(!i.ok&&404===i.status)throw new EvalError("file not found");const s=await i.arrayBuffer(),r={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},a=new Vs(new Uint8ClampedArray(s));if("GIF89a"!==a.getString(6))throw new Error("not a supported GIF file");r.width=a.nextTwoBytes(),r.height=a.nextTwoBytes();const o=a.nextByte(),l=128===(128&o);r.colorRes=(112&o)>>>4,r.sortFlag=8===(8&o);const c=1<<1+(7&o),d=a.nextByte();r.pixelAspectRatio=a.nextByte(),0!==r.pixelAspectRatio&&(r.pixelAspectRatio=(r.pixelAspectRatio+15)/64),l&&(r.globalColorTable=$s(a,c));const u=(()=>{try{return new ImageData(r.width,r.height,{colorSpace:"srgb"})}catch(t){if(t instanceof DOMException&&"IndexSizeError"===t.name)return null;throw t}})();if(null==u)throw new Error("GIF frame size is to large");const{r:h,g:p,b:f}=r.globalColorTable[d];u.data.set(l?[h,p,f,255]:[0,0,0,0]);for(let x=4;x<u.data.length;x*=2)u.data.copyWithin(x,0,x);r.backgroundImage=u;let g=-1,m=!0,v=-1;const b=t=>(t&&(m=!0),g),y=t=>(null!=t&&(v=t),v);try{do{m&&(r.frames.push({left:0,top:0,width:0,height:0,disposalMethod:0,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),g++,v=-1,m=!1)}while(!await Ws(a,r,n,b,y,e));r.frames.length--;for(const t of r.frames){if(t.userInputDelayFlag&&0===t.delayTime){r.totalTime=1/0;break}r.totalTime+=t.delayTime}return r}catch(w){if(w instanceof EvalError)throw new Error(`error while parsing frame ${g} "${w.message}"`);throw w}}(t.source),t.gifLoopCount=function(t){for(const e of t.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}(t.gifData)??0,0===t.gifLoopCount&&(t.gifLoopCount=1/0)}catch{t.error=!0}t.loading=!1}else await qs(t)}async function Ks(t){if("svg"!==t.type)return void await qs(t);t.loading=!0;const e=await fetch(t.source);e.ok?t.svgData=await e.text():(be().error(`${Yt} Image not found`),t.error=!0),t.loading=!1}function Ys(t,e,n,i){const s=function(t,e,n){const{svgData:i}=t;if(!i)return"";const s=rn(e,n);if(i.includes("fill"))return i.replace(Gs,(()=>s));const r=i.indexOf(">");return`${i.substring(0,r)} fill="${s}"${i.substring(r)}`}(t,n,i.opacity?.value??1),r={color:n,gif:e.gif,data:{...t,svgData:s},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor??e.replace_color,source:e.src};return new Promise((e=>{const n=new Blob([s],{type:"image/svg+xml"}),i=URL||window.URL||window.webkitURL||window,a=i.createObjectURL(n),o=new Image;o.addEventListener("load",(()=>{r.loaded=!0,r.element=o,e(r),i.revokeObjectURL(a)})),o.addEventListener("error",(async()=>{i.revokeObjectURL(a);const n={...t,error:!1,loading:!0};await qs(n),r.loaded=!0,r.element=n.element,e(r)})),o.src=a}))}class Qs{constructor(t){this.loadImageShape=async t=>{if(!this._engine.loadImage)throw new Error(`${Yt} image shape not initialized`);await this._engine.loadImage({gif:t.gif,name:t.name,replaceColor:t.replaceColor??t.replace_color??!1,src:t.src})},this._engine=t}addImage(t){this._engine.images||(this._engine.images=[]),this._engine.images.push(t)}draw(t,e,n,i,s){const r=e.image,a=r?.element;if(r){if(t.globalAlpha=i,r.gif&&r.gifData){const i=new OffscreenCanvas(r.gifData.width,r.gifData.height),a=i.getContext("2d");if(!a)throw new Error("could not create offscreen canvas context");a.imageSmoothingQuality="low",a.imageSmoothingEnabled=!1,a.clearRect(0,0,i.width,i.height),void 0===e.gifLoopCount&&(e.gifLoopCount=r.gifLoopCount??0);let o=e.gifFrame??0;const l={x:.5*-r.gifData.width,y:.5*-r.gifData.height},c=r.gifData.frames[o];if(void 0===e.gifTime&&(e.gifTime=0),!c.bitmap)return;switch(t.scale(n/r.gifData.width,n/r.gifData.height),c.disposalMethod){case 4:case 5:case 6:case 7:case 0:a.drawImage(c.bitmap,c.left,c.top),t.drawImage(i,l.x,l.y),a.clearRect(0,0,i.width,i.height);break;case 1:a.drawImage(c.bitmap,c.left,c.top),t.drawImage(i,l.x,l.y);break;case 2:a.drawImage(c.bitmap,c.left,c.top),t.drawImage(i,l.x,l.y),a.clearRect(0,0,i.width,i.height),0===r.gifData.globalColorTable.length?a.putImageData(r.gifData.frames[0].image,l.x+c.left,l.y+c.top):a.putImageData(r.gifData.backgroundImage,l.x,l.y);break;case 3:{const e=a.getImageData(0,0,i.width,i.height);a.drawImage(c.bitmap,c.left,c.top),t.drawImage(i,l.x,l.y),a.clearRect(0,0,i.width,i.height),a.putImageData(e,0,0)}}if(e.gifTime+=s.value,e.gifTime>c.delayTime){if(e.gifTime-=c.delayTime,++o>=r.gifData.frames.length){if(--e.gifLoopCount<=0)return;o=0,a.clearRect(0,0,i.width,i.height)}e.gifFrame=o}t.scale(r.gifData.width/n,r.gifData.height/n)}else if(a){const e=r.ratio,i={x:-n,y:-n};t.drawImage(a,i.x,i.y,2*n,2*n/e)}t.globalAlpha=1}}getSidesCount(){return 12}async init(t){const e=t.actualOptions;if(e.preload&&this._engine.loadImage)for(const n of e.preload)await this._engine.loadImage(n)}loadShape(t){if("image"!==t.shape&&"images"!==t.shape)return;this._engine.images||(this._engine.images=[]);const e=t.shapeData;this._engine.images.find((t=>t.name===e.name||t.source===e.src))||this.loadImageShape(e).then((()=>{this.loadShape(t)}))}particleInit(t,e){if("image"!==e.shape&&"images"!==e.shape)return;this._engine.images||(this._engine.images=[]);const n=this._engine.images,i=e.shapeData,s=e.getFillColor(),r=n.find((t=>t.name===i.name||t.source===i.src));if(!r)return;const a=i.replaceColor??i.replace_color??r.replaceColor;r.loading?setTimeout((()=>{this.particleInit(t,e)})):(async()=>{let t;t=r.svgData&&s?await Ys(r,i,s,e):{color:s,data:r,element:r.element,gif:r.gif,gifData:r.gifData,gifLoopCount:r.gifLoopCount,loaded:!0,ratio:i.width&&i.height?i.width/i.height:r.ratio??1,replaceColor:a,source:i.src},t.ratio||(t.ratio=1);const n={image:t,fill:i.fill??e.fill,close:i.close??e.close};e.image=n.image,e.fill=n.fill,e.close=n.close})()}}class Js{constructor(){this.src="",this.gif=!1}load(t){t&&(void 0!==t.gif&&(this.gif=t.gif),void 0!==t.height&&(this.height=t.height),void 0!==t.name&&(this.name=t.name),void 0!==t.replaceColor&&(this.replaceColor=t.replaceColor),void 0!==t.src&&(this.src=t.src),void 0!==t.width&&(this.width=t.width))}}class Zs{constructor(t){this.id="imagePreloader",this._engine=t}getPlugin(){return{}}loadOptions(t,e){if(!e||!e.preload)return;t.preload||(t.preload=[]);const n=t.preload;for(const i of e.preload){const t=n.find((t=>t.name===i.name||t.src===i.src));if(t)t.load(i);else{const t=new Js;t.load(i),n.push(t)}}}needsPlugin(){return!0}}async function tr(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(t){t.loadImage||(t.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${Yt} no image source provided`);if(t.images||(t.images=[]),!t.images.find((t=>t.name===e.name||t.source===e.src)))try{const n={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-3),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};t.images.push(n);const i=e.gif?Xs:e.replaceColor?Ks:qs;await i(n)}catch{throw new Error(`${Yt} ${e.name??e.src} not found`)}})}(t);const n=new Zs(t);await t.addPlugin(n,e),await t.addShape(["image","images"],new Qs(t),e)}class er extends Vn{constructor(){super(),this.sync=!1}load(t){t&&(super.load(t),void 0!==t.sync&&(this.sync=t.sync))}}class nr extends Vn{constructor(){super(),this.random.minimumValue=1e-4,this.sync=!1}load(t){t&&(super.load(t),void 0!==t.sync&&(this.sync=t.sync))}}class ir{constructor(){this.count=0,this.delay=new er,this.duration=new nr}load(t){t&&(void 0!==t.count&&(this.count=t.count),this.delay.load(t.delay),this.duration.load(t.duration))}}class sr{constructor(t){this.container=t}init(t){const e=this.container,n=t.options.life;n&&(t.life={delay:e.retina.reduceFactor?oe(n.delay.value)*(n.delay.sync?1:ie())/e.retina.reduceFactor*1e3:0,delayTime:0,duration:e.retina.reduceFactor?oe(n.duration.value)*(n.duration.sync?1:ie())/e.retina.reduceFactor*1e3:0,time:0,count:n.count},t.life.duration<=0&&(t.life.duration=-1),t.life.count<=0&&(t.life.count=-1),t.life&&(t.spawning=t.life.delay>0))}isEnabled(t){return!t.destroyed}loadOptions(t){t.life||(t.life=new ir);for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const s of n)t.life.load(s?.life)}update(t,e){if(!this.isEnabled(t)||!t.life)return;const n=t.life;let i=!1;if(t.spawning){if(n.delayTime+=e.value,!(n.delayTime>=t.life.delay))return;i=!0,t.spawning=!1,n.delayTime=0,n.time=0}if(-1===n.duration)return;if(t.spawning)return;if(i?n.time=0:n.time+=e.value,n.time<n.duration)return;if(n.time=0,t.life.count>0&&t.life.count--,0===t.life.count)return void t.destroy();const s=this.container.canvas.size,r=de(0,s.width),a=de(0,s.width);t.position.x=ae(r),t.position.y=ae(a),t.spawning=!0,n.delayTime=0,n.time=0,t.reset();const o=t.options.life;o&&(n.delay=1e3*oe(o.delay.value),n.duration=1e3*oe(o.duration.value))}}class rr{draw(t,e,n){const i=e.shapeData;t.moveTo(-n/2,0),t.lineTo(n/2,0),t.lineCap=i?.cap??"butt"}getSidesCount(){return 1}}class ar{init(){}isEnabled(t){return!we()&&!t.destroyed&&t.container.actualOptions.interactivity.events.onHover.parallax.enable}move(t){const e=t.container,n=e.actualOptions.interactivity.events.onHover.parallax;if(we()||!n.enable)return;const i=n.force,s=e.interactivity.mouse.position;if(!s)return;const r=e.canvas.size,a=r.width/2,o=r.height/2,l=n.smooth,c=t.getRadius()/i,d=(s.x-a)*c,u=(s.y-o)*c,{offset:h}=t;h.x+=(d-h.x)/l,h.y+=(u-h.y)/l}}class or{constructor(t){this.container=t,this.type="particles"}}class lr extends or{constructor(t){super(t)}clear(){}init(){}async interact(t){const e=this.container,n=t.retina.attractDistance??e.retina.attractDistance,i=t.getPosition(),s=e.particles.quadTree.queryCircle(i,n);for(const r of s){if(t===r||!r.options.move.attract.enable||r.destroyed||r.spawning)continue;const e=r.getPosition(),{dx:n,dy:s}=he(i,e),a=t.options.move.attract.rotate,o=n/(1e3*a.x),l=s/(1e3*a.y),c=r.size.value/t.size.value,d=1/c;t.velocity.x-=o*c,t.velocity.y-=l*c,r.velocity.x+=o*d,r.velocity.y+=l*d}}isEnabled(t){return t.options.move.attract.enable}reset(){}}function cr(t,e,n,i,s,r){const a=se(t.options.collisions.absorb.speed*s.factor/10,0,i);t.size.value+=a/2,n.size.value-=a,i<=r&&(n.size.value=0,n.destroy())}const dr=t=>{void 0===t.collisionMaxSpeed&&(t.collisionMaxSpeed=oe(t.options.collisions.maxSpeed)),t.velocity.length>t.collisionMaxSpeed&&(t.velocity.length=t.collisionMaxSpeed)};function ur(t,e){De(Me(t),Me(e)),dr(t),dr(e)}function hr(t,e,n,i){switch(t.options.collisions.mode){case"absorb":!function(t,e,n,i){const s=t.getRadius(),r=e.getRadius();void 0===s&&void 0!==r?t.destroy():void 0!==s&&void 0===r?e.destroy():void 0!==s&&void 0!==r&&(s>=r?cr(t,0,e,r,n,i):cr(e,0,t,s,n,i))}(t,e,n,i);break;case"bounce":ur(t,e);break;case"destroy":!function(t,e){t.unbreakable||e.unbreakable||ur(t,e),void 0===t.getRadius()&&void 0!==e.getRadius()?t.destroy():void 0!==t.getRadius()&&void 0===e.getRadius()?e.destroy():void 0!==t.getRadius()&&void 0!==e.getRadius()&&(t.getRadius()>=e.getRadius()?e:t).destroy()}(t,e)}}class pr extends or{constructor(t){super(t)}clear(){}init(){}async interact(t,e){if(t.destroyed||t.spawning)return;const n=this.container,i=t.getPosition(),s=t.getRadius(),r=n.particles.quadTree.queryCircle(i,2*s);for(const a of r){if(t===a||!a.options.collisions.enable||t.options.collisions.mode!==a.options.collisions.mode||a.destroyed||a.spawning)continue;const r=a.getPosition(),o=a.getRadius();if(Math.abs(Math.round(i.z)-Math.round(r.z))>s+o)continue;pe(i,r)>s+o||hr(t,a,e,n.retina.pixelRatio)}}isEnabled(t){return t.options.collisions.enable}reset(){}}class fr extends Pi{constructor(t,e,n,i){super(t,e,n),this.canvasSize=i,this.canvasSize={...i}}contains(t){const{width:e,height:n}=this.canvasSize,{x:i,y:s}=t;return super.contains(t)||super.contains({x:i-e,y:s})||super.contains({x:i-e,y:s-n})||super.contains({x:i,y:s-n})}intersects(t){if(super.intersects(t))return!0;const e=t,n=t,i={x:t.position.x-this.canvasSize.width,y:t.position.y-this.canvasSize.height};if(void 0!==n.radius){const t=new Pi(i.x,i.y,2*n.radius);return super.intersects(t)}if(void 0!==e.size){const t=new Ti(i.x,i.y,2*e.size.width,2*e.size.height);return super.intersects(t)}return!1}}class gr{constructor(){this.blur=5,this.color=new bn,this.color.value="#000",this.enable=!1}load(t){t&&(void 0!==t.blur&&(this.blur=t.blur),this.color=bn.create(this.color,t.color),void 0!==t.enable&&(this.enable=t.enable))}}class mr{constructor(){this.enable=!1,this.frequency=1}load(t){t&&(void 0!==t.color&&(this.color=bn.create(this.color,t.color)),void 0!==t.enable&&(this.enable=t.enable),void 0!==t.frequency&&(this.frequency=t.frequency),void 0!==t.opacity&&(this.opacity=t.opacity))}}class vr{constructor(){this.blink=!1,this.color=new bn,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new gr,this.triangles=new mr,this.width=1,this.warp=!1}load(t){t&&(void 0!==t.id&&(this.id=t.id),void 0!==t.blink&&(this.blink=t.blink),this.color=bn.create(this.color,t.color),void 0!==t.consent&&(this.consent=t.consent),void 0!==t.distance&&(this.distance=t.distance),void 0!==t.enable&&(this.enable=t.enable),void 0!==t.frequency&&(this.frequency=t.frequency),void 0!==t.opacity&&(this.opacity=t.opacity),this.shadow.load(t.shadow),this.triangles.load(t.triangles),void 0!==t.width&&(this.width=t.width),void 0!==t.warp&&(this.warp=t.warp))}}function br(t,e,n,i,s){const{dx:r,dy:a,distance:o}=he(t,e);if(!s||o<=n)return o;const l={x:Math.abs(r),y:Math.abs(a)},c=Math.min(l.x,i.width-l.x),d=Math.min(l.y,i.height-l.y);return Math.sqrt(c**2+d**2)}class yr extends or{constructor(t){super(t),this._setColor=t=>{if(!t.options.links)return;const e=this.linkContainer,n=t.options.links;let i=void 0===n.id?e.particles.linksColor:e.particles.linksColors.get(n.id);if(i)return;i=ln(n.color,n.blink,n.consent),void 0===n.id?e.particles.linksColor=i:e.particles.linksColors.set(n.id,i)},this.linkContainer=t}clear(){}init(){this.linkContainer.particles.linksColor=void 0,this.linkContainer.particles.linksColors=new Map}async interact(t){if(!t.options.links)return;t.links=[];const e=t.getPosition(),n=this.container,i=n.canvas.size;if(e.x<0||e.y<0||e.x>i.width||e.y>i.height)return;const s=t.options.links,r=s.opacity,a=t.retina.linksDistance??0,o=s.warp,l=o?new fr(e.x,e.y,a,i):new Pi(e.x,e.y,a),c=n.particles.quadTree.query(l);for(const d of c){const n=d.options.links;if(t===d||!n?.enable||s.id!==n.id||d.spawning||d.destroyed||!d.links||t.links.some((t=>t.destination===d))||d.links.some((e=>e.destination===t)))continue;const l=d.getPosition();if(l.x<0||l.y<0||l.x>i.width||l.y>i.height)continue;const c=br(e,l,a,i,o&&n.warp);if(c>a)continue;const u=(1-c/a)*r;this._setColor(t),t.links.push({destination:d,opacity:u})}}isEnabled(t){return!!t.options.links?.enable}loadParticlesOptions(t){t.links||(t.links=new vr);for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const s of n)t.links.load(s?.links??s?.lineLinked??s?.line_linked)}reset(){}}function wr(t,e){const n=((i=t.map((t=>t.id))).sort(((t,e)=>t-e)),i.join("_"));var i;let s=e.get(n);return void 0===s&&(s=ie(),e.set(n,s)),s}class xr{constructor(t){this.container=t,this._drawLinkLine=(t,e)=>{const n=t.options.links;if(!n?.enable)return;const i=this.container,s=i.actualOptions,r=e.destination,a=t.getPosition(),o=r.getPosition();let l=e.opacity;i.canvas.draw((e=>{let c;const d=t.options.twinkle?.lines;if(d?.enable){const t=d.frequency,e=Qe(d.color);ie()<t&&e&&(c=e,l=oe(d.opacity))}if(!c){const e=void 0!==n.id?i.particles.linksColors.get(n.id):i.particles.linksColor;c=on(t,r,e)}if(!c)return;const u=t.retina.linksWidth??0,h=t.retina.linksDistance??0,{backgroundMask:p}=s;!function(t){let e=!1;const{begin:n,end:i,maxDistance:s,context:r,canvasSize:a,width:o,backgroundMask:l,colorLine:c,opacity:d,links:u}=t;if(pe(n,i)<=s)hn(r,n,i),e=!0;else if(u.warp){let t,o;const l=he(n,{x:i.x-a.width,y:i.y});if(l.distance<=s){const e=n.y-l.dy/l.dx*n.x;t={x:0,y:e},o={x:a.width,y:e}}else{const e=he(n,{x:i.x,y:i.y-a.height});if(e.distance<=s){const i=-(n.y-e.dy/e.dx*n.x)/(e.dy/e.dx);t={x:i,y:0},o={x:i,y:a.height}}else{const e=he(n,{x:i.x-a.width,y:i.y-a.height});if(e.distance<=s){const i=n.y-e.dy/e.dx*n.x;t={x:-i/(e.dy/e.dx),y:i},o={x:t.x+a.width,y:t.y+a.height}}}}t&&o&&(hn(r,n,t),hn(r,i,o),e=!0)}if(!e)return;r.lineWidth=o,l.enable&&(r.globalCompositeOperation=l.composite),r.strokeStyle=sn(c,d);const{shadow:h}=u;if(h.enable){const t=Qe(h.color);t&&(r.shadowBlur=h.blur,r.shadowColor=sn(t))}r.stroke()}({context:e,width:u,begin:a,end:o,maxDistance:h,canvasSize:i.canvas.size,links:n,backgroundMask:p,colorLine:c,opacity:l})}))},this._drawLinkTriangle=(t,e,n)=>{const i=t.options.links;if(!i?.enable)return;const s=i.triangles;if(!s.enable)return;const r=this.container,a=r.actualOptions,o=e.destination,l=n.destination,c=s.opacity??(e.opacity+n.opacity)/2;c<=0||r.canvas.draw((e=>{const n=t.getPosition(),d=o.getPosition(),u=l.getPosition(),h=t.retina.linksDistance??0;if(pe(n,d)>h||pe(u,d)>h||pe(u,n)>h)return;let p=Qe(s.color);if(!p){const e=void 0!==i.id?r.particles.linksColors.get(i.id):r.particles.linksColor;p=on(t,o,e)}p&&function(t){const{context:e,pos1:n,pos2:i,pos3:s,backgroundMask:r,colorTriangle:a,opacityTriangle:o}=t;!function(t,e,n,i){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.lineTo(i.x,i.y),t.closePath()}(e,n,i,s),r.enable&&(e.globalCompositeOperation=r.composite),e.fillStyle=sn(a,o),e.fill()}({context:e,pos1:n,pos2:d,pos3:u,backgroundMask:a.backgroundMask,colorTriangle:p,opacityTriangle:c})}))},this._drawTriangles=(t,e,n,i)=>{const s=n.destination;if(!t.links?.triangles.enable||!s.options.links?.triangles.enable)return;const r=s.links?.filter((t=>{const e=this._getLinkFrequency(s,t.destination);return s.options.links&&e<=s.options.links.frequency&&i.findIndex((e=>e.destination===t.destination))>=0}));if(r?.length)for(const a of r){const i=a.destination;this._getTriangleFrequency(e,s,i)>t.links.triangles.frequency||this._drawLinkTriangle(e,n,a)}},this._getLinkFrequency=(t,e)=>wr([t,e],this._freqs.links),this._getTriangleFrequency=(t,e,n)=>wr([t,e,n],this._freqs.triangles),this._freqs={links:new Map,triangles:new Map}}drawParticle(t,e){const{links:n,options:i}=e;if(!n||n.length<=0)return;const s=n.filter((t=>i.links&&this._getLinkFrequency(e,t.destination)<=i.links.frequency));for(const r of s)this._drawTriangles(i,e,r,s),r.opacity>0&&(e.retina.linksWidth??0)>0&&this._drawLinkLine(e,r)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map}particleCreated(t){if(t.links=[],!t.options.links)return;const e=this.container.retina.pixelRatio,{retina:n}=t,{distance:i,width:s}=t.options.links;n.linksDistance=i*e,n.linksWidth=s*e}particleDestroyed(t){t.links=[]}}class _r{constructor(){this.id="links"}getPlugin(t){return new xr(t)}loadOptions(){}needsPlugin(){return!0}}async function Sr(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addInteractor("particlesLinks",(t=>new yr(t)),e)}(t,e),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=new _r;await t.addPlugin(n,e)}(t,e)}class kr{draw(t,e,n){const i=this.getCenter(e,n),s=this.getSidesData(e,n),r=s.count.numerator*s.count.denominator,a=s.count.numerator/s.count.denominator,o=180*(a-2)/a,l=Math.PI-Math.PI*o/180;if(t){t.beginPath(),t.translate(i.x,i.y),t.moveTo(0,0);for(let e=0;e<r;e++)t.lineTo(s.length,0),t.translate(s.length,0),t.rotate(l)}}getSidesCount(t){const e=t.shapeData;return Math.round(oe(e?.sides??e?.nb_sides??5))}}class Ar extends kr{getCenter(t,e){return{x:-e/(t.sides/3.5),y:-e/.76}}getSidesData(t,e){const n=t.sides;return{count:{denominator:1,numerator:n},length:2.66*e/(n/3)}}}class Cr extends kr{getCenter(t,e){return{x:-e,y:e/1.66}}getSidesCount(){return 3}getSidesData(t,e){return{count:{denominator:2,numerator:3},length:2*e}}}async function Er(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addShape("polygon",new Ar,e)}(t,e),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addShape("triangle",new Cr,e)}(t,e)}class Tr{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(t){t&&(void 0!==t.enable&&(this.enable=t.enable),void 0!==t.speed&&(this.speed=de(t.speed)),void 0!==t.decay&&(this.decay=de(t.decay)),void 0!==t.sync&&(this.sync=t.sync))}}class Pr extends Vn{constructor(){super(),this.animation=new Tr,this.direction="clockwise",this.path=!1,this.value=0}load(t){t&&(super.load(t),void 0!==t.direction&&(this.direction=t.direction),this.animation.load(t.animation),void 0!==t.path&&(this.path=t.path))}}class Mr{constructor(t){this.container=t}init(t){const e=t.options.rotate;if(!e)return;t.rotate={enable:e.animation.enable,value:oe(e.value)*Math.PI/180},t.pathRotation=e.path;let n=e.direction;if("random"===n){n=Math.floor(2*ie())>0?"counter-clockwise":"clockwise"}switch(n){case"counter-clockwise":case"counterClockwise":t.rotate.status="decreasing";break;case"clockwise":t.rotate.status="increasing"}const i=e.animation;i.enable&&(t.rotate.decay=1-oe(i.decay),t.rotate.velocity=oe(i.speed)/360*this.container.retina.reduceFactor,i.sync||(t.rotate.velocity*=ie())),t.rotation=t.rotate.value}isEnabled(t){const e=t.options.rotate;return!!e&&(!t.destroyed&&!t.spawning&&e.animation.enable&&!e.path)}loadOptions(t){t.rotate||(t.rotate=new Pr);for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const s of n)t.rotate.load(s?.rotate)}update(t,e){this.isEnabled(t)&&(!function(t,e){const n=t.rotate,i=t.options.rotate;if(!n||!i)return;const s=i.animation,r=(n.velocity??0)*e.factor,a=2*Math.PI,o=n.decay??1;s.enable&&("increasing"===n.status?(n.value+=r,n.value>a&&(n.value-=a)):(n.value-=r,n.value<0&&(n.value+=a)),n.velocity&&1!==o&&(n.velocity*=o))}(t,e),t.rotation=t.rotate?.value??0)}}const Dr=Math.sqrt(2);class Rr{draw(t,e,n){const i=n/Dr,s=2*i;t.rect(-i,-i,s,s)}getSidesCount(){return 4}}class Ir{draw(t,e,n){const i=e.sides,s=e.starInset??2;t.moveTo(0,0-n);for(let r=0;r<i;r++)t.rotate(Math.PI/i),t.lineTo(0,0-n*s),t.rotate(Math.PI/i),t.lineTo(0,0-n)}getSidesCount(t){const e=t.shapeData;return Math.round(oe(e?.sides??e?.nb_sides??5))}particleInit(t,e){const n=e.shapeData,i=oe(n?.inset??2);e.starInset=i}}function Lr(t,e,n,i,s){if(!e||!n.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=t.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0))return;const r=ae(n.offset),a=(e.velocity??0)*t.factor+3.6*r,o=e.decay??1;s&&"increasing"!==e.status?(e.value-=a,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)):(e.value+=a,e.value>i&&(e.loops||(e.loops=0),e.loops++,s&&(e.status="decreasing",e.value-=e.value%i))),e.velocity&&1!==o&&(e.velocity*=o),e.value>i&&(e.value%=i)}class Or{constructor(t){this.container=t}init(t){const e=this.container,n=t.options,i=Le(n.stroke,t.id,n.reduceDuplicates);t.strokeWidth=oe(i.width)*e.retina.pixelRatio,t.strokeOpacity=oe(i.opacity??1),t.strokeAnimation=i.color?.animation;const s=Ze(i.color)??t.getFillColor();s&&(t.strokeColor=dn(s,t.strokeAnimation,e.retina.reduceFactor))}isEnabled(t){const e=t.strokeAnimation,{strokeColor:n}=t;return!t.destroyed&&!t.spawning&&!!e&&(void 0!==n?.h.value&&n.h.enable||void 0!==n?.s.value&&n.s.enable||void 0!==n?.l.value&&n.l.enable)}update(t,e){this.isEnabled(t)&&function(t,e){if(!t.strokeColor||!t.strokeAnimation)return;const{h:n,s:i,l:s}=t.strokeColor,{h:r,s:a,l:o}=t.strokeAnimation;n&&Lr(e,n,r,360,!1),i&&Lr(e,i,a,100,!0),s&&Lr(e,s,o,100,!0)}(t,e)}}const Fr=["text","character","char"];class Br{draw(t,e,n,i){const s=e.shapeData;if(void 0===s)return;const r=s.value;if(void 0===r)return;void 0===e.text&&(e.text=Le(r,e.randomIndexData));const a=e.text,o=s.style??"",l=s.weight??"400",c=2*Math.round(n),d=s.font??"Verdana",u=e.fill,h=a.length*n/2;t.font=`${o} ${l} ${c}px "${d}"`;const p={x:-h,y:n/2};t.globalAlpha=i,u?t.fillText(a,p.x,p.y):t.strokeText(a,p.x,p.y),t.globalAlpha=1}getSidesCount(){return 12}async init(t){const e=t.actualOptions;if(Fr.find((t=>_e(t,e.particles.shape.type)))){const t=Fr.map((t=>e.particles.shape.options[t])).find((t=>!!t)),n=[];Ie(t,(t=>{n.push(async function(t,e){try{await document.fonts.load(`${e??"400"} 36px '${t??"Verdana"}'`)}catch{}}(t.font,t.weight))})),await Promise.all(n)}}particleInit(t,e){if(!e.shape||!Fr.includes(e.shape))return;const n=e.shapeData;if(void 0===n)return;const i=n.value;void 0!==i&&(e.text=Le(i,e.randomIndexData))}}async function Nr(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(t=>{const{particlesJS:e,pJSDom:n}=(t=>{const e=(e,n)=>t.load(e,n);return e.load=(e,n,i)=>{t.loadJSON(e,n).then((t=>{t&&i(t)})).catch((()=>{i(void 0)}))},e.setOnClickHandler=e=>{t.setOnClickHandler(e)},{particlesJS:e,pJSDom:t.dom()}})(t);window.particlesJS=e,window.pJSDom=n,window.Particles=Qi})(t),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addMover("parallax",(()=>new ar),e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addInteractor("externalAttract",(e=>new ps(t,e)),e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addInteractor("externalBounce",(t=>new gs(t)),e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addInteractor("externalBubble",(t=>new ws(t)),e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addInteractor("externalConnect",(t=>new As(t)),e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addInteractor("externalGrab",(t=>new Ps(t)),e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addInteractor("externalPause",(t=>new Ms(t)),e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addInteractor("externalPush",(t=>new Rs(t)),e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addInteractor("externalRemove",(t=>new Ls(t)),e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addInteractor("externalRepulse",(e=>new Ns(t,e)),e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addInteractor("externalSlow",(t=>new Us(t)),e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addInteractor("particlesAttract",(t=>new lr(t)),e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addInteractor("particlesCollisions",(t=>new pr(t)),e)}(t,!1),await Sr(t,!1),await async function(){ee("ease-in-quad",(t=>t**2)),ee("ease-out-quad",(t=>1-(1-t)**2)),ee("ease-in-out-quad",(t=>t<.5?2*t**2:1-(-2*t+2)**2/2))}(),await tr(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addShape("line",new rr,e)}(t,!1),await Er(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addShape(["edge","square"],new Rr,e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addShape("star",new Ir,e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addShape(Fr,new Br,e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addParticleUpdater("life",(t=>new sr(t)),e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addParticleUpdater("rotate",(t=>new Mr(t)),e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addParticleUpdater("strokeColor",(t=>new Or(t)),e)}(t,!1),await ds(t,e)}var zr=n(579);const Ur=function(){const t=it(),e=(0,r.useCallback)((async t=>{await Nr(t)}),[]),n={color:"#ffffff",marginRight:"15px",transition:"color 0.3s ease",cursor:"pointer"},i=t=>{t.target.style.color="#60a5fa"},s=t=>{t.target.style.color="#ffffff"};return(0,zr.jsxs)("div",{className:"home-page",children:[(0,zr.jsx)(Yi,{id:"tsparticles",init:e,options:{background:{color:{value:"#0a0a1e"}},fpsLimit:60,interactivity:{events:{onHover:{enable:!0,mode:"grab"},onClick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:140,links:{opacity:.5}},push:{quantity:2}}},particles:{color:{value:"#60a5fa"},links:{color:"#60a5fa",distance:120,enable:!0,opacity:.4,width:1},move:{direction:"none",enable:!0,outModes:{default:"bounce"},random:!1,speed:1,straight:!1},number:{density:{enable:!0,area:800},value:50},opacity:{value:.7},shape:{type:"circle"},size:{value:3}},detectRetina:!0},className:"particles-background"}),(0,zr.jsx)("div",{className:"background-overlay",children:(0,zr.jsxs)("div",{className:"content-container",children:[(0,zr.jsx)("div",{className:"profile-image-placeholder",children:(0,zr.jsx)("img",{src:"/portfolio/profile_img.jpeg",alt:"Profile"})}),(0,zr.jsx)("h2",{children:"Hi, I am George \ud83d\udc4b"}),(0,zr.jsx)("section",{className:"ai-section",children:(0,zr.jsxs)("div",{children:[(0,zr.jsx)("p",{children:"\ud83d\udcbb Software Engineer with a strong background in Robotics and Artificial Intelligence, along with solid experience in web development."}),(0,zr.jsx)("p",{children:"\u26a1 Passionate about building reliable, safe, and scalable intelligent systems, with clean and maintainable code."})]})}),(0,zr.jsxs)("div",{className:"programming-skills",children:[(0,zr.jsx)(zt,{size:50,color:"#3776AB"}),(0,zr.jsx)(Bt,{size:50,color:"#00599C"}),(0,zr.jsx)(Ft,{size:50,color:"#A8B9CC"}),(0,zr.jsx)(jt,{size:50,color:"#007396"})]}),(0,zr.jsx)("div",{className:"navigation-buttons-container",children:(0,zr.jsxs)("div",{className:"navigation-buttons",children:[(0,zr.jsx)("button",{className:"demos-button",onClick:()=>{t("/demos")},children:"Projects"}),(0,zr.jsx)("button",{className:"cv-button",onClick:()=>{t("/cv")},children:"CV"})]})}),(0,zr.jsxs)("div",{className:"contact-links-section",children:[(0,zr.jsx)("p",{children:"Contact Links:"}),(0,zr.jsxs)("div",{children:[(0,zr.jsx)("a",{href:"https://github.com/Stam21",target:"_blank",rel:"noopener noreferrer",children:(0,zr.jsx)(Ut,{size:30,style:n,onMouseOver:i,onMouseOut:s})}),(0,zr.jsx)("a",{href:"https://www.linkedin.com/in/george-stam/",target:"_blank",rel:"noopener noreferrer",children:(0,zr.jsx)(Ht,{size:30,style:n,onMouseOver:i,onMouseOut:s})}),(0,zr.jsx)("a",{href:"mailto:george.stamatopoulos1998@gmail.com",target:"_blank",rel:"noopener noreferrer",children:(0,zr.jsx)(Nt,{size:30,style:n,onMouseOver:i,onMouseOut:s})})]})]})]})})]})};const jr=function(){const t=it(),[e,n]=(0,r.useState)(0),[i,s]=(0,r.useState)(window.innerWidth<=768);r.useEffect((()=>{const t=()=>{s(window.innerWidth<=768)};return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[]);const a=(0,r.useCallback)((async t=>{await Nr(t)}),[]),o=[{id:1,videoId:"zfw4zUL8LG4",title:"3D Gaussian Splatting",description:"A generated 3D point cloud of a room was processed using Gaussian splatting to reconstruct the space in Unity. This project demonstrates 3D reconstruction, and interactive visualization "},{id:2,videoId:"eJhGhpe4Ggg",title:"Robotic Arm Control",description:"Robotic arm trying to point to specific smarties based on the color given by the user. Algorithms were written for inverse kinematics and trajectory planning. OpenCV was used for the computer vision task. "},{id:3,videoId:"jMquftWSCgU",title:"AI-Generated Stories for Children",description:"A web application that uses Langchain to orchestrate several AI models and generate text, audio and images, resulting in a cool story for kids."},{id:4,videoId:"Xi3jABvI3mo",title:"Autonomous Robot",description:"The robot of the video, named Aksel, carried out several tasks of the RoboCup competition. The robot is controlled via a teensy board and utilizes a distance sensor, a light sensor, a camera, and an imu to navigate autonomously."},{id:5,videoId:"d3z0ypKGsK4",title:"Perception using YOLO",description:"The purpose of this model is to identify pedestrians, cars and cyclists but also perform state estimation based on Kalman filter."},{id:6,videoId:"f4gmtfiQq7E",title:"Autonomous Paraglider",description:"This is a small paraglider from HackerMotors that was refined with additional hardware with the end goal of navigating autonomously. The video shows the drone autonomously doing a loiter mission and also gives a glimpse in the simulation developed for testing purposes."},{id:7,videoId:"ZrKZAOroLDM",title:"Chess AI",description:"A chess game developed with python playing against AI. AI is implemented using minimax algorithm with alpha-beta pruning."},{id:8,videoId:"36Ewd6-lDUE",title:"Computer Graphics in WebGL",description:"A collection of exercises in WebGL to demonstrate concepts in computer graphics."},{id:9,videoId:"axHgCTimmR4",title:"AI in multi-agent systems",description:"A Java application in which path finding algorithms are explored in multi agent scenarios. Conflict-based search, hungarian algorithm, A*, dijkstra are all relevant in this project."},{id:10,videoId:"YwPug2SWGcI",title:"Space Adventures",description:"A finished version of the stratego board game in space with the star wars characters and one space shooter game under development. Both games are using the SGG graphics library."},{id:11,videos:[{videoId:"Rfu4u2AlDwE",isShort:!0},{videoId:"rmBdzcwk1u0",isShort:!0}],title:"Crazyflie Autonomous Flight",description:"In the first video, a Crazyflie quadcopter is used to practice the A* path finding algorithm and navigate inside a 3D maze. In the second video, it is using a custom position and attitude controller and uses position data from Optitrack to autonomously pass through the hoops"}],l=i?1:3,c=Math.ceil(o.length/l);return(0,zr.jsxs)("div",{className:"demos-page",children:[(0,zr.jsx)(Yi,{id:"tsparticles",init:a,options:{background:{color:{value:"#0a0a1e"}},fpsLimit:60,interactivity:{events:{onHover:{enable:!0,mode:"grab"},onClick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:140,links:{opacity:.5}},push:{quantity:2}}},particles:{color:{value:"#60a5fa"},links:{color:"#60a5fa",distance:120,enable:!0,opacity:.4,width:1},move:{direction:"none",enable:!0,outModes:{default:"bounce"},random:!1,speed:1,straight:!1},number:{density:{enable:!0,area:800},value:50},opacity:{value:.7},shape:{type:"circle"},size:{value:3}},detectRetina:!0},className:"particles-background"}),(0,zr.jsx)("div",{className:"background-overlay",children:(0,zr.jsxs)("div",{className:"content-container",children:[(0,zr.jsxs)("button",{className:"home-button-top",onClick:()=>{t("/")},children:[(0,zr.jsx)(Wt,{size:24}),"Home"]}),(0,zr.jsx)("h1",{children:"Projects"}),(0,zr.jsxs)("div",{className:"carousel-container",children:[(0,zr.jsx)("button",{className:"carousel-arrow left",onClick:()=>{n((t=>0===t?c-1:t-1))},children:(0,zr.jsx)(Vt,{size:30})}),(0,zr.jsx)("div",{className:"carousel-content",children:(()=>{const t=e*l;return o.slice(t,t+l)})().map((t=>(0,zr.jsxs)("div",{className:"project-card",children:[t.videos?(0,zr.jsx)("div",{className:"dual-video-container",children:t.videos.map(((e,n)=>(0,zr.jsx)("iframe",{src:`https://www.youtube.com/embed/${e.videoId}?rel=0&modestbranding=1&hd=1`,title:`${t.title} - Part ${n+1}`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0},n)))}):(0,zr.jsx)("iframe",{src:`https://www.youtube.com/embed/${t.videoId}?rel=0&modestbranding=1&hd=1`,title:t.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),(0,zr.jsxs)("div",{className:"project-info",children:[(0,zr.jsx)("h3",{children:t.title}),(0,zr.jsx)("p",{children:t.description})]})]},t.id)))}),(0,zr.jsx)("button",{className:"carousel-arrow right",onClick:()=>{n((t=>t===c-1?0:t+1))},children:(0,zr.jsx)($t,{size:30})})]}),(0,zr.jsx)("div",{className:"carousel-dots",children:[...Array(c)].map(((t,i)=>(0,zr.jsx)("span",{className:"dot "+(i===e?"active":""),onClick:()=>n(i)},i)))}),(0,zr.jsxs)("div",{className:"carousel-counter",children:["Page ",e+1," of ",c]})]})})]})};const Hr="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type),Vr=[.001,0,0,.001,0,0],$r=1.35,Wr=1,Gr=2,qr=4,Xr=16,Kr=32,Yr=64,Qr=128,Jr=256,Zr={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},ta="pdfjs_internal_editor_",ea={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},na={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},ia=0,sa=1,ra=2,aa=3,oa=3,la=4,ca={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},da={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},ua=1,ha=2,pa=3,fa=4,ga=5,ma={ERRORS:0,WARNINGS:1,INFOS:5},va={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},ba=0,ya=1,wa=2,xa=3;let _a=ma.WARNINGS;function Sa(t){Number.isInteger(t)&&(_a=t)}function ka(){return _a}function Aa(t){_a>=ma.INFOS&&console.info(`Info: ${t}`)}function Ca(t){_a>=ma.WARNINGS&&console.warn(`Warning: ${t}`)}function Ea(t){throw new Error(t)}function Ta(t,e){t||Ea(e)}function Pa(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return null;if(n&&"string"===typeof t){if(n.addDefaultProtocol&&t.startsWith("www.")){const e=t.match(/\./g);e?.length>=2&&(t=`http://${t}`)}if(n.tryConvertEncoding)try{t=decodeURIComponent(escape(t))}catch{}}const i=e?URL.parse(t,e):URL.parse(t);return function(t){switch(t?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(i)?i:null}function Ma(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=URL.parse(t);return i?(i.hash=e,i.href):n&&Pa(t,"http://example.com")?t.split("#",1)[0]+""+(e?`#${e}`:""):""}function Da(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.defineProperty(t,e,{value:n,enumerable:!i,configurable:!0,writable:!1}),n}const Ra=function(){function t(t,e){this.message=t,this.name=e}return t.prototype=new Error,t.constructor=t,t}();class Ia extends Ra{constructor(t,e){super(t,"PasswordException"),this.code=e}}class La extends Ra{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class Oa extends Ra{constructor(t){super(t,"InvalidPDFException")}}class Fa extends Ra{constructor(t,e,n){super(t,"ResponseException"),this.status=e,this.missing=n}}class Ba extends Ra{constructor(t){super(t,"FormatError")}}class Na extends Ra{constructor(t){super(t,"AbortException")}}function za(t){"object"===typeof t&&void 0!==t?.length||Ea("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const i=[];for(let s=0;s<e;s+=n){const r=Math.min(s+n,e),a=t.subarray(s,r);i.push(String.fromCharCode.apply(null,a))}return i.join("")}function Ua(t){"string"!==typeof t&&Ea("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let i=0;i<e;++i)n[i]=255&t.charCodeAt(i);return n}class ja{static get isLittleEndian(){return Da(this,"isLittleEndian",function(){const t=new Uint8Array(4);return t[0]=1,1===new Uint32Array(t.buffer,0,1)[0]}())}static get isEvalSupported(){return Da(this,"isEvalSupported",function(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return Da(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}static get isImageDecoderSupported(){return Da(this,"isImageDecoderSupported","undefined"!==typeof ImageDecoder)}static get platform(){const{platform:t,userAgent:e}=navigator;return Da(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return Da(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Ha=Array.from(Array(256).keys(),(t=>t.toString(16).padStart(2,"0")));class Va{static makeHexColor(t,e,n){return`#${Ha[t]}${Ha[e]}${Ha[n]}`}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=t[n],s=t[n+1];t[n]=i*e[0]+s*e[2]+e[4],t[n+1]=i*e[1]+s*e[3]+e[5]}static applyTransformToBezier(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=e[0],s=e[1],r=e[2],a=e[3],o=e[4],l=e[5];for(let c=0;c<6;c+=2){const e=t[n+c],d=t[n+c+1];t[n+c]=e*i+d*r+o,t[n+c+1]=e*s+d*a+l}}static applyInverseTransform(t,e){const n=t[0],i=t[1],s=e[0]*e[3]-e[1]*e[2];t[0]=(n*e[3]-i*e[2]+e[2]*e[5]-e[4]*e[3])/s,t[1]=(-n*e[1]+i*e[0]+e[4]*e[1]-e[5]*e[0])/s}static axialAlignedBoundingBox(t,e,n){const i=e[0],s=e[1],r=e[2],a=e[3],o=e[4],l=e[5],c=t[0],d=t[1],u=t[2],h=t[3];let p=i*c+o,f=p,g=i*u+o,m=g,v=a*d+l,b=v,y=a*h+l,w=y;if(0!==s||0!==r){const t=s*c,e=s*u,n=r*d,i=r*h;p+=n,m+=n,g+=i,f+=i,v+=t,w+=t,y+=e,b+=e}n[0]=Math.min(n[0],p,g,f,m),n[1]=Math.min(n[1],v,y,b,w),n[2]=Math.max(n[2],p,g,f,m),n[3]=Math.max(n[3],v,y,b,w)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const n=t[0],i=t[1],s=t[2],r=t[3],a=n**2+i**2,o=n*s+i*r,l=s**2+r**2,c=(a+l)/2,d=Math.sqrt(c**2-(a*l-o**2));e[0]=Math.sqrt(c+d||1),e[1]=Math.sqrt(c-d||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),i=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>i)return null;const s=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),r=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return s>r?null:[n,s,i,r]}static pointBoundingBox(t,e,n){n[0]=Math.min(n[0],t),n[1]=Math.min(n[1],e),n[2]=Math.max(n[2],t),n[3]=Math.max(n[3],e)}static rectBoundingBox(t,e,n,i,s){s[0]=Math.min(s[0],t,n),s[1]=Math.min(s[1],e,i),s[2]=Math.max(s[2],t,n),s[3]=Math.max(s[3],e,i)}static#t(t,e,n,i,s,r,a,o,l,c){if(l<=0||l>=1)return;const d=1-l,u=l*l,h=u*l,p=d*(d*(d*t+3*l*e)+3*u*n)+h*i,f=d*(d*(d*s+3*l*r)+3*u*a)+h*o;c[0]=Math.min(c[0],p),c[1]=Math.min(c[1],f),c[2]=Math.max(c[2],p),c[3]=Math.max(c[3],f)}static#e(t,e,n,i,s,r,a,o,l,c,d,u){if(Math.abs(l)<1e-12)return void(Math.abs(c)>=1e-12&&this.#t(t,e,n,i,s,r,a,o,-d/c,u));const h=c**2-4*d*l;if(h<0)return;const p=Math.sqrt(h),f=2*l;this.#t(t,e,n,i,s,r,a,o,(-c+p)/f,u),this.#t(t,e,n,i,s,r,a,o,(-c-p)/f,u)}static bezierBoundingBox(t,e,n,i,s,r,a,o,l){l[0]=Math.min(l[0],t,a),l[1]=Math.min(l[1],e,o),l[2]=Math.max(l[2],t,a),l[3]=Math.max(l[3],e,o),this.#e(t,n,s,a,e,i,r,o,3*(3*(n-s)-t+a),6*(t-2*n+s),3*(n-t),l),this.#e(t,n,s,a,e,i,r,o,3*(3*(i-r)-e+o),6*(e-2*i+r),3*(i-e),l)}}let $a=null,Wa=null;function Ga(){if("function"===typeof crypto.randomUUID)return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),za(t)}const qa="pdfjs_internal_id_";function Xa(t,e,n){return Math.min(Math.max(t,e),n)}function Ka(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(za(t))}"function"!==typeof Promise.try&&(Promise.try=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return new Promise((e=>{e(t(...n))}))}),"function"!==typeof Math.sumPrecise&&(Math.sumPrecise=function(t){return t.reduce(((t,e)=>t+e),0)});class Ya{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};return function t(n){if(!n)return;let i=null;const s=n.name;if("#text"===s)i=n.value;else{if(!Ya.shouldBuildText(s))return;n?.attributes?.textContent?i=n.attributes.textContent:n.value&&(i=n.value)}if(null!==i&&e.push({str:i}),n.children)for(const e of n.children)t(e)}(t),n}static shouldBuildText(t){return!("textarea"===t||"input"===t||"option"===t||"select"===t)}}class Qa{static setupStorage(t,e,n,i,s){const r=i.getValue(e,{value:null});switch(n.name){case"textarea":if(null!==r.value&&(t.textContent=r.value),"print"===s)break;t.addEventListener("input",(t=>{i.setValue(e,{value:t.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(r.value===n.attributes.xfaOn?t.setAttribute("checked",!0):r.value===n.attributes.xfaOff&&t.removeAttribute("checked"),"print"===s)break;t.addEventListener("change",(t=>{i.setValue(e,{value:t.target.checked?t.target.getAttribute("xfaOn"):t.target.getAttribute("xfaOff")})}))}else{if(null!==r.value&&t.setAttribute("value",r.value),"print"===s)break;t.addEventListener("input",(t=>{i.setValue(e,{value:t.target.value})}))}break;case"select":if(null!==r.value){t.setAttribute("value",r.value);for(const t of n.children)t.attributes.value===r.value?t.attributes.selected=!0:t.attributes.hasOwnProperty("selected")&&delete t.attributes.selected}t.addEventListener("input",(t=>{const n=t.target.options,s=-1===n.selectedIndex?"":n[n.selectedIndex].value;i.setValue(e,{value:s})}))}}static setAttributes(t){let{html:e,element:n,storage:i=null,intent:s,linkService:r}=t;const{attributes:a}=n,o=e instanceof HTMLAnchorElement;"radio"===a.type&&(a.name=`${a.name}-${s}`);for(const[l,c]of Object.entries(a))if(null!==c&&void 0!==c)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!o||"href"!==l&&"newWindow"!==l)&&e.setAttribute(l,c)}o&&r.addLinkAttributes(e,a.href,a.newWindow),i&&a.dataId&&this.setupStorage(e,a.dataId,n,i)}static render(t){const e=t.annotationStorage,n=t.linkService,i=t.xfaHtml,s=t.intent||"display",r=document.createElement(i.name);i.attributes&&this.setAttributes({html:r,element:i,intent:s,linkService:n});const a="richText"!==s,o=t.div;if(o.append(r),t.viewport){const e=`matrix(${t.viewport.transform.join(",")})`;o.style.transform=e}a&&o.setAttribute("class","xfaLayer xfaFont");const l=[];if(0===i.children.length){if(i.value){const t=document.createTextNode(i.value);r.append(t),a&&Ya.shouldBuildText(i.name)&&l.push(t)}return{textDivs:l}}const c=[[i,-1,r]];for(;c.length>0;){const[t,i,r]=c.at(-1);if(i+1===t.children.length){c.pop();continue}const o=t.children[++c.at(-1)[1]];if(null===o)continue;const{name:d}=o;if("#text"===d){const t=document.createTextNode(o.value);l.push(t),r.append(t);continue}const u=o?.attributes?.xmlns?document.createElementNS(o.attributes.xmlns,d):document.createElement(d);if(r.append(u),o.attributes&&this.setAttributes({html:u,element:o,storage:e,intent:s,linkService:n}),o.children?.length>0)c.push([o,-1,u]);else if(o.value){const t=document.createTextNode(o.value);a&&Ya.shouldBuildText(d)&&l.push(t),u.append(t)}}for(const d of o.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))d.setAttribute("readOnly",!0);return{textDivs:l}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const Ja="http://www.w3.org/2000/svg";class Za{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=(()=>this.CSS/this.PDF)()}async function to(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";if(ao(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise(((n,i)=>{const s=new XMLHttpRequest;s.open("GET",t,!0),s.responseType=e,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE)if(200!==s.status&&0!==s.status)i(new Error(s.statusText));else{switch(e){case"arraybuffer":case"blob":case"json":return void n(s.response)}n(s.responseText)}},s.send(null)}))}class eo{constructor(t){let{viewBox:e,userUnit:n,scale:i,rotation:s,offsetX:r=0,offsetY:a=0,dontFlip:o=!1}=t;this.viewBox=e,this.userUnit=n,this.scale=i,this.rotation=s,this.offsetX=r,this.offsetY=a,i*=n;const l=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let d,u,h,p,f,g,m,v;switch(s%=360,s<0&&(s+=360),s){case 180:d=-1,u=0,h=0,p=1;break;case 90:d=0,u=1,h=1,p=0;break;case 270:d=0,u=-1,h=-1,p=0;break;case 0:d=1,u=0,h=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(h=-h,p=-p),0===d?(f=Math.abs(c-e[1])*i+r,g=Math.abs(l-e[0])*i+a,m=(e[3]-e[1])*i,v=(e[2]-e[0])*i):(f=Math.abs(l-e[0])*i+r,g=Math.abs(c-e[1])*i+a,m=(e[2]-e[0])*i,v=(e[3]-e[1])*i),this.transform=[d*i,u*i,h*i,p*i,f-d*i*l-h*i*c,g-u*i*l-p*i*c],this.width=m,this.height=v}get rawDims(){const t=this.viewBox;return Da(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone(){let{scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new eo({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:i,dontFlip:s})}convertToViewportPoint(t,e){const n=[t,e];return Va.applyTransform(n,this.transform),n}convertToViewportRectangle(t){const e=[t[0],t[1]];Va.applyTransform(e,this.transform);const n=[t[2],t[3]];return Va.applyTransform(n,this.transform),[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){const n=[t,e];return Va.applyInverseTransform(n,this.transform),n}}class no extends Ra{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(t,"RenderingCancelledException"),this.extraDelay=e}}function io(t){const e=t.length;let n=0;for(;n<e&&""===t[n].trim();)n++;return"data:"===t.substring(n,n+5).toLowerCase()}function so(t){return"string"===typeof t&&/\.pdf$/i.test(t)}class ro{started=(()=>Object.create(null))();times=[];time(t){t in this.started&&Ca(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Ca(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:i,end:s}of this.times)t.push(`${n.padEnd(e)} ${s-i}ms\n`);return t.join("")}}function ao(t,e){const n=e?URL.parse(t,e):URL.parse(t);return"http:"===n?.protocol||"https:"===n?.protocol}function oo(t){t.preventDefault()}function lo(t){t.preventDefault(),t.stopPropagation()}class co{static#n;static toDateObject(t){if(t instanceof Date)return t;if(!t||"string"!==typeof t)return null;this.#n||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#n.exec(t);if(!e)return null;const n=parseInt(e[1],10);let i=parseInt(e[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(e[3],10);s=s>=1&&s<=31?s:1;let r=parseInt(e[4],10);r=r>=0&&r<=23?r:0;let a=parseInt(e[5],10);a=a>=0&&a<=59?a:0;let o=parseInt(e[6],10);o=o>=0&&o<=59?o:0;const l=e[7]||"Z";let c=parseInt(e[8],10);c=c>=0&&c<=23?c:0;let d=parseInt(e[9],10)||0;return d=d>=0&&d<=59?d:0,"-"===l?(r+=c,a+=d):"+"===l&&(r-=c,a-=d),new Date(Date.UTC(n,i,s,r,a,o))}}function uo(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(16711680&e)>>16,(65280&e)>>8,255&e]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map((t=>parseInt(t))):t.startsWith("rgba(")?t.slice(5,-1).split(",").map((t=>parseInt(t))).slice(0,3):(Ca(`Not a valid color format: "${t}"`),[0,0,0])}function ho(t){const{a:e,b:n,c:i,d:s,e:r,f:a}=t.getTransform();return[e,n,i,s,r,a]}function po(t){const{a:e,b:n,c:i,d:s,e:r,f:a}=t.getTransform().invertSelf();return[e,n,i,s,r,a]}function fo(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e instanceof eo){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:r}=t,a=ja.isCSSRoundSupported,o=`var(--total-scale-factor) * ${i}px`,l=`var(--total-scale-factor) * ${s}px`,c=a?`round(down, ${o}, var(--scale-round-x))`:`calc(${o})`,d=a?`round(down, ${l}, var(--scale-round-y))`:`calc(${l})`;n&&e.rotation%180!==0?(r.width=d,r.height=c):(r.width=c,r.height=d)}i&&t.setAttribute("data-main-rotation",e.rotation)}class go{constructor(){const{pixelRatio:t}=go;this.sx=t,this.sy=t}get scaled(){return 1!==this.sx||1!==this.sy}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,n,i){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,r=1/0,a=1/0,o=1/0;(n=go.capPixels(n,s))>0&&(r=Math.sqrt(n/(t*e))),-1!==i&&(a=i/t,o=i/e);const l=Math.min(r,a,o);return(this.sx>l||this.sy>l)&&(this.sx=l,this.sy=l,!0)}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,n):n}return t}}const mo=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class vo{static get isDarkMode(){return Da(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}function bo(t,e){const n=t[0]/255,i=t[1]/255,s=t[2]/255,r=Math.max(n,i,s),a=Math.min(n,i,s),o=(r+a)/2;if(r===a)e[0]=e[1]=0;else{const t=r-a;switch(e[1]=o<.5?t/(r+a):t/(2-r-a),r){case n:e[0]=60*((i-s)/t+(i<s?6:0));break;case i:e[0]=60*((s-n)/t+2);break;case s:e[0]=60*((n-i)/t+4)}}e[2]=o}function yo(t,e){const n=t[0],i=t[1],s=t[2],r=(1-Math.abs(2*s-1))*i,a=r*(1-Math.abs(n/60%2-1)),o=s-r/2;switch(Math.floor(n/60)){case 0:e[0]=r+o,e[1]=a+o,e[2]=o;break;case 1:e[0]=a+o,e[1]=r+o,e[2]=o;break;case 2:e[0]=o,e[1]=r+o,e[2]=a+o;break;case 3:e[0]=o,e[1]=a+o,e[2]=r+o;break;case 4:e[0]=a+o,e[1]=o,e[2]=r+o;break;case 5:case 6:e[0]=r+o,e[1]=o,e[2]=a+o}}function wo(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function xo(t,e,n){yo(t,n),n.map(wo);const i=.2126*n[0]+.7152*n[1]+.0722*n[2];yo(e,n),n.map(wo);const s=.2126*n[0]+.7152*n[1]+.0722*n[2];return i>s?(i+.05)/(s+.05):(s+.05)/(i+.05)}const _o=new Map;function So(t,e){let{html:n,dir:i,className:s}=t;const r=document.createDocumentFragment();if("string"===typeof n){const t=document.createElement("p");t.dir=i||"auto";const e=n.split(/(?:\r\n?|\n)/);for(let n=0,i=e.length;n<i;++n){const s=e[n];t.append(document.createTextNode(s)),n<i-1&&t.append(document.createElement("br"))}r.append(t)}else Qa.render({xfaHtml:n,div:r,intent:"richText"});r.firstChild.classList.add("richText",s),e.append(r)}class ko{#i=null;#s=null;#r;#a=null;#o=null;#l=null;#c=null;#d=null;static#u=null;constructor(t){this.#r=t,ko.#u||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#i=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#r._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",oo,{signal:e}),t.addEventListener("pointerdown",ko.#h,{signal:e}));const n=this.#a=document.createElement("div");n.className="buttons",t.append(n);const i=this.#r.toolbarPosition;if(i){const{style:e}=t,n="ltr"===this.#r._uiManager.direction?1-i[0]:i[0];e.insetInlineEnd=100*n+"%",e.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return this.#i}static#h(t){t.stopPropagation()}#p(t){this.#r._focusEventsAllowed=!1,lo(t)}#f(t){this.#r._focusEventsAllowed=!0,lo(t)}#g(t){const e=this.#r._uiManager._signal;return e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("focusin",this.#p.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#f.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",oo,{signal:e}),!0)}hide(){this.#i.classList.add("hidden"),this.#s?.hideDropdown()}show(){this.#i.classList.remove("hidden"),this.#o?.shown(),this.#l?.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=this.#r,n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",ko.#u[t]),this.#g(n)&&n.addEventListener("click",(t=>{e.delete()}),{signal:e._signal}),this.#a.append(n)}get#m(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#g(e),this.#a.append(e,this.#m),this.#o=t}addComment(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.#l)return;const n=t.renderForToolbar();if(!n)return;this.#g(n);const i=this.#c=this.#m;e?(this.#a.insertBefore(n,e),this.#a.insertBefore(i,e)):this.#a.append(n,i),this.#l=t,t.toolbar=this}addColorPicker(t){if(this.#s)return;this.#s=t;const e=t.renderButton();this.#g(e),this.#a.append(e,this.#m)}async addEditSignatureButton(t){const e=this.#d=await t.renderEditButton(this.#r);this.#g(e),this.#a.append(e,this.#m)}removeButton(t){if("comment"===t)this.#l?.removeToolbarCommentButton(),this.#l=null,this.#c?.remove(),this.#c=null}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(e)}}async addButtonBefore(t,e,n){const i=this.#a.querySelector(n);i&&"comment"===t&&this.addComment(e,i)}updateEditSignatureButton(t){this.#d&&(this.#d.title=t)}remove(){this.#i.remove(),this.#s?.destroy(),this.#s=null}}class Ao{#a=null;#i=null;#v;constructor(t){this.#v=t}#b(){const t=this.#i=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar");const e=this.#v._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",oo,{signal:e});const n=this.#a=document.createElement("div");return n.className="buttons",t.append(n),this.#v.hasCommentManager()&&this.#y("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",(()=>{this.#v.commentSelection("floating_button")})),this.#y("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",(()=>{this.#v.highlightSelection("floating_button")})),t}#w(t,e){let n=0,i=0;for(const s of t){const t=s.y+s.height;if(t<n)continue;const r=s.x+(e?s.width:0);t>n?(i=r,n=t):e?r>i&&(i=r):r<i&&(i=r)}return[e?1-i:i,n]}show(t,e,n){const[i,s]=this.#w(e,n),{style:r}=this.#i||=this.#b();t.append(this.#i),r.insetInlineEnd=100*i+"%",r.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#i.remove()}#y(t,e,n,i){const s=document.createElement("button");s.classList.add("basic",t),s.tabIndex=0,s.setAttribute("data-l10n-id",e);const r=document.createElement("span");s.append(r),r.className="visuallyHidden",r.setAttribute("data-l10n-id",n);const a=this.#v._signal;a instanceof AbortSignal&&!a.aborted&&(s.addEventListener("contextmenu",oo,{signal:a}),s.addEventListener("click",i,{signal:a})),this.#a.append(s)}}function Co(t,e,n){for(const i of n)e.addEventListener(i,t[i].bind(t))}class Eo{#x=0;get id(){return`${ta}${this.#x++}`}}class To{#_=(()=>Ga())();#x=0;#S=null;static get _isSVGFittingCanvas(){const t=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),e=new Image;e.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';return Da(this,"_isSVGFittingCanvas",e.decode().then((()=>(t.drawImage(e,0,0,1,1,0,0,1,3),0===new Uint32Array(t.getImageData(0,0,1,1).data.buffer)[0]))))}async#k(t,e){this.#S||=new Map;let n=this.#S.get(t);if(null===n)return null;if(n?.bitmap)return n.refCounter+=1,n;try{let t;if(n||={bitmap:null,id:`image_${this.#_}_${this.#x++}`,refCounter:0,isSvg:!1},"string"===typeof e?(n.url=e,t=await to(e,"blob")):e instanceof File?t=n.file=e:e instanceof Blob&&(t=e),"image/svg+xml"===t.type){const e=To._isSVGFittingCanvas,i=new FileReader,s=new Image,r=new Promise(((t,r)=>{s.onload=()=>{n.bitmap=s,n.isSvg=!0,t()},i.onload=async()=>{const t=n.svgUrl=i.result;s.src=await e?`${t}#svgView(preserveAspectRatio(none))`:t},s.onerror=i.onerror=r}));i.readAsDataURL(t),await r}else n.bitmap=await createImageBitmap(t);n.refCounter=1}catch(gh){Ca(gh),n=null}return this.#S.set(t,n),n&&this.#S.set(n.id,n),n}async getFromFile(t){const{lastModified:e,name:n,size:i,type:s}=t;return this.#k(`${e}_${n}_${i}_${s}`,t)}async getFromUrl(t){return this.#k(t,t)}async getFromBlob(t,e){const n=await e;return this.#k(t,n)}async getFromId(t){this.#S||=new Map;const e=this.#S.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:t}=e;return delete e.blobPromise,this.getFromBlob(e.id,t)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#S||=new Map;let n=this.#S.get(t);if(n?.bitmap)return n.refCounter+=1,n;const i=new OffscreenCanvas(e.width,e.height);return i.getContext("2d").drawImage(e,0,0),n={bitmap:i.transferToImageBitmap(),id:`image_${this.#_}_${this.#x++}`,refCounter:1,isSvg:!1},this.#S.set(t,n),this.#S.set(n.id,n),n}getSvgUrl(t){const e=this.#S.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#S||=new Map;const e=this.#S.get(t);if(!e)return;if(e.refCounter-=1,0!==e.refCounter)return;const{bitmap:n}=e;if(!e.url&&!e.file){const t=new OffscreenCanvas(n.width,n.height);t.getContext("bitmaprenderer").transferFromImageBitmap(n),e.blobPromise=t.convertToBlob()}n.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#_}_`)}}class Po{#A=[];#C=!1;#E;#T=-1;constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;this.#E=t}add(t){let{cmd:e,undo:n,post:i,mustExec:s,type:r=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}=t;if(s&&e(),this.#C)return;const l={cmd:e,undo:n,post:i,type:r};if(-1===this.#T)return this.#A.length>0&&(this.#A.length=0),this.#T=0,void this.#A.push(l);if(a&&this.#A[this.#T].type===r)return o&&(l.undo=this.#A[this.#T].undo),void(this.#A[this.#T]=l);const c=this.#T+1;c===this.#E?this.#A.splice(0,1):(this.#T=c,c<this.#A.length&&this.#A.splice(c)),this.#A.push(l)}undo(){if(-1===this.#T)return;this.#C=!0;const{undo:t,post:e}=this.#A[this.#T];t(),e?.(),this.#C=!1,this.#T-=1}redo(){if(this.#T<this.#A.length-1){this.#T+=1,this.#C=!0;const{cmd:t,post:e}=this.#A[this.#T];t(),e?.(),this.#C=!1}}hasSomethingToUndo(){return-1!==this.#T}hasSomethingToRedo(){return this.#T<this.#A.length-1}cleanType(t){if(-1!==this.#T){for(let e=this.#T;e>=0;e--)if(this.#A[e].type!==t)return this.#A.splice(e+1,this.#T-e),void(this.#T=e);this.#A.length=0,this.#T=-1}}destroy(){this.#A=null}}class Mo{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=ja.platform;for(const[n,i,s={}]of t)for(const t of n){const n=t.startsWith("mac+");e&&n?(this.callbacks.set(t.slice(4),{callback:i,options:s}),this.allKeys.add(t.split("+").at(-1))):e||n||(this.callbacks.set(t,{callback:i,options:s}),this.allKeys.add(t.split("+").at(-1)))}}#P(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(this.#P(e));if(!n)return;const{callback:i,options:{bubbles:s=!1,args:r=[],checker:a=null}}=n;a&&!a(t,e)||(i.bind(t,...r,e)(),s||lo(e))}}class Do{static _colorsMapping=(()=>new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]))();get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return function(t){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const n of t.keys()){e.style.color=n;const i=window.getComputedStyle(e).color;t.set(n,uo(i))}e.remove()}(t),Da(this,"_colors",t)}convert(t){const e=uo(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,i]of this._colors)if(i.every(((t,n)=>t===e[n])))return Do._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?Va.makeHexColor(...e):t}}class Ro{#M=(()=>new AbortController)();#D=null;#R=null;#I=(()=>new Map)();#L=(()=>new Map)();#O=null;#F=null;#B=null;#N=(()=>new Po)();#z=null;#U=null;#j=null;#H=0;#V=(()=>new Set)();#$=null;#W=null;#G=(()=>new Set)();_editorUndoBar=null;#q=!1;#X=!1;#K=!1;#Y=null;#Q=null;#J=null;#Z=null;#tt=!1;#et=null;#nt=(()=>new Eo)();#it=!1;#st=!1;#rt=!1;#at=null;#ot=null;#lt=null;#ct=null;#dt=null;#ut=(()=>ea.NONE)();#ht=(()=>new Set)();#pt=null;#ft=null;#gt=null;#mt=null;#vt=null;#bt={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#yt=[0,0];#wt=null;#xt=null;#_t=null;#St=null;#kt=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=Ro.prototype,e=t=>t.#xt.contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&t.hasSomethingToControl(),n=(t,e)=>{let{target:n}=e;if(n instanceof HTMLInputElement){const{type:t}=n;return"text"!==t&&"number"!==t}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Da(this,"_keyboardManager",new Mo([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(t,e)=>{let{target:n}=e;return!(n instanceof HTMLButtonElement)&&t.#xt.contains(n)&&!t.isEnterHandled}}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(t,e)=>{let{target:n}=e;return!(n instanceof HTMLButtonElement)&&t.#xt.contains(document.activeElement)}}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-i,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[i,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-i],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,i],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}]]))}constructor(t,e,n,i,s,r,a,o,l,c,d,u,h,p,f,g){const m=this._signal=this.#M.signal;this.#xt=t,this.#_t=e,this.#St=n,this.#O=i,this.#z=s,this.#ft=r,this.#vt=o,this._eventBus=a,a._on("editingaction",this.onEditingAction.bind(this),{signal:m}),a._on("pagechanging",this.onPageChanging.bind(this),{signal:m}),a._on("scalechanging",this.onScaleChanging.bind(this),{signal:m}),a._on("rotationchanging",this.onRotationChanging.bind(this),{signal:m}),a._on("setpreference",this.onSetPreference.bind(this),{signal:m}),a._on("switchannotationeditorparams",(t=>this.updateParams(t.type,t.value)),{signal:m}),window.addEventListener("pointerdown",(()=>{this.#st=!0}),{capture:!0,signal:m}),window.addEventListener("pointerup",(()=>{this.#st=!1}),{capture:!0,signal:m}),this.#At(),this.#Ct(),this.#Et(),this.#F=o.annotationStorage,this.#Y=o.filterFactory,this.#gt=l,this.#Z=c||null,this.#q=d,this.#X=u,this.#K=h,this.#dt=p||null,this.viewParameters={realScale:Za.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=f||null,this._supportsPinchToZoom=!1!==g,s?.setSidebarUiManager(this)}destroy(){this.#kt?.resolve(),this.#kt=null,this.#M?.abort(),this.#M=null,this._signal=null;for(const t of this.#L.values())t.destroy();this.#L.clear(),this.#I.clear(),this.#G.clear(),this.#ct?.clear(),this.#D=null,this.#ht.clear(),this.#N.destroy(),this.#O?.destroy(),this.#z?.destroy(),this.#ft?.destroy(),this.#et?.hide(),this.#et=null,this.#lt?.destroy(),this.#lt=null,this.#R=null,this.#Q&&(clearTimeout(this.#Q),this.#Q=null),this.#wt&&(clearTimeout(this.#wt),this.#wt=null),this._editorUndoBar?.destroy(),this.#vt=null}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#dt}get useNewAltTextFlow(){return this.#X}get useNewAltTextWhenAddingImage(){return this.#K}get hcmFilter(){return Da(this,"hcmFilter",this.#gt?this.#Y.addHCMFilter(this.#gt.foreground,this.#gt.background):"none")}get direction(){return Da(this,"direction",getComputedStyle(this.#xt).direction)}get _highlightColors(){return Da(this,"_highlightColors",this.#Z?new Map(this.#Z.split(",").map((t=>((t=t.split("=").map((t=>t.trim())))[1]=t[1].toUpperCase(),t)))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return Da(this,"highlightColors",null);const e=new Map,n=!!this.#gt;for(const[i,s]of t){const t=i.endsWith("_HCM");n&&t?e.set(i.replace("_HCM",""),s):n||t||e.set(i,s)}return Da(this,"highlightColors",e)}get highlightColorNames(){return Da(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,(t=>t.reverse()))):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#j=t}setMainHighlightColorPicker(t){this.#lt=t}editAltText(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.#O?.editAltText(this,t,e)}hasCommentManager(){return!!this.#z}editComment(t,e,n,i){this.#z?.showDialog(this,t,e,n,i)}selectComment(t,e){const n=this.#L.get(t),i=n?.getEditorByUID(e);i?.toggleComment(!0,!0)}updateComment(t){this.#z?.updateComment(t.getData())}updatePopupColor(t){this.#z?.updatePopupColor(t)}removeComment(t){this.#z?.removeComments([t.uid])}toggleComment(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.#z?.toggleCommentPopup(t,e,n)}makeCommentColor(t,e){return t&&this.#z?.makeCommentColor(t,e)||null}getCommentDialogElement(){return this.#z?.dialogElement||null}async waitForEditorsRendered(t){if(this.#L.has(t-1))return;const{resolve:e,promise:n}=Promise.withResolvers(),i=n=>{n.pageNumber===t&&(this._eventBus._off("editorsrendered",i),e())};this._eventBus.on("editorsrendered",i),await n}getSignature(t){this.#ft?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#ft}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference(t){let{name:e,value:n}=t;if("enableNewAltTextWhenAddingImage"===e)this.#K=n}onPageChanging(t){let{pageNumber:e}=t;this.#H=e-1}focusMainContainer(){this.#xt.focus()}findParent(t,e){for(const n of this.#L.values()){const{x:i,y:s,width:r,height:a}=n.div.getBoundingClientRect();if(t>=i&&t<=i+r&&e>=s&&e<=s+a)return n}return null}disableUserSelect(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#_t.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#G.add(t)}removeShouldRescale(t){this.#G.delete(t)}onScaleChanging(t){let{scale:e}=t;this.commitOrRemove(),this.viewParameters.realScale=e*Za.PDF_TO_CSS_UNITS;for(const n of this.#G)n.onScaleChanging();this.#j?.onScaleChanging()}onRotationChanging(t){let{pagesRotation:e}=t;this.commitOrRemove(),this.viewParameters.rotation=e}#Tt(t){let{anchorNode:e}=t;return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#Pt(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of this.#L.values())if(n.hasTextLayer(t))return n;return null}highlightSelection(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:r,focusOffset:a}=n,o=n.toString(),l=this.#Tt(n).closest(".textLayer"),c=this.getSelectionBoxes(l);if(!c)return;n.empty();const d=this.#Pt(l),u=this.#ut===ea.NONE,h=()=>{const n=d?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:c,anchorNode:i,anchorOffset:s,focusNode:r,focusOffset:a,text:o});u&&this.showAllEditors("highlight",!0,!0),e&&n?.editComment()};u?this.switchToMode(ea.HIGHLIGHT,h):h()}commentSelection(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.highlightSelection(t,!0)}#Mt(){const t=document.getSelection();if(!t||t.isCollapsed)return;const e=this.#Tt(t).closest(".textLayer"),n=this.getSelectionBoxes(e);n&&(this.#et||=new Ao(this),this.#et.show(e,n,"ltr"===this.direction))}getAndRemoveDataFromAnnotationStorage(t){if(!this.#F)return null;const e=`${ta}${t}`,n=this.#F.getRawValue(e);return n&&this.#F.remove(e),n}addToAnnotationStorage(t){t.isEmpty()||!this.#F||this.#F.has(t.id)||this.#F.setValue(t.id,t)}a11yAlert(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.#St;n&&(n.setAttribute("data-l10n-id",t),e?n.setAttribute("data-l10n-args",JSON.stringify(e)):n.removeAttribute("data-l10n-args"))}#Dt(){const t=document.getSelection();if(!t||t.isCollapsed)return void(this.#pt&&(this.#et?.hide(),this.#pt=null,this.#Rt({hasSelectedText:!1})));const{anchorNode:e}=t;if(e===this.#pt)return;const n=this.#Tt(t).closest(".textLayer");if(n){if(this.#et?.hide(),this.#pt=e,this.#Rt({hasSelectedText:!0}),(this.#ut===ea.HIGHLIGHT||this.#ut===ea.NONE)&&(this.#ut===ea.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#tt=this.isShiftKeyDown,!this.isShiftKeyDown)){const t=this.#ut===ea.HIGHLIGHT?this.#Pt(n):null;if(t?.toggleDrawing(),this.#st){const e=new AbortController,n=this.combinedSignal(e),i=n=>{"pointerup"===n.type&&0!==n.button||(e.abort(),t?.toggleDrawing(!0),"pointerup"===n.type&&this.#It("main_toolbar"))};window.addEventListener("pointerup",i,{signal:n}),window.addEventListener("blur",i,{signal:n})}else t?.toggleDrawing(!0),this.#It("main_toolbar")}}else this.#pt&&(this.#et?.hide(),this.#pt=null,this.#Rt({hasSelectedText:!1}))}#It(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.#ut===ea.HIGHLIGHT?this.highlightSelection(t):this.#q&&this.#Mt()}#At(){document.addEventListener("selectionchange",this.#Dt.bind(this),{signal:this._signal})}#Lt(){if(this.#J)return;this.#J=new AbortController;const t=this.combinedSignal(this.#J);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#Ot(){this.#J?.abort(),this.#J=null}blur(){if(this.isShiftKeyDown=!1,this.#tt&&(this.#tt=!1,this.#It("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#ht)if(e.div.contains(t)){this.#ot=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#ot)return;const[t,e]=this.#ot;this.#ot=null,e.addEventListener("focusin",(()=>{t._focusEventsAllowed=!0}),{once:!0,signal:this._signal}),e.focus()}#Et(){if(this.#at)return;this.#at=new AbortController;const t=this.combinedSignal(this.#at);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#Ft(){this.#at?.abort(),this.#at=null}#Bt(){if(this.#U)return;this.#U=new AbortController;const t=this.combinedSignal(this.#U);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#Nt(){this.#U?.abort(),this.#U=null}#Ct(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#Et(),this.#Bt()}removeEditListeners(){this.#Ft(),this.#Nt()}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of this.#W)if(n.isHandlingMimeForPasting(e))return t.dataTransfer.dropEffect="copy",void t.preventDefault()}drop(t){for(const e of t.dataTransfer.items)for(const n of this.#W)if(n.isHandlingMimeForPasting(e.type))return n.paste(e,this.currentLayer),void t.preventDefault()}copy(t){if(t.preventDefault(),this.#D?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const n of this.#ht){const t=n.serialize(!0);t&&e.push(t)}0!==e.length&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const r of e.items)for(const t of this.#W)if(t.isHandlingMimeForPasting(r.type))return void t.paste(r,this.currentLayer);let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){return void Ca(`paste: "${s.message}".`)}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const t=[];for(const r of n){const e=await i.deserialize(r);if(!e)return;t.push(e)}const e=()=>{for(const e of t)this.#zt(e);this.#Ut(t)},s=()=>{for(const e of t)e.remove()};this.addCommands({cmd:e,undo:s,mustExec:!0})}catch(s){Ca(`paste: "${s.message}".`)}}keydown(t){this.isShiftKeyDown||"Shift"!==t.key||(this.isShiftKeyDown=!0),this.#ut===ea.NONE||this.isEditorHandlingKeyboard||Ro._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&"Shift"===t.key&&(this.isShiftKeyDown=!1,this.#tt&&(this.#tt=!1,this.#It("main_toolbar")))}onEditingAction(t){let{name:e}=t;switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu")}}#Rt(t){Object.entries(t).some((t=>{let[e,n]=t;return this.#bt[e]!==n}))&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#bt,t)}),this.#ut===ea.HIGHLIGHT&&!1===t.hasSelectedEditor&&this.#jt([[na.HIGHLIGHT_FREE,!0]]))}#jt(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#Lt(),this.#Bt(),this.#Rt({isEditing:this.#ut!==ea.NONE,isEmpty:this.#Ht(),hasSomethingToUndo:this.#N.hasSomethingToUndo(),hasSomethingToRedo:this.#N.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#Ot(),this.#Nt(),this.#Rt({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#W){this.#W=t;for(const t of this.#W)this.#jt(t.defaultPropertiesToUpdate)}}getId(){return this.#nt.id}get currentLayer(){return this.#L.get(this.#H)}getLayer(t){return this.#L.get(t)}get currentPageIndex(){return this.#H}addLayer(t){this.#L.set(t.pageIndex,t),this.#it?t.enable():t.disable()}removeLayer(t){this.#L.delete(t.pageIndex)}async updateMode(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(this.#ut!==t&&(!this.#kt||(await this.#kt.promise,this.#kt))){if(this.#kt=Promise.withResolvers(),this.#j?.commitOrRemove(),this.#ut===ea.POPUP&&this.#z?.hideSidebar(),this.#z?.destroyPopup(),this.#ut=t,t===ea.NONE){this.setEditingState(!1),this.#Vt();for(const t of this.#I.values())t.hideStandaloneCommentButton();return this._editorUndoBar?.hide(),this.toggleComment(null),void this.#kt.resolve()}for(const t of this.#I.values())t.addStandaloneCommentButton();t===ea.SIGNATURE&&await(this.#ft?.loadSignatures()),this.setEditingState(!0),await this.#$t(),this.unselectAll();for(const e of this.#L.values())e.updateMode(t);if(t===ea.POPUP){this.#R||=await this.#vt.getAnnotationsByType(new Set(this.#W.map((t=>t._editorType))));const t=new Set,e=[];for(const n of this.#I.values()){const{annotationElementId:i,hasComment:s,deleted:r}=n;i&&t.add(i),s&&!r&&e.push(n.getData())}for(const n of this.#R){const{id:i,popupRef:s,contentsObj:r}=n;s&&r?.str&&!t.has(i)&&!this.#V.has(i)&&e.push(n)}this.#z?.showSidebar(e)}if(!e)return n&&this.addNewEditorFromKeyboard(),void this.#kt.resolve();for(const t of this.#I.values())t.uid===e?(this.setSelected(t),s?t.editComment():i?t.enterInEditMode():t.focus()):t.unselect();this.#kt.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#ut&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#W){switch(t){case na.CREATE:return void this.currentLayer.addNewEditor(e);case na.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#mt||=new Map).set(t,e),this.showAllEditors("highlight",e)}if(this.hasSelection)for(const n of this.#ht)n.updateParams(t,e);else for(const n of this.#W)n.updateDefaultParams(t,e)}}showAllEditors(t,e){for(const n of this.#I.values())n.editorType===t&&n.show(e);(this.#mt?.get(na.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#jt([[na.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.#rt!==t){this.#rt=t;for(const e of this.#L.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#$t(){if(!this.#it){this.#it=!0;const t=[];for(const e of this.#L.values())t.push(e.enable());await Promise.all(t);for(const e of this.#I.values())e.enable()}}#Vt(){if(this.unselectAll(),this.#it){this.#it=!1;for(const t of this.#L.values())t.disable();for(const t of this.#I.values())t.disable()}}*getEditors(t){for(const e of this.#I.values())e.pageIndex===t&&(yield e)}getEditor(t){return this.#I.get(t)}addEditor(t){this.#I.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#Q&&clearTimeout(this.#Q),this.#Q=setTimeout((()=>{this.focusMainContainer(),this.#Q=null}),0)),this.#I.delete(t.id),t.annotationElementId&&this.#ct?.delete(t.annotationElementId),this.unselect(t),t.annotationElementId&&this.#V.has(t.annotationElementId)||this.#F?.remove(t.id)}addDeletedAnnotationElement(t){this.#V.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#V.has(t)}removeDeletedAnnotationElement(t){this.#V.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#zt(t){const e=this.#L.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#D!==t&&(this.#D=t,t&&this.#jt(t.propertiesToUpdate))}get#Wt(){let t=null;for(t of this.#ht);return t}updateUI(t){this.#Wt===t&&this.#jt(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#jt(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#ht.has(t))return this.#ht.delete(t),t.unselect(),void this.#Rt({hasSelectedEditor:this.hasSelection});this.#ht.add(t),t.select(),this.#jt(t.propertiesToUpdate),this.#Rt({hasSelectedEditor:!0})}setSelected(t){this.updateToolbar({mode:t.mode,editId:t.id}),this.#j?.commitOrRemove();for(const e of this.#ht)e!==t&&e.unselect();this.#ht.clear(),this.#ht.add(t),t.select(),this.#jt(t.propertiesToUpdate),this.#Rt({hasSelectedEditor:!0})}isSelected(t){return this.#ht.has(t)}get firstSelectedEditor(){return this.#ht.values().next().value}unselect(t){t.unselect(),this.#ht.delete(t),this.#Rt({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#ht.size}get isEnterHandled(){return 1===this.#ht.size&&this.firstSelectedEditor.isEnterHandled}undo(){this.#N.undo(),this.#Rt({hasSomethingToUndo:this.#N.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#Ht()}),this._editorUndoBar?.hide()}redo(){this.#N.redo(),this.#Rt({hasSomethingToUndo:!0,hasSomethingToRedo:this.#N.hasSomethingToRedo(),isEmpty:this.#Ht()})}addCommands(t){this.#N.add(t),this.#Rt({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#Ht()})}cleanUndoStack(t){this.#N.cleanType(t)}#Ht(){if(0===this.#I.size)return!0;if(1===this.#I.size)for(const t of this.#I.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#ht],n=()=>{for(const t of e)this.#zt(t)};this.addCommands({cmd:()=>{this._editorUndoBar?.show(n,1===e.length?e[0].editorType:e.length);for(const t of e)t.remove()},undo:n,mustExec:!0})}commitOrRemove(){this.#D?.commitOrRemove()}hasSomethingToControl(){return this.#D||this.hasSelection}#Ut(t){for(const e of this.#ht)e.unselect();this.#ht.clear();for(const e of t)e.isEmpty()||(this.#ht.add(e),e.select());this.#Rt({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#ht)t.commit();this.#Ut(this.#I.values())}unselectAll(){if((!this.#D||(this.#D.commitOrRemove(),this.#ut===ea.NONE))&&!this.#j?.commitOrRemove()&&this.hasSelection){for(const t of this.#ht)t.unselect();this.#ht.clear(),this.#Rt({hasSelectedEditor:!1})}}translateSelectedEditors(t,e){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.commitOrRemove(),!this.hasSelection)return;this.#yt[0]+=t,this.#yt[1]+=e;const[n,i]=this.#yt,s=[...this.#ht];this.#wt&&clearTimeout(this.#wt),this.#wt=setTimeout((()=>{this.#wt=null,this.#yt[0]=this.#yt[1]=0,this.addCommands({cmd:()=>{for(const t of s)this.#I.has(t.id)&&(t.translateInPage(n,i),t.translationDone())},undo:()=>{for(const t of s)this.#I.has(t.id)&&(t.translateInPage(-n,-i),t.translationDone())},mustExec:!1})}),1e3);for(const r of s)r.translateInPage(t,e),r.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#$=new Map;for(const t of this.#ht)this.#$.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#$)return!1;this.disableUserSelect(!1);const t=this.#$;this.#$=null;let e=!1;for(const[{x:i,y:s,pageIndex:r},a]of t)a.newX=i,a.newY=s,a.newPageIndex=r,e||=i!==a.savedX||s!==a.savedY||r!==a.savedPageIndex;if(!e)return!1;const n=(t,e,n,i)=>{if(this.#I.has(t.id)){const s=this.#L.get(i);s?t._setParentAndPosition(s,e,n):(t.pageIndex=i,t.x=e,t.y=n)}};return this.addCommands({cmd:()=>{for(const[e,{newX:i,newY:s,newPageIndex:r}]of t)n(e,i,s,r)},undo:()=>{for(const[e,{savedX:i,savedY:s,savedPageIndex:r}]of t)n(e,i,s,r)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#$)for(const n of this.#$.keys())n.drag(t,e)}rebuild(t){if(null===t.parent){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||1===this.#ht.size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#D===t}getActive(){return this.#D}getMode(){return this.#ut}isEditingMode(){return this.#ut!==ea.NONE}get imageManager(){return Da(this,"imageManager",new To)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let l=0,c=e.rangeCount;l<c;l++)if(!t.contains(e.getRangeAt(l).commonAncestorContainer))return null;const{x:n,y:i,width:s,height:r}=t.getBoundingClientRect();let a;switch(t.getAttribute("data-main-rotation")){case"90":a=(t,e,a,o)=>({x:(e-i)/r,y:1-(t+a-n)/s,width:o/r,height:a/s});break;case"180":a=(t,e,a,o)=>({x:1-(t+a-n)/s,y:1-(e+o-i)/r,width:a/s,height:o/r});break;case"270":a=(t,e,a,o)=>({x:1-(e+o-i)/r,y:(t-n)/s,width:o/r,height:a/s});break;default:a=(t,e,a,o)=>({x:(t-n)/s,y:(e-i)/r,width:a/s,height:o/r})}const o=[];for(let l=0,c=e.rangeCount;l<c;l++){const t=e.getRangeAt(l);if(!t.collapsed)for(const{x:e,y:n,width:i,height:s}of t.getClientRects())0!==i&&0!==s&&o.push(a(e,n,i,s))}return 0===o.length?null:o}addChangedExistingAnnotation(t){let{annotationElementId:e,id:n}=t;(this.#B||=new Map).set(e,n)}removeChangedExistingAnnotation(t){let{annotationElementId:e}=t;this.#B?.delete(e)}renderAnnotationElement(t){const e=this.#B?.get(t.data.id);if(!e)return;const n=this.#F.getRawValue(e);n&&(this.#ut!==ea.NONE||n.hasBeenModified)&&n.renderAnnotationElement(t)}setMissingCanvas(t,e,n){const i=this.#ct?.get(t);i&&(i.setCanvas(e,n),this.#ct.delete(t))}addMissingCanvas(t,e){(this.#ct||=new Map).set(t,e)}}class Io{#o=null;#Gt=!1;#qt=null;#Xt=null;#Kt=null;#Yt=null;#Qt=!1;#Jt=null;#r=null;#Zt=null;#te=null;#ee=!1;static#ne=null;static _l10n=null;constructor(t){this.#r=t,this.#ee=t._uiManager.useNewAltTextFlow,Io.#ne||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){Io._l10n??=t}async render(){const t=this.#qt=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#Xt=document.createElement("span");t.append(e),this.#ee?(t.classList.add("new"),t.setAttribute("data-l10n-id",Io.#ne.missing),e.setAttribute("data-l10n-id",Io.#ne["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#r._uiManager._signal;t.addEventListener("contextmenu",oo,{signal:n}),t.addEventListener("pointerdown",(t=>t.stopPropagation()),{signal:n});const i=t=>{t.preventDefault(),this.#r._uiManager.editAltText(this.#r),this.#ee&&this.#r._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#ie}})};return t.addEventListener("click",i,{capture:!0,signal:n}),t.addEventListener("keydown",(e=>{e.target===t&&"Enter"===e.key&&(this.#Qt=!0,i(e))}),{signal:n}),await this.#se(),t}get#ie(){return(this.#o?"added":null===this.#o&&this.guessedText&&"review")||"missing"}finish(){this.#qt&&(this.#qt.focus({focusVisible:this.#Qt}),this.#Qt=!1)}isEmpty(){return this.#ee?null===this.#o:!this.#o&&!this.#Gt}hasData(){return this.#ee?null!==this.#o||!!this.#Zt:this.isEmpty()}get guessedText(){return this.#Zt}async setGuessedText(t){null===this.#o&&(this.#Zt=t,this.#te=await Io._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#se())}toggleAltTextBadge(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.#ee||this.#o)return this.#Jt?.remove(),void(this.#Jt=null);if(!this.#Jt){const t=this.#Jt=document.createElement("div");t.className="noAltTextBadge",this.#r.div.append(t)}this.#Jt.classList.toggle("hidden",!t)}serialize(t){let e=this.#o;return t||this.#Zt!==e||(e=this.#te),{altText:e,decorative:this.#Gt,guessedText:this.#Zt,textWithDisclaimer:this.#te}}get data(){return{altText:this.#o,decorative:this.#Gt}}set data(t){let{altText:e,decorative:n,guessedText:i,textWithDisclaimer:s,cancel:r=!1}=t;i&&(this.#Zt=i,this.#te=s),this.#o===e&&this.#Gt===n||(r||(this.#o=e,this.#Gt=n),this.#se())}toggle(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#qt&&(!t&&this.#Yt&&(clearTimeout(this.#Yt),this.#Yt=null),this.#qt.disabled=!t)}shown(){this.#r._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#ie}})}destroy(){this.#qt?.remove(),this.#qt=null,this.#Xt=null,this.#Kt=null,this.#Jt?.remove(),this.#Jt=null}async#se(){const t=this.#qt;if(!t)return;if(this.#ee){if(t.classList.toggle("done",!!this.#o),t.setAttribute("data-l10n-id",Io.#ne[this.#ie]),this.#Xt?.setAttribute("data-l10n-id",Io.#ne[`${this.#ie}-label`]),!this.#o)return void this.#Kt?.remove()}else{if(!this.#o&&!this.#Gt)return t.classList.remove("done"),void this.#Kt?.remove();t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#Kt;if(!e){this.#Kt=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#r.id}`;const n=100,i=this.#r._uiManager._signal;i.addEventListener("abort",(()=>{clearTimeout(this.#Yt),this.#Yt=null}),{once:!0}),t.addEventListener("mouseenter",(()=>{this.#Yt=setTimeout((()=>{this.#Yt=null,this.#Kt.classList.add("show"),this.#r._reportTelemetry({action:"alt_text_tooltip"})}),n)}),{signal:i}),t.addEventListener("mouseleave",(()=>{this.#Yt&&(clearTimeout(this.#Yt),this.#Yt=null),this.#Kt?.classList.remove("show")}),{signal:i})}this.#Gt?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#o),e.parentNode||t.append(e);const n=this.#r.getElementForAltText();n?.setAttribute("aria-describedby",e.id)}}class Lo{#re=null;#ae=null;#oe=!1;#r=null;#le=null;#ce=null;#de=null;#ue=null;#he=!1;#pe=null;constructor(t){this.#r=t}renderForToolbar(){const t=this.#ae=document.createElement("button");return t.className="comment",this.#b(t,!1)}renderForStandalone(){const t=this.#re=document.createElement("button");t.className="annotationCommentButton";const e=this.#r.commentButtonPosition;if(e){const{style:n}=t;n.insetInlineEnd=`calc(${100*("ltr"===this.#r._uiManager.direction?1-e[0]:e[0])}% - var(--comment-button-dim))`,n.top=`calc(${100*e[1]}% - var(--comment-button-dim))`;const i=this.#r.commentButtonColor;i&&(n.backgroundColor=i)}return this.#b(t,!0)}focusButton(){setTimeout((()=>{(this.#re??this.#ae)?.focus()}),0)}onUpdatedColor(){if(!this.#re)return;const t=this.#r.commentButtonColor;t&&(this.#re.style.backgroundColor=t),this.#r._uiManager.updatePopupColor(this.#r)}get commentButtonWidth(){return(this.#re?.getBoundingClientRect().width??0)/this.#r.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#pe)return this.#pe;if(!this.#re)return null;const{x:t,y:e,height:n}=this.#re.getBoundingClientRect(),{x:i,y:s,width:r,height:a}=this.#r.parent.boundingClientRect;return[(t-i)/r,(e+n-s)/a]}set commentPopupPositionInLayer(t){this.#pe=t}hasDefaultPopupPosition(){return null===this.#pe}removeStandaloneCommentButton(){this.#re?.remove(),this.#re=null}removeToolbarCommentButton(){this.#ae?.remove(),this.#ae=null}setCommentButtonStates(t){let{selected:e,hasPopup:n}=t;this.#re&&(this.#re.classList.toggle("selected",e),this.#re.ariaExpanded=n)}#b(t,e){if(!this.#r._uiManager.hasCommentManager())return null;t.tabIndex="0",t.ariaHasPopup="dialog",e?(t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(t.ariaControlsElements=[this.#r._uiManager.getCommentDialogElement()],t.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const n=this.#r._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return t;t.addEventListener("contextmenu",oo,{signal:n}),e&&(t.addEventListener("focusin",(t=>{this.#r._focusEventsAllowed=!1,lo(t)}),{capture:!0,signal:n}),t.addEventListener("focusout",(t=>{this.#r._focusEventsAllowed=!0,lo(t)}),{capture:!0,signal:n})),t.addEventListener("pointerdown",(t=>t.stopPropagation()),{signal:n});const i=e=>{e.preventDefault(),t===this.#ae?this.edit():this.#r.toggleComment(!0)};return t.addEventListener("click",i,{capture:!0,signal:n}),t.addEventListener("keydown",(e=>{e.target===t&&"Enter"===e.key&&(this.#oe=!0,i(e))}),{signal:n}),t.addEventListener("pointerenter",(()=>{this.#r.toggleComment(!1,!0)}),{signal:n}),t.addEventListener("pointerleave",(()=>{this.#r.toggleComment(!1,!1)}),{signal:n}),t}edit(t){const e=this.commentPopupPositionInLayer;let n,i;if(e)[n,i]=e;else{[n,i]=this.#r.commentButtonPosition;const{width:t,height:e,x:s,y:r}=this.#r;n=s+n*t,i=r+i*e}const s=this.#r.parent.boundingClientRect,{x:r,y:a,width:o,height:l}=s;this.#r._uiManager.editComment(this.#r,r+n*o,a+i*l,{...t,parentDimensions:s})}finish(){this.#ae&&(this.#ae.focus({focusVisible:this.#oe}),this.#oe=!1)}isDeleted(){return this.#he||""===this.#de}isEmpty(){return null===this.#de}hasBeenEdited(){return this.isDeleted()||this.#de!==this.#le}serialize(){return this.data}get data(){return{text:this.#de,richText:this.#ce,date:this.#ue,deleted:this.isDeleted()}}set data(t){if(t!==this.#de&&(this.#ce=null),null===t)return this.#de="",void(this.#he=!0);this.#de=t,this.#ue=new Date,this.#he=!1}setInitialText(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.#le=t,this.data=t,this.#ue=null,this.#ce=e}shown(){}destroy(){this.#ae?.remove(),this.#ae=null,this.#re?.remove(),this.#re=null,this.#de="",this.#ce=null,this.#ue=null,this.#r=null,this.#oe=!1,this.#he=!1}}class Oo{#xt;#fe=!1;#ge=null;#me;#ve;#be;#ye;#we=null;#xe;#_e=null;#Se;#ke=null;constructor(t){let{container:e,isPinchingDisabled:n=null,isPinchingStopped:i=null,onPinchStart:s=null,onPinching:r=null,onPinchEnd:a=null,signal:o}=t;this.#xt=e,this.#ge=i,this.#me=n,this.#ve=s,this.#be=r,this.#ye=a,this.#Se=new AbortController,this.#xe=AbortSignal.any([o,this.#Se.signal]),e.addEventListener("touchstart",this.#Ae.bind(this),{passive:!1,signal:this.#xe})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/go.pixelRatio}#Ae(t){if(this.#me?.())return;if(1===t.touches.length){if(this.#we)return;const t=this.#we=new AbortController,e=AbortSignal.any([this.#xe,t.signal]),n=this.#xt,i={capture:!0,signal:e,passive:!1},s=t=>{"touch"===t.pointerType&&(this.#we?.abort(),this.#we=null)};return n.addEventListener("pointerdown",(t=>{"touch"===t.pointerType&&(lo(t),s(t))}),i),n.addEventListener("pointerup",s,i),void n.addEventListener("pointercancel",s,i)}if(!this.#ke){this.#ke=new AbortController;const t=AbortSignal.any([this.#xe,this.#ke.signal]),e=this.#xt,n={signal:t,capture:!1,passive:!1};e.addEventListener("touchmove",this.#Ce.bind(this),n);const i=this.#Ee.bind(this);e.addEventListener("touchend",i,n),e.addEventListener("touchcancel",i,n),n.capture=!0,e.addEventListener("pointerdown",lo,n),e.addEventListener("pointermove",lo,n),e.addEventListener("pointercancel",lo,n),e.addEventListener("pointerup",lo,n),this.#ve?.()}if(lo(t),2!==t.touches.length||this.#ge?.())return void(this.#_e=null);let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]),this.#_e={touch0X:e.screenX,touch0Y:e.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#Ce(t){if(!this.#_e||2!==t.touches.length)return;lo(t);let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]);const{screenX:i,screenY:s}=e,{screenX:r,screenY:a}=n,o=this.#_e,{touch0X:l,touch0Y:c,touch1X:d,touch1Y:u}=o,h=d-l,p=u-c,f=r-i,g=a-s,m=Math.hypot(f,g)||1,v=Math.hypot(h,p)||1;if(!this.#fe&&Math.abs(v-m)<=Oo.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(o.touch0X=i,o.touch0Y=s,o.touch1X=r,o.touch1Y=a,!this.#fe)return void(this.#fe=!0);const b=[(i+r)/2,(s+a)/2];this.#be?.(b,v,m)}#Ee(t){t.touches.length>=2||(this.#ke&&(this.#ke.abort(),this.#ke=null,this.#ye?.()),this.#_e&&(lo(t),this.#_e=null,this.#fe=!1))}destroy(){this.#Se?.abort(),this.#Se=null,this.#we?.abort(),this.#we=null}}class Fo{#Te=null;#Pe=null;#o=null;#l=null;#re=null;#Me=!1;#De=null;#Re="";#Ie=null;#Le=null;#Oe=null;#Fe=null;#Be=null;#Ne="";#ze=!1;#Ue=null;#je=!1;#He=!1;#Ve=!1;#$e=null;#We=0;#Ge=0;#qe=null;#Xe=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=(()=>Object.create(null))();_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#Ke=!1;#Ye=(()=>Fo._zIndex++)();static _borderLineWidth=-1;static _colorManager=(()=>new Do)();static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=Fo.prototype._resizeWithKeyboard,e=Ro.TRANSLATE_SMALL,n=Ro.TRANSLATE_BIG;return Da(this,"_resizerKeyboardManager",new Mo([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],Fo.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:i,pageX:s,pageY:r}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[s,r];const[a,o]=this.parentDimensions;this.x=t.x/a,this.y=t.y/o,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Da(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new Bo({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(Fo._l10n??=t,Fo._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),-1!==Fo._borderLineWidth)return;const n=getComputedStyle(document.documentElement);Fo._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Ea("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#Ke}set _isDraggable(t){this.#Ke=t,this.div?.classList.toggle("draggable",t)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(2*t),this.y+=this.width*t/(2*e);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(2*t),this.y-=this.width*t/(2*e);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#Ye}setParent(t){null!==t?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):(this.#Qe(),this.#Fe?.remove(),this.#Fe=null),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#ze?this.#ze=!1:this.parent.setSelected(this))}focusout(t){if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const e=t.relatedTarget;e?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,i){const[s,r]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(t+n)/s,this.y=(e+i)/r,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[n,i]=this.parentDimensions;this.setAt(t*n,e*i,this.width*n,this.height*i),this._onTranslated()}#Je(t,e,n){let[i,s]=t;[e,n]=this.screenToPageTranslation(e,n),this.x+=e/i,this.y+=n/s,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#Je(this.parentDimensions,t,e)}translateInPage(t,e){this.#Ue||=[this.x,this.y,this.width,this.height],this.#Je(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#Ue||=[this.x,this.y,this.width,this.height];const{div:n,parentDimensions:[i,s]}=this;if(this.x+=t/i,this.y+=e/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:t,y:e}=this.div.getBoundingClientRect();this.parent.findNewParent(this,t,e)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:r,y:a}=this;const[o,l]=this.getBaseTranslation();r+=o,a+=l;const{style:c}=n;c.left=`${(100*r).toFixed(2)}%`,c.top=`${(100*a).toFixed(2)}%`,this._onTranslating(r,a),n.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#Ue&&(this.#Ue[0]!==this.x||this.#Ue[1]!==this.y)}get _hasBeenResized(){return!!this.#Ue&&(this.#Ue[2]!==this.width||this.#Ue[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=Fo,i=n/t,s=n/e;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rotation;const{div:{style:e},pageDimensions:[n,i]}=this;let{x:s,y:r,width:a,height:o}=this;if(a*=n,o*=i,s*=n,r*=i,this._mustFixPosition)switch(t){case 0:s=Xa(s,0,n-a),r=Xa(r,0,i-o);break;case 90:s=Xa(s,0,n-o),r=Xa(r,a,i);break;case 180:s=Xa(s,a,n),r=Xa(r,o,i);break;case 270:s=Xa(s,o,n),r=Xa(r,0,i-a)}this.x=s/=n,this.y=r/=i;const[l,c]=this.getBaseTranslation();s+=l,r+=c,e.left=`${(100*s).toFixed(2)}%`,e.top=`${(100*r).toFixed(2)}%`,this.moveInDOM()}static#Ze(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return Fo.#Ze(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return Fo.#Ze(t,e,360-this.parentRotation)}#tn(t){switch(t){case 90:{const[t,e]=this.pageDimensions;return[0,-t/e,e/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,e]=this.pageDimensions;return[0,t/e,-e/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(){const{div:{style:t},width:e,height:n}=this;t.width=`${(100*e).toFixed(2)}%`,t.height=`${(100*n).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#en(){if(this.#Ie)return;this.#Ie=document.createElement("div"),this.#Ie.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const t=document.createElement("div");this.#Ie.append(t),t.classList.add("resizer",n),t.setAttribute("data-resizer-name",n),t.addEventListener("pointerdown",this.#nn.bind(this,n),{signal:e}),t.addEventListener("contextmenu",oo,{signal:e}),t.tabIndex=-1}this.div.prepend(this.#Ie)}#nn(t,e){e.preventDefault();const{isMac:n}=ja.platform;if(0!==e.button||e.ctrlKey&&n)return;this.#o?.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,this.#Le=[e.screenX,e.screenY];const s=new AbortController,r=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#in.bind(this,t),{passive:!0,capture:!0,signal:r}),window.addEventListener("touchmove",lo,{passive:!1,signal:r}),window.addEventListener("contextmenu",oo,{signal:r}),this.#Oe={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const a=this.parent.div.style.cursor,o=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const l=()=>{s.abort(),this.parent.togglePointerEvents(!0),this.#o?.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=a,this.div.style.cursor=o,this.#sn()};window.addEventListener("pointerup",l,{signal:r}),window.addEventListener("blur",l,{signal:r})}#rn(t,e,n,i){this.width=n,this.height=i,this.x=t,this.y=e,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#sn(){if(!this.#Oe)return;const{savedX:t,savedY:e,savedWidth:n,savedHeight:i}=this.#Oe;this.#Oe=null;const s=this.x,r=this.y,a=this.width,o=this.height;s===t&&r===e&&a===n&&o===i||this.addCommands({cmd:this.#rn.bind(this,s,r,a,o),undo:this.#rn.bind(this,t,e,n,i),mustExec:!0})}static _round(t){return Math.round(1e4*t)/1e4}#in(t,e){const[n,i]=this.parentDimensions,s=this.x,r=this.y,a=this.width,o=this.height,l=Fo.MIN_SIZE/n,c=Fo.MIN_SIZE/i,d=this.#tn(this.rotation),u=(t,e)=>[d[0]*t+d[2]*e,d[1]*t+d[3]*e],h=this.#tn(360-this.rotation);let p,f,g=!1,m=!1;switch(t){case"topLeft":g=!0,p=(t,e)=>[0,0],f=(t,e)=>[t,e];break;case"topMiddle":p=(t,e)=>[t/2,0],f=(t,e)=>[t/2,e];break;case"topRight":g=!0,p=(t,e)=>[t,0],f=(t,e)=>[0,e];break;case"middleRight":m=!0,p=(t,e)=>[t,e/2],f=(t,e)=>[0,e/2];break;case"bottomRight":g=!0,p=(t,e)=>[t,e],f=(t,e)=>[0,0];break;case"bottomMiddle":p=(t,e)=>[t/2,e],f=(t,e)=>[t/2,0];break;case"bottomLeft":g=!0,p=(t,e)=>[0,e],f=(t,e)=>[t,0];break;case"middleLeft":m=!0,p=(t,e)=>[0,e/2],f=(t,e)=>[t,e/2]}const v=p(a,o),b=f(a,o);let y=u(...b);const w=Fo._round(s+y[0]),x=Fo._round(r+y[1]);let _,S,k=1,A=1;if(e.fromKeyboard)({deltaX:_,deltaY:S}=e);else{const{screenX:t,screenY:n}=e,[i,s]=this.#Le;[_,S]=this.screenToPageTranslation(t-i,n-s),this.#Le[0]=t,this.#Le[1]=n}var C,E;if([_,S]=(C=_/n,E=S/i,[h[0]*C+h[2]*E,h[1]*C+h[3]*E]),g){const t=Math.hypot(a,o);k=A=Math.max(Math.min(Math.hypot(b[0]-v[0]-_,b[1]-v[1]-S)/t,1/a,1/o),l/a,c/o)}else m?k=Xa(Math.abs(b[0]-v[0]-_),l,1)/a:A=Xa(Math.abs(b[1]-v[1]-S),c,1)/o;const T=Fo._round(a*k),P=Fo._round(o*A);y=u(...f(T,P));const M=w-y[0],D=x-y[1];this.#Ue||=[this.x,this.y,this.width,this.height],this.width=T,this.height=P,this.x=M,this.y=D,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#o?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#He)return this._editToolbar;this._editToolbar=new ko(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,n]of t)await this._editToolbar.addButton(e,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#o?.destroy()}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#o||(Io.initialize(Fo._l10n),this.#o=new Io(this),this.#Te&&(this.#o.data=this.#Te,this.#Te=null)),this.#o}get altTextData(){return this.#o?.data}set altTextData(t){this.#o&&(this.#o.data=t)}get guessedAltText(){return this.#o?.guessedText}async setGuessedAltText(t){await(this.#o?.setGuessedText(t))}serializeAltText(t){return this.#o?.serialize(t)}hasAltText(){return!!this.#o&&!this.#o.isEmpty()}hasAltTextData(){return this.#o?.hasData()??!1}focusCommentButton(){this.#l?.focusButton()}addCommentButton(){return this.#l||=new Lo(this)}addStandaloneCommentButton(){this.#re?this._uiManager.isEditingMode()&&this.#re.classList.remove("hidden"):this.hasComment&&(this.#re=this.#l.renderForStandalone(),this.div.append(this.#re))}removeStandaloneCommentButton(){this.#l.removeStandaloneCommentButton(),this.#re=null}hideStandaloneCommentButton(){this.#re?.classList.add("hidden")}get comment(){const{data:{richText:t,text:e,date:n,deleted:i}}=this.#l;return{text:e,richText:t,date:n,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(t){this.#l||=new Lo(this),this.#l.data=t,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData(t){let{comment:e,popupRef:n,richText:i}=t;if(!n)return;if(this.#l||=new Lo(this),this.#l.setInitialText(e,i),!this.annotationElementId)return;const s=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);s&&this.updateFromAnnotationLayer(s)}get hasEditedComment(){return this.#l?.hasBeenEdited()}get hasDeletedComment(){return this.#l?.isDeleted()}get hasComment(){return!!this.#l&&!this.#l.isEmpty()&&!this.#l.isDeleted()}async editComment(t){this.#l||=new Lo(this),this.#l.edit(t)}toggleComment(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this.hasComment&&this._uiManager.toggleComment(this,t,e)}setSelectedCommentButton(t){this.#l.setSelectedButton(t)}addComment(t){if(this.hasEditedComment){const e=180,n=100,[,,,i]=t.rect,[s]=this.pageDimensions,[r]=this.pageTranslation,a=r+s+1,o=i-n,l=a+e;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[a,o,l,i]}}}updateFromAnnotationLayer(t){let{popup:{contents:e,deleted:n}}=t;this.#l.data=n?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#Me?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#an();const[e,n]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*n/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/n).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),Co(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#Xe||=new Oo({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#on.bind(this),onPinching:this.#ln.bind(this),onPinchEnd:this.#cn.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),t}#on(){this.#Oe={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#o?.toggle(!1),this.parent.togglePointerEvents(!1)}#ln(t,e,n){let i=n/e*.7+1-.7;if(1===i)return;const s=this.#tn(this.rotation),r=(t,e)=>[s[0]*t+s[2]*e,s[1]*t+s[3]*e],[a,o]=this.parentDimensions,l=this.x,c=this.y,d=this.width,u=this.height,h=Fo.MIN_SIZE/a,p=Fo.MIN_SIZE/o;i=Math.max(Math.min(i,1/d,1/u),h/d,p/u);const f=Fo._round(d*i),g=Fo._round(u*i);if(f===d&&g===u)return;this.#Ue||=[l,c,d,u];const m=r(d/2,u/2),v=Fo._round(l+m[0]),b=Fo._round(c+m[1]),y=r(f/2,g/2);this.x=v-y[0],this.y=b-y[1],this.width=f,this.height=g,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#cn(){this.#o?.toggle(!0),this.parent.togglePointerEvents(!0),this.#sn()}pointerdown(t){const{isMac:e}=ja.platform;0!==t.button||t.ctrlKey&&e?t.preventDefault():(this.#ze=!0,this._isDraggable?this.#dn(t):this.#un(t))}#un(t){const{isMac:e}=ja.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#dn(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let n=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),r={capture:!0,passive:!1,signal:s},a=t=>{i.abort(),this.#De=null,this.#ze=!1,this._uiManager.endDragSession()||this.#un(t),n&&this._onStopDragging()};e&&(this.#We=t.clientX,this.#Ge=t.clientY,this.#De=t.pointerId,this.#Re=t.pointerType,window.addEventListener("pointermove",(t=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:e,clientY:i,pointerId:s}=t;if(s!==this.#De)return void lo(t);const[r,a]=this.screenToPageTranslation(e-this.#We,i-this.#Ge);this.#We=e,this.#Ge=i,this._uiManager.dragSelectedEditors(r,a)}),r),window.addEventListener("touchmove",lo,r),window.addEventListener("pointerdown",(t=>{t.pointerType===this.#Re&&(this.#Xe||t.isPrimary)&&a(t),lo(t)}),r));const o=t=>{this.#De&&this.#De!==t.pointerId?lo(t):a(t)};window.addEventListener("pointerup",o,{signal:s}),window.addEventListener("blur",o,{signal:s})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#$e&&clearTimeout(this.#$e),this.#$e=setTimeout((()=>{this.#$e=null,this.parent?.moveEditorInDOM(this)}),0)}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotation;const i=this.parentScale,[s,r]=this.pageDimensions,[a,o]=this.pageTranslation,l=t/i,c=e/i,d=this.x*s,u=this.y*r,h=this.width*s,p=this.height*r;switch(n){case 0:return[d+l+a,r-u-c-p+o,d+l+h+a,r-u-c+o];case 90:return[d+c+a,r-u+l+o,d+c+p+a,r-u+l+h+o];case 180:return[d-l-h+a,r-u+c+o,d-l+a,r-u+c+p+o];case 270:return[d-c-p+a,r-u-l-h+o,d-c+a,r-u-l+o];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,i,s,r]=t,a=s-n,o=r-i;switch(this.rotation){case 0:return[n,e-r,a,o];case 90:return[n,e-i,o,a];case 180:return[s,e-i,a,o];case 270:return[s,e-r,o,a];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Fo._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#l?.onUpdatedColor()}getData(){const{comment:{text:t,color:e,date:n,opacity:i,deleted:s,richText:r},uid:a,pageIndex:o,creationDate:l,modificationDate:c}=this;return{id:a,pageIndex:o,rect:this.getPDFRect(),richText:r,contentsObj:{str:t},creationDate:l,modificationDate:n||c,popupRef:!s,color:e,opacity:i}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return!this.isInEditMode()&&(this.parent.setEditingState(!1),this.#He=!0,!0)}disableEditMode(){return!!this.isInEditMode()&&(this.parent.setEditingState(!0),this.#He=!1,!0)}isInEditMode(){return this.#He}shouldGetKeyboardEvents(){return this.#Ve}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:n,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:r}=window;return e<r&&i>0&&t<s&&n>0}#an(){if(this.#Be||!this.div)return;this.#Be=new AbortController;const t=this._uiManager.combinedSignal(this.#Be);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#an()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(t,e,n){const i=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n,annotationElementId:t.annotationElementId,creationDate:t.creationDate,modificationDate:t.modificationDate});i.rotation=t.rotation,i.#Te=t.accessibilityData,i._isCopy=t.isCopy||!1;const[s,r]=i.pageDimensions,[a,o,l,c]=i.getRectInCurrentCoords(t.rect,r);return i.x=a/s,i.y=o/r,i.width=l/s,i.height=c/r,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){if(this.#Be?.abort(),this.#Be=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#$e&&(clearTimeout(this.#$e),this.#$e=null),this.#Qe(),this.removeEditToolbar(),this.#qe){for(const t of this.#qe.values())clearTimeout(t);this.#qe=null}this.parent=null,this.#Xe?.destroy(),this.#Xe=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#en(),this.#Ie.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return"ltr"===this._uiManager.direction?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,e]}=this,[n,i,s,r]=this.getPDFRect();return[Fo._round(n+(s-n)*t),Fo._round(i+(r-i)*(1-e))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#l.commentPopupPositionInLayer}set commentPopupPosition(t){this.#l.commentPopupPositionInLayer=t}hasDefaultPopupPosition(){return this.#l.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#l.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(t){this.#l.setCommentButtonStates(t)}keydown(t){if(!this.isResizable||t.target!==this.div||"Enter"!==t.key)return;this._uiManager.setSelected(this),this.#Oe={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#Ie.children;if(!this.#Pe){this.#Pe=Array.from(e);const t=this.#hn.bind(this),n=this.#pn.bind(this),i=this._uiManager._signal;for(const e of this.#Pe){const s=e.getAttribute("data-resizer-name");e.setAttribute("role","spinbutton"),e.addEventListener("keydown",t,{signal:i}),e.addEventListener("blur",n,{signal:i}),e.addEventListener("focus",this.#fn.bind(this,s),{signal:i}),e.setAttribute("data-l10n-id",Fo._l10nResizer[s])}}const n=this.#Pe[0];let i=0;for(const r of e){if(r===n)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(this.#Pe.length/4);if(s!==i){if(s<i)for(let e=0;e<i-s;e++)this.#Ie.append(this.#Ie.firstChild);else if(s>i)for(let e=0;e<s-i;e++)this.#Ie.firstChild.before(this.#Ie.lastChild);let t=0;for(const n of e){const e=this.#Pe[t++].getAttribute("data-resizer-name");n.setAttribute("data-l10n-id",Fo._l10nResizer[e])}}this.#gn(0),this.#Ve=!0,this.#Ie.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#hn(t){Fo._resizerKeyboardManager.exec(this,t)}#pn(t){this.#Ve&&t.relatedTarget?.parentNode!==this.#Ie&&this.#Qe()}#fn(t){this.#Ne=this.#Ve?t:""}#gn(t){if(this.#Pe)for(const e of this.#Pe)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#Ve&&this.#in(this.#Ne,{deltaX:t,deltaY:e,fromKeyboard:!0})}#Qe(){this.#Ve=!1,this.#gn(-1),this.#sn()}_stopResizingWithKeyboard(){this.#Qe(),this.div.focus()}select(){this.isSelected&&this._editToolbar?this._editToolbar.show():(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),this._editToolbar?(this._editToolbar?.show(),this.#o?.toggleAltTextBadge(!1)):this.addEditToolbar().then((()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()})))}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout((()=>this.div?.focus({preventScroll:!0})),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#Ie?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#o?.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){"BUTTON"!==t.target.nodeName&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#je}set isEditing(t){this.#je=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){this.#qe||=new Map;const{action:e}=t;let n=this.#qe.get(e);return n&&clearTimeout(n),n=setTimeout((()=>{this._reportTelemetry(t),this.#qe.delete(e),0===this.#qe.size&&(this.#qe=null)}),Fo._telemetryTimeout),void this.#qe.set(e,n)}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#Me=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#Me=!0}updateFakeAnnotationElement(t){if(this.#Fe||this.deleted)return this.deleted?(this.#Fe.remove(),void(this.#Fe=null)):void((this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#Fe.updateEdited({rect:this.getPDFRect(),popup:this.comment}));this.#Fe=t.addFakeAnnotation(this)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(e){if("CANVAS"===e.nodeName){const t=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.before(e)}}else e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);return e}resetAnnotationElement(t){const{firstChild:e}=t.container;"DIV"===e?.nodeName&&e.classList.contains("annotationContent")&&e.remove()}}class Bo extends Fo{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const No=3285377520,zo=4294901760,Uo=65535;class jo{constructor(t){this.h1=t?4294967295&t:No,this.h2=t?4294967295&t:No}update(t){let e,n;if("string"===typeof t){e=new Uint8Array(2*t.length),n=0;for(let i=0,s=t.length;i<s;i++){const s=t.charCodeAt(i);s<=255?e[n++]=s:(e[n++]=s>>>8,e[n++]=255&s)}}else{if(!ArrayBuffer.isView(t))throw new Error("Invalid data format, must be a string or TypedArray.");e=t.slice(),n=e.byteLength}const i=n>>2,s=n-4*i,r=new Uint32Array(e.buffer,0,i);let a=0,o=0,l=this.h1,c=this.h2;const d=3432918353,u=461845907,h=11601,p=13715;for(let f=0;f<i;f++)1&f?(a=r[f],a=a*d&zo|a*h&Uo,a=a<<15|a>>>17,a=a*u&zo|a*p&Uo,l^=a,l=l<<13|l>>>19,l=5*l+3864292196):(o=r[f],o=o*d&zo|o*h&Uo,o=o<<15|o>>>17,o=o*u&zo|o*p&Uo,c^=o,c=c<<13|c>>>19,c=5*c+3864292196);switch(a=0,s){case 3:a^=e[4*i+2]<<16;case 2:a^=e[4*i+1]<<8;case 1:a^=e[4*i],a=a*d&zo|a*h&Uo,a=a<<15|a>>>17,a=a*u&zo|a*p&Uo,1&i?l^=a:c^=a}this.h1=l,this.h2=c}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=3981806797*t&zo|36045*t&Uo,e=4283543511*e&zo|(2950163797*(e<<16|t>>>16)&zo)>>>16,t^=e>>>1,t=444984403*t&zo|60499*t&Uo,e=3301882366*e&zo|(3120437893*(e<<16|t>>>16)&zo)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const Ho=Object.freeze({map:null,hash:"",transfer:void 0});class Vo{#mn=!1;#vn=null;#bn=null;#yn=(()=>new Map)();constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=this.#yn.get(t);return void 0===n?e:Object.assign(e,n)}getRawValue(t){return this.#yn.get(t)}remove(t){const e=this.#yn.get(t);if(void 0!==e&&(e instanceof Fo&&this.#bn.delete(e.annotationElementId),this.#yn.delete(t),0===this.#yn.size&&this.resetModified(),"function"===typeof this.onAnnotationEditor)){for(const t of this.#yn.values())if(t instanceof Fo)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=this.#yn.get(t);let i=!1;if(void 0!==n)for(const[s,r]of Object.entries(e))n[s]!==r&&(i=!0,n[s]=r);else i=!0,this.#yn.set(t,e);i&&this.#wn(),e instanceof Fo&&((this.#bn||=new Map).set(e.annotationElementId,e),"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(e.constructor._type))}has(t){return this.#yn.has(t)}get size(){return this.#yn.size}#wn(){this.#mn||(this.#mn=!0,"function"===typeof this.onSetModified&&this.onSetModified())}resetModified(){this.#mn&&(this.#mn=!1,"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new $o(this)}get serializable(){if(0===this.#yn.size)return Ho;const t=new Map,e=new jo,n=[],i=Object.create(null);let s=!1;for(const[r,a]of this.#yn){const n=a instanceof Fo?a.serialize(!1,i):a;n&&(t.set(r,n),e.update(`${r}:${JSON.stringify(n)}`),s||=!!n.bitmap)}if(s)for(const r of t.values())r.bitmap&&n.push(r.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:Ho}get editorStats(){let t=null;const e=new Map;let n=0,i=0;for(const s of this.#yn.values()){if(!(s instanceof Fo)){s.popup&&(s.popup.deleted?i+=1:n+=1);continue}s.isCommentDeleted?i+=1:s.hasEditedComment&&(n+=1);const r=s.telemetryFinalData;if(!r)continue;const{type:a}=r;e.has(a)||e.set(a,Object.getPrototypeOf(s).constructor),t||=Object.create(null);const o=t[a]||=new Map;for(const[t,e]of Object.entries(r)){if("type"===t)continue;let n=o.get(t);n||(n=new Map,o.set(t,n));const i=n.get(e)??0;n.set(e,i+1)}}if((i>0||n>0)&&(t||=Object.create(null),t.comments={deleted:i,edited:n}),!t)return null;for(const[s,r]of e)t[s]=r.computeTelemetryFinalData(t[s]);return t}resetModifiedIds(){this.#vn=null}updateEditor(t,e){const n=this.#bn?.get(t);return!!n&&(n.updateFromAnnotationLayer(e),!0)}getEditor(t){return this.#bn?.get(t)||null}get modifiedIds(){if(this.#vn)return this.#vn;const t=[];if(this.#bn)for(const e of this.#bn.values())e.serialize()&&t.push(e.annotationElementId);return this.#vn={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#yn.entries()}}class $o extends Vo{#xn;constructor(t){super();const{map:e,hash:n,transfer:i}=t.serializable,s=structuredClone(e,i?{transfer:i}:null);this.#xn={map:s,hash:n,transfer:i}}get print(){Ea("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#xn}get modifiedIds(){return Da(this,"modifiedIds",{ids:new Set,hash:""})}}class Wo{#_n=(()=>new Set)();constructor(t){let{ownerDocument:e=globalThis.document,styleElement:n=null}=t;this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#_n.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(t){let{systemFontInfo:e,disableFontFace:n,_inspectFont:i}=t;if(e&&!this.#_n.has(e.loadedName))if(Ta(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:t,src:n,style:s}=e,r=new FontFace(t,n,s);this.addNativeFontFace(r);try{await r.load(),this.#_n.add(t),i?.(e)}catch{Ca(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(r)}}else Ea("Not implemented: loadSystemFont without the Font Loading API.")}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo)return void await this.loadSystemFont(t);if(this.isFontLoadingAPISupported){const e=t.createNativeFontFace();if(e){this.addNativeFontFace(e);try{await e.loaded}catch(n){throw Ca(`Failed to load font '${e.family}': '${n}'.`),t.disableFontFace=!0,n}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise((e=>{const n=this._queueLoadingCallback(e);this._prepareFontLoadEvent(t,n)}))}}get isFontLoadingAPISupported(){return Da(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){return Da(this,"isSyncFontLoadingSupported",Hr||ja.platform.isFirefox)}_queueLoadingCallback(t){const{loadingRequests:e}=this,n={done:!1,complete:function(){for(Ta(!n.done,"completeRequest() cannot be called twice."),n.done=!0;e.length>0&&e[0].done;){const t=e.shift();setTimeout(t.callback,0)}},callback:t};return e.push(n),n}get _loadTestFont(){return Da(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(t,e){function n(t,e){return t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|255&t.charCodeAt(e+3)}function i(t,e,n,i){return t.substring(0,e)+i+t.substring(e+n)}let s,r;const a=this._document.createElement("canvas");a.width=1,a.height=1;const o=a.getContext("2d");let l=0;const c=`lt${Date.now()}${this.loadTestFontId++}`;let d=this._loadTestFont;d=i(d,976,c.length,c);const u=1482184792;let h=n(d,16);for(s=0,r=c.length-3;s<r;s+=4)h=h-u+n(c,s)|0;var p;s<c.length&&(h=h-u+n(c+"XXX",s)|0),d=i(d,16,4,(p=h,String.fromCharCode(p>>24&255,p>>16&255,p>>8&255,255&p)));const f=`@font-face {font-family:"${c}";src:${`url(data:font/opentype;base64,${btoa(d)});`}}`;this.insertRule(f);const g=this._document.createElement("div");g.style.visibility="hidden",g.style.width=g.style.height="10px",g.style.position="absolute",g.style.top=g.style.left="0px";for(const m of[t.loadedName,c]){const t=this._document.createElement("span");t.textContent="Hi",t.style.fontFamily=m,g.append(t)}this._document.body.append(g),function t(e,n){if(++l>30)return Ca("Load test font never loaded."),void n();o.font="30px "+e,o.fillText(".",0,20),o.getImageData(0,0,1,1).data[3]>0?n():setTimeout(t.bind(null,e,n))}(c,(()=>{g.remove(),e.complete()}))}}class Go{#Sn;constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;this.compiledGlyphs=Object.create(null),this.#Sn=t,this._inspectFont=e,n&&Object.assign(this,n),i&&(this.charProcOperatorList=i)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(this.cssFontInfo){const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}else t=new FontFace(this.loadedName,this.data,{});return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${Ka(this.data)});`;let e;if(this.cssFontInfo){let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${t}}`}else e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(void 0!==this.compiledGlyphs[e])return this.compiledGlyphs[e];const n=this.loadedName+"_path_"+e;let i;try{i=t.get(n)}catch(r){Ca(`getPathGenerator - ignoring character: "${r}".`)}const s=new Path2D(i||"");return this.fontExtraProperties||t.delete(n),this.compiledGlyphs[e]=s}get black(){return this.#Sn.black}get bold(){return this.#Sn.bold}get disableFontFace(){return this.#Sn.disableFontFace??!1}get fontExtraProperties(){return this.#Sn.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#Sn.isInvalidPDFjsFont}get isType3Font(){return this.#Sn.isType3Font}get italic(){return this.#Sn.italic}get missingFile(){return this.#Sn.missingFile}get remeasure(){return this.#Sn.remeasure}get vertical(){return this.#Sn.vertical}get ascent(){return this.#Sn.ascent}get defaultWidth(){return this.#Sn.defaultWidth}get descent(){return this.#Sn.descent}get bbox(){return this.#Sn.bbox}get fontMatrix(){return this.#Sn.fontMatrix}get fallbackName(){return this.#Sn.fallbackName}get loadedName(){return this.#Sn.loadedName}get mimetype(){return this.#Sn.mimetype}get name(){return this.#Sn.name}get data(){return this.#Sn.data}clearData(){this.#Sn.clearData()}get cssFontInfo(){return this.#Sn.cssFontInfo}get systemFontInfo(){return this.#Sn.systemFontInfo}get defaultVMetrics(){return this.#Sn.defaultVMetrics}}function qo(t){if("string"!==typeof t)return null;if(t.endsWith("/"))return t;throw new Error(`Invalid factory url: "${t}" must include trailing slash.`)}const Xo=t=>"object"===typeof t&&Number.isInteger(t?.num)&&t.num>=0&&Number.isInteger(t?.gen)&&t.gen>=0,Ko=function(t,e,n){if(!Array.isArray(n)||n.length<2)return!1;const[i,s,...r]=n;if(!t(i)&&!Number.isInteger(i))return!1;if(!e(s))return!1;const a=r.length;let o=!0;switch(s.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return 0===a;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(4!==a)return!1;o=!1;break;default:return!1}for(const l of r)if(!("number"===typeof l||o&&null===l))return!1;return!0}.bind(null,Xo,(t=>"object"===typeof t&&"string"===typeof t?.name));class Yo{#kn=(()=>new Map)();#An=(()=>Promise.resolve())();postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};this.#An.then((()=>{for(const[t]of this.#kn)t.call(this,n)}))}addEventListener(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=null;if(n?.signal instanceof AbortSignal){const{signal:s}=n;if(s.aborted)return void Ca("LoopbackPort - cannot use an `aborted` signal.");const r=()=>this.removeEventListener(t,e);i=()=>s.removeEventListener("abort",r),s.addEventListener("abort",r)}this.#kn.set(e,i)}removeEventListener(t,e){const n=this.#kn.get(e);n?.(),this.#kn.delete(e)}terminate(){for(const[,t]of this.#kn)t?.();this.#kn.clear()}}const Qo=1,Jo=2,Zo=1,tl=2,el=3,nl=4,il=5,sl=6,rl=7,al=8;function ol(){}function ll(t){if(t instanceof Na||t instanceof Oa||t instanceof Ia||t instanceof Fa||t instanceof La)return t;switch(t instanceof Error||"object"===typeof t&&null!==t||Ea('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new Na(t.message);case"InvalidPDFException":return new Oa(t.message);case"PasswordException":return new Ia(t.message,t.code);case"ResponseException":return new Fa(t.message,t.status,t.missing);case"UnknownErrorException":return new La(t.message,t.details)}return new La(t.message,t.toString())}class cl{#Cn=(()=>new AbortController)();constructor(t,e,n){this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#En.bind(this),{signal:this.#Cn.signal})}#En(t){let{data:e}=t;if(e.targetName!==this.sourceName)return;if(e.stream)return void this.#Tn(e);if(e.callback){const t=e.callbackId,n=this.callbackCapabilities[t];if(!n)throw new Error(`Cannot resolve callback ${t}`);if(delete this.callbackCapabilities[t],e.callback===Qo)n.resolve(e.data);else{if(e.callback!==Jo)throw new Error("Unexpected callback case");n.reject(ll(e.reason))}return}const n=this.actionHandler[e.action];if(!n)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const t=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(n,e.data).then((function(n){s.postMessage({sourceName:t,targetName:i,callback:Qo,callbackId:e.callbackId,data:n})}),(function(n){s.postMessage({sourceName:t,targetName:i,callback:Jo,callbackId:e.callbackId,reason:ll(n)})}))}else e.streamId?this.#Pn(e):n(e.data)}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:i,data:e},n)}catch(r){s.reject(r)}return s.promise}sendWithStream(t,e,n,i){const s=this.streamId++,r=this.sourceName,a=this.targetName,o=this.comObj;return new ReadableStream({start:n=>{const l=Promise.withResolvers();return this.streamControllers[s]={controller:n,startCall:l,pullCall:null,cancelCall:null,isClosed:!1},o.postMessage({sourceName:r,targetName:a,action:t,streamId:s,data:e,desiredSize:n.desiredSize},i),l.promise},pull:t=>{const e=Promise.withResolvers();return this.streamControllers[s].pullCall=e,o.postMessage({sourceName:r,targetName:a,stream:sl,streamId:s,desiredSize:t.desiredSize}),e.promise},cancel:t=>{Ta(t instanceof Error,"cancel must have a valid reason");const e=Promise.withResolvers();return this.streamControllers[s].cancelCall=e,this.streamControllers[s].isClosed=!0,o.postMessage({sourceName:r,targetName:a,stream:Zo,streamId:s,reason:ll(t)}),e.promise}},n)}#Pn(t){const e=t.streamId,n=this.sourceName,i=t.sourceName,s=this.comObj,r=this,a=this.actionHandler[t.action],o={enqueue(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const o=this.desiredSize;this.desiredSize-=r,o>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:i,stream:nl,streamId:e,chunk:t},a)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:el,streamId:e}),delete r.streamSinks[e])},error(t){Ta(t instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:il,streamId:e,reason:ll(t)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};o.sinkCapability.resolve(),o.ready=o.sinkCapability.promise,this.streamSinks[e]=o,Promise.try(a,t.data,o).then((function(){s.postMessage({sourceName:n,targetName:i,stream:al,streamId:e,success:!0})}),(function(t){s.postMessage({sourceName:n,targetName:i,stream:al,streamId:e,reason:ll(t)})}))}#Tn(t){const e=t.streamId,n=this.sourceName,i=t.sourceName,s=this.comObj,r=this.streamControllers[e],a=this.streamSinks[e];switch(t.stream){case al:t.success?r.startCall.resolve():r.startCall.reject(ll(t.reason));break;case rl:t.success?r.pullCall.resolve():r.pullCall.reject(ll(t.reason));break;case sl:if(!a){s.postMessage({sourceName:n,targetName:i,stream:rl,streamId:e,success:!0});break}a.desiredSize<=0&&t.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=t.desiredSize,Promise.try(a.onPull||ol).then((function(){s.postMessage({sourceName:n,targetName:i,stream:rl,streamId:e,success:!0})}),(function(t){s.postMessage({sourceName:n,targetName:i,stream:rl,streamId:e,reason:ll(t)})}));break;case nl:if(Ta(r,"enqueue should have stream controller"),r.isClosed)break;r.controller.enqueue(t.chunk);break;case el:if(Ta(r,"close should have stream controller"),r.isClosed)break;r.isClosed=!0,r.controller.close(),this.#Mn(r,e);break;case il:Ta(r,"error should have stream controller"),r.controller.error(ll(t.reason)),this.#Mn(r,e);break;case tl:t.success?r.cancelCall.resolve():r.cancelCall.reject(ll(t.reason)),this.#Mn(r,e);break;case Zo:if(!a)break;const o=ll(t.reason);Promise.try(a.onCancel||ol,o).then((function(){s.postMessage({sourceName:n,targetName:i,stream:tl,streamId:e,success:!0})}),(function(t){s.postMessage({sourceName:n,targetName:i,stream:tl,streamId:e,reason:ll(t)})})),a.sinkCapability.reject(o),a.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#Mn(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#Cn?.abort(),this.#Cn=null}}class dl{#Dn=!1;constructor(t){let{enableHWA:e=!1}=t;this.#Dn=e}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#Dn})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Ea("Abstract method `_createCanvas` called.")}}class ul extends dl{constructor(t){let{ownerDocument:e=globalThis.document,enableHWA:n=!1}=t;super({enableHWA:n}),this._document=e}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class hl{constructor(t){let{baseUrl:e=null,isCompressed:n=!0}=t;this.baseUrl=e,this.isCompressed=n}async fetch(t){let{name:e}=t;if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then((t=>({cMapData:t,isCompressed:this.isCompressed}))).catch((t=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)}))}async _fetch(t){Ea("Abstract method `_fetch` called.")}}class pl extends hl{async _fetch(t){const e=await to(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):Ua(e)}}class fl{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,i,s){return"none"}destroy(){}}class gl extends fl{#Rn;#In;#Ln;#On;#Fn;#Bn;#x=0;constructor(t){let{docId:e,ownerDocument:n=globalThis.document}=t;super(),this.#On=e,this.#Fn=n}get#S(){return this.#In||=new Map}get#Nn(){return this.#Bn||=new Map}get#zn(){if(!this.#Ln){const t=this.#Fn.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const n=this.#Fn.createElementNS(Ja,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#Ln=this.#Fn.createElementNS(Ja,"defs"),t.append(n),n.append(this.#Ln),this.#Fn.body.append(t)}return this.#Ln}#Un(t){if(1===t.length){const e=t[0],n=new Array(256);for(let t=0;t<256;t++)n[t]=e[t]/255;const i=n.join(",");return[i,i,i]}const[e,n,i]=t,s=new Array(256),r=new Array(256),a=new Array(256);for(let o=0;o<256;o++)s[o]=e[o]/255,r[o]=n[o]/255,a[o]=i[o]/255;return[s.join(","),r.join(","),a.join(",")]}#jn(t){if(void 0===this.#Rn){this.#Rn="";const t=this.#Fn.URL;t!==this.#Fn.baseURI&&(io(t)?Ca('#createUrl: ignore "data:"-URL for performance reasons.'):this.#Rn=Ma(t,""))}return`url(${this.#Rn}#${t})`}addFilter(t){if(!t)return"none";let e=this.#S.get(t);if(e)return e;const[n,i,s]=this.#Un(t),r=1===t.length?n:`${n}${i}${s}`;if(e=this.#S.get(r),e)return this.#S.set(t,e),e;const a=`g_${this.#On}_transfer_map_${this.#x++}`,o=this.#jn(a);this.#S.set(t,o),this.#S.set(r,o);const l=this.#Hn(a);return this.#Vn(n,i,s,l),o}addHCMFilter(t,e){const n=`${t}-${e}`,i="base";let s=this.#Nn.get(i);if(s?.key===n)return s.url;if(s?(s.filter?.remove(),s.key=n,s.url="none",s.filter=null):(s={key:n,url:"none",filter:null},this.#Nn.set(i,s)),!t||!e)return s.url;const r=this.#$n(t);t=Va.makeHexColor(...r);const a=this.#$n(e);if(e=Va.makeHexColor(...a),this.#zn.style.color="","#000000"===t&&"#ffffff"===e||t===e)return s.url;const o=new Array(256);for(let h=0;h<=255;h++){const t=h/255;o[h]=t<=.03928?t/12.92:((t+.055)/1.055)**2.4}const l=o.join(","),c=`g_${this.#On}_hcm_filter`,d=s.filter=this.#Hn(c);this.#Vn(l,l,l,d),this.#Wn(d);const u=(t,e)=>{const n=r[t]/255,i=a[t]/255,s=new Array(e+1);for(let r=0;r<=e;r++)s[r]=n+r/e*(i-n);return s.join(",")};return this.#Vn(u(0,5),u(1,5),u(2,5),d),s.url=this.#jn(c),s.url}addAlphaFilter(t){let e=this.#S.get(t);if(e)return e;const[n]=this.#Un([t]),i=`alpha_${n}`;if(e=this.#S.get(i),e)return this.#S.set(t,e),e;const s=`g_${this.#On}_alpha_map_${this.#x++}`,r=this.#jn(s);this.#S.set(t,r),this.#S.set(i,r);const a=this.#Hn(s);return this.#Gn(n,a),r}addLuminosityFilter(t){let e,n,i=this.#S.get(t||"luminosity");if(i)return i;if(t?([e]=this.#Un([t]),n=`luminosity_${e}`):n="luminosity",i=this.#S.get(n),i)return this.#S.set(t,i),i;const s=`g_${this.#On}_luminosity_map_${this.#x++}`,r=this.#jn(s);this.#S.set(t,r),this.#S.set(n,r);const a=this.#Hn(s);return this.#qn(a),t&&this.#Gn(e,a),r}addHighlightHCMFilter(t,e,n,i,s){const r=`${e}-${n}-${i}-${s}`;let a=this.#Nn.get(t);if(a?.key===r)return a.url;if(a?(a.filter?.remove(),a.key=r,a.url="none",a.filter=null):(a={key:r,url:"none",filter:null},this.#Nn.set(t,a)),!e||!n)return a.url;const[o,l]=[e,n].map(this.#$n.bind(this));let c=Math.round(.2126*o[0]+.7152*o[1]+.0722*o[2]),d=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),[u,h]=[i,s].map(this.#$n.bind(this));d<c&&([c,d,u,h]=[d,c,h,u]),this.#zn.style.color="";const p=(t,e,n)=>{const i=new Array(256),s=(d-c)/n,r=t/255,a=(e-t)/(255*n);let o=0;for(let l=0;l<=n;l++){const t=Math.round(c+l*s),e=r+l*a;for(let n=o;n<=t;n++)i[n]=e;o=t+1}for(let l=o;l<256;l++)i[l]=i[o-1];return i.join(",")},f=`g_${this.#On}_hcm_${t}_filter`,g=a.filter=this.#Hn(f);return this.#Wn(g),this.#Vn(p(u[0],h[0],5),p(u[1],h[1],5),p(u[2],h[2],5),g),a.url=this.#jn(f),a.url}destroy(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.#Bn?.size||(this.#Ln?.parentNode.parentNode.remove(),this.#Ln=null,this.#In?.clear(),this.#In=null,this.#Bn?.clear(),this.#Bn=null,this.#x=0)}#qn(t){const e=this.#Fn.createElementNS(Ja,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#Wn(t){const e=this.#Fn.createElementNS(Ja,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#Hn(t){const e=this.#Fn.createElementNS(Ja,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#zn.append(e),e}#Xn(t,e,n){const i=this.#Fn.createElementNS(Ja,e);i.setAttribute("type","discrete"),i.setAttribute("tableValues",n),t.append(i)}#Vn(t,e,n,i){const s=this.#Fn.createElementNS(Ja,"feComponentTransfer");i.append(s),this.#Xn(s,"feFuncR",t),this.#Xn(s,"feFuncG",e),this.#Xn(s,"feFuncB",n)}#Gn(t,e){const n=this.#Fn.createElementNS(Ja,"feComponentTransfer");e.append(n),this.#Xn(n,"feFuncA",t)}#$n(t){return this.#zn.style.color=t,uo(getComputedStyle(this.#zn).getPropertyValue("color"))}}class ml{constructor(t){let{baseUrl:e=null}=t;this.baseUrl=e}async fetch(t){let{filename:e}=t;if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch((t=>{throw new Error(`Unable to load font data at: ${n}`)}))}async _fetch(t){Ea("Abstract method `_fetch` called.")}}class vl extends ml{async _fetch(t){const e=await to(t,"arraybuffer");return new Uint8Array(e)}}class bl{constructor(t){let{baseUrl:e=null}=t;this.baseUrl=e}async fetch(t){let{filename:e}=t;if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch((t=>{throw new Error(`Unable to load wasm data at: ${n}`)}))}async _fetch(t){Ea("Abstract method `_fetch` called.")}}class yl extends bl{async _fetch(t){const e=await to(t,"arraybuffer");return new Uint8Array(e)}}async function wl(t){const e=process.getBuiltinModule("fs"),n=await e.promises.readFile(t);return new Uint8Array(n)}Hr&&Ca("Please use the `legacy` build in Node.js environments.");class xl extends fl{}class _l extends dl{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire("file:///home/runner/work/portfolio/portfolio/node_modules/pdfjs-dist/build/pdf.mjs")("@napi-rs/canvas").createCanvas(t,e)}}class Sl extends hl{async _fetch(t){return wl(t)}}class kl extends ml{async _fetch(t){return wl(t)}}class Al extends bl{async _fetch(t){return wl(t)}}const Cl="__forcedDependency",{floor:El,ceil:Tl}=Math;function Pl(t,e,n,i,s,r){t[4*e+0]=Math.min(t[4*e+0],n),t[4*e+1]=Math.min(t[4*e+1],i),t[4*e+2]=Math.max(t[4*e+2],s),t[4*e+3]=Math.max(t[4*e+3],r)}const Ml=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class Dl{#Kn;#Yn;constructor(t,e){this.#Kn=t,this.#Yn=e}get length(){return this.#Kn.length}isEmpty(t){return this.#Kn[t]===Ml}minX(t){return this.#Yn[4*t+0]/256}minY(t){return this.#Yn[4*t+1]/256}maxX(t){return(this.#Yn[4*t+2]+1)/256}maxY(t){return(this.#Yn[4*t+3]+1)/256}}const Rl=(t,e)=>{if(!t)return;let n=t.get(e);return n||(n={dependencies:new Set,isRenderingOperation:!1},t.set(e,n)),n};class Il{#Qn={__proto__:null};#Jn=(()=>({__proto__:null,transform:[],moveText:[],sameLineText:[],[Cl]:[]}))();#Zn=(()=>new Map)();#ti=[];#ei=[];#ni=[[1,0,0,1,0,0]];#ii=[-1/0,-1/0,1/0,1/0];#si=(()=>new Float64Array([1/0,1/0,-1/0,-1/0]))();#ri=-1;#ai=(()=>new Set)();#oi=(()=>new Map)();#li=(()=>new Map)();#ci;#di;#ui;#Kn;#hi;constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.#ci=t.width,this.#di=t.height,this.#pi(e),n&&(this.#hi=new Map)}growOperationsCount(t){t>=this.#Kn.length&&this.#pi(t,this.#Kn)}#pi(t,e){const n=new ArrayBuffer(4*t);this.#ui=new Uint8ClampedArray(n),this.#Kn=new Uint32Array(n),e&&e.length>0?(this.#Kn.set(e),this.#Kn.fill(Ml,e.length)):this.#Kn.fill(Ml)}save(t){return this.#Qn={__proto__:this.#Qn},this.#Jn={__proto__:this.#Jn,transform:{__proto__:this.#Jn.transform},moveText:{__proto__:this.#Jn.moveText},sameLineText:{__proto__:this.#Jn.sameLineText},[Cl]:{__proto__:this.#Jn[Cl]}},this.#ii={__proto__:this.#ii},this.#ti.push(t),this}restore(t){const e=Object.getPrototypeOf(this.#Qn);if(null===e)return this;this.#Qn=e,this.#Jn=Object.getPrototypeOf(this.#Jn),this.#ii=Object.getPrototypeOf(this.#ii);const n=this.#ti.pop();return void 0!==n&&(Rl(this.#hi,t)?.dependencies.add(n),this.#Kn[t]=this.#Kn[n]),this}recordOpenMarker(t){return this.#ti.push(t),this}getOpenMarker(){return 0===this.#ti.length?null:this.#ti.at(-1)}recordCloseMarker(t){const e=this.#ti.pop();return void 0!==e&&(Rl(this.#hi,t)?.dependencies.add(e),this.#Kn[t]=this.#Kn[e]),this}beginMarkedContent(t){return this.#ei.push(t),this}endMarkedContent(t){const e=this.#ei.pop();return void 0!==e&&(Rl(this.#hi,t)?.dependencies.add(e),this.#Kn[t]=this.#Kn[e]),this}pushBaseTransform(t){return this.#ni.push(Va.multiplyByDOMMatrix(this.#ni.at(-1),t.getTransform())),this}popBaseTransform(){return this.#ni.length>1&&this.#ni.pop(),this}recordSimpleData(t,e){return this.#Qn[t]=e,this}recordIncrementalData(t,e){return this.#Jn[t].push(e),this}resetIncrementalData(t,e){return this.#Jn[t].length=0,this}recordNamedData(t,e){return this.#Zn.set(t,e),this}recordSimpleDataFromNamed(t,e,n){this.#Qn[t]=this.#Zn.get(e)??n}recordFutureForcedDependency(t,e){return this.recordIncrementalData(Cl,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in this.#Qn&&this.recordFutureForcedDependency(e,this.#Qn[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of this.#ai)this.recordFutureForcedDependency(Cl,t);return this}resetBBox(t){return this.#ri!==t&&(this.#ri=t,this.#si[0]=1/0,this.#si[1]=1/0,this.#si[2]=-1/0,this.#si[3]=-1/0),this}recordClipBox(t,e,n,i,s,r){const a=Va.multiplyByDOMMatrix(this.#ni.at(-1),e.getTransform()),o=[1/0,1/0,-1/0,-1/0];Va.axialAlignedBoundingBox([n,s,i,r],a,o);const l=Va.intersect(this.#ii,o);return l?(this.#ii[0]=l[0],this.#ii[1]=l[1],this.#ii[2]=l[2],this.#ii[3]=l[3]):(this.#ii[0]=this.#ii[1]=1/0,this.#ii[2]=this.#ii[3]=-1/0),this}recordBBox(t,e,n,i,s,r){const a=this.#ii;if(a[0]===1/0)return this;const o=Va.multiplyByDOMMatrix(this.#ni.at(-1),e.getTransform());if(a[0]===-1/0)return Va.axialAlignedBoundingBox([n,s,i,r],o,this.#si),this;const l=[1/0,1/0,-1/0,-1/0];return Va.axialAlignedBoundingBox([n,s,i,r],o,l),this.#si[0]=Math.min(this.#si[0],Math.max(l[0],a[0])),this.#si[1]=Math.min(this.#si[1],Math.max(l[1],a[1])),this.#si[2]=Math.max(this.#si[2],Math.min(l[2],a[2])),this.#si[3]=Math.max(this.#si[3],Math.min(l[3],a[3])),this}recordCharacterBBox(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;const o=n.bbox;let l,c;if(o&&(l=o[2]!==o[0]&&o[3]!==o[1]&&this.#li.get(n),!1!==l&&(c=[0,0,0,0],Va.axialAlignedBoundingBox(o,n.fontMatrix,c),1===i&&0===s&&0===r||Va.scaleMinMax([i,0,0,-i,s,r],c),l)))return this.recordBBox(t,e,c[0],c[2],c[1],c[3]);if(!a)return this.recordFullPageBBox(t);const d=a();return o&&c&&void 0===l&&(l=c[0]<=s-d.actualBoundingBoxLeft&&c[2]>=s+d.actualBoundingBoxRight&&c[1]<=r-d.actualBoundingBoxAscent&&c[3]>=r+d.actualBoundingBoxDescent,this.#li.set(n,l),l)?this.recordBBox(t,e,c[0],c[2],c[1],c[3]):this.recordBBox(t,e,s-d.actualBoundingBoxLeft,s+d.actualBoundingBoxRight,r-d.actualBoundingBoxAscent,r+d.actualBoundingBoxDescent)}recordFullPageBBox(t){return this.#si[0]=Math.max(0,this.#ii[0]),this.#si[1]=Math.max(0,this.#ii[1]),this.#si[2]=Math.min(this.#ci,this.#ii[2]),this.#si[3]=Math.min(this.#di,this.#ii[3]),this}getSimpleIndex(t){return this.#Qn[t]}recordDependencies(t,e){const n=this.#ai,i=this.#Qn,s=this.#Jn;for(const r of e)r in this.#Qn?n.add(i[r]):r in s&&s[r].forEach(n.add,n);return this}recordNamedDependency(t,e){return this.#Zn.has(e)&&this.#ai.add(this.#Zn.get(e)),this}recordOperation(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.recordDependencies(t,[Cl]),this.#hi){const e=Rl(this.#hi,t),{dependencies:n}=e;this.#ai.forEach(n.add,n),this.#ti.forEach(n.add,n),this.#ei.forEach(n.add,n),n.delete(t),e.isRenderingOperation=!0}if(this.#ri===t){const n=El(256*this.#si[0]/this.#ci),i=El(256*this.#si[1]/this.#di),s=Tl(256*this.#si[2]/this.#ci),r=Tl(256*this.#si[3]/this.#di);Pl(this.#ui,t,n,i,s,r);for(const e of this.#ai)e!==t&&Pl(this.#ui,e,n,i,s,r);for(const e of this.#ti)e!==t&&Pl(this.#ui,e,n,i,s,r);for(const e of this.#ei)e!==t&&Pl(this.#ui,e,n,i,s,r);e||(this.#ai.clear(),this.#ri=-1)}return this}recordShowTextOperation(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Array.from(this.#ai);this.recordOperation(t,e),this.recordIncrementalData("sameLineText",t);for(const i of n)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.#ri===t&&(this.#ri=-1,this.#ii[0]=Math.max(this.#ii[0],this.#si[0]),this.#ii[1]=Math.max(this.#ii[1],this.#si[1]),this.#ii[2]=Math.min(this.#ii[2],this.#si[2]),this.#ii[3]=Math.min(this.#ii[3],this.#si[3]),e||this.#ai.clear()),this}_takePendingDependencies(){const t=this.#ai;return this.#ai=new Set,t}_extractOperation(t){const e=this.#oi.get(t);return this.#oi.delete(t),e}_pushPendingDependencies(t){for(const e of t)this.#ai.add(e)}take(){return this.#li.clear(),new Dl(this.#Kn,this.#ui)}takeDebugMetadata(){return this.#hi}}class Ll{#fi;#gi;#mi;#vi=0;#bi=0;constructor(t,e,n){if(t instanceof Ll&&t.#mi===!!n)return t;this.#fi=t,this.#gi=e,this.#mi=!!n}growOperationsCount(){throw new Error("Unreachable")}save(t){return this.#bi++,this.#fi.save(this.#gi),this}restore(t){return this.#bi>0&&(this.#fi.restore(this.#gi),this.#bi--),this}recordOpenMarker(t){return this.#vi++,this}getOpenMarker(){return this.#vi>0?this.#gi:this.#fi.getOpenMarker()}recordCloseMarker(t){return this.#vi--,this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return this.#fi.pushBaseTransform(t),this}popBaseTransform(){return this.#fi.popBaseTransform(),this}recordSimpleData(t,e){return this.#fi.recordSimpleData(t,this.#gi),this}recordIncrementalData(t,e){return this.#fi.recordIncrementalData(t,this.#gi),this}resetIncrementalData(t,e){return this.#fi.resetIncrementalData(t,this.#gi),this}recordNamedData(t,e){return this}recordSimpleDataFromNamed(t,e,n){return this.#fi.recordSimpleDataFromNamed(t,e,this.#gi),this}recordFutureForcedDependency(t,e){return this.#fi.recordFutureForcedDependency(t,this.#gi),this}inheritSimpleDataAsFutureForcedDependencies(t){return this.#fi.inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#fi.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return this.#mi||this.#fi.resetBBox(this.#gi),this}recordClipBox(t,e,n,i,s,r){return this.#mi||this.#fi.recordClipBox(this.#gi,e,n,i,s,r),this}recordBBox(t,e,n,i,s,r){return this.#mi||this.#fi.recordBBox(this.#gi,e,n,i,s,r),this}recordCharacterBBox(t,e,n,i,s,r,a){return this.#mi||this.#fi.recordCharacterBBox(this.#gi,e,n,i,s,r,a),this}recordFullPageBBox(t){return this.#mi||this.#fi.recordFullPageBBox(this.#gi),this}getSimpleIndex(t){return this.#fi.getSimpleIndex(t)}recordDependencies(t,e){return this.#fi.recordDependencies(this.#gi,e),this}recordNamedDependency(t,e){return this.#fi.recordNamedDependency(this.#gi,e),this}recordOperation(t){return this.#fi.recordOperation(this.#gi,!0),this}recordShowTextOperation(t){return this.#fi.recordShowTextOperation(this.#gi,!0),this}bboxToClipBoxDropOperation(t){return this.#mi||this.#fi.bboxToClipBoxDropOperation(this.#gi,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const Ol=["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],Fl=["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],Bl=["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],Nl=["filter","fillColor","fillAlpha"],zl=["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],Ul=["transform"],jl=["transform","fillColor"],Hl="Fill",Vl="Stroke",$l="Shading";function Wl(t,e){if(!e)return;const n=e[2]-e[0],i=e[3]-e[1],s=new Path2D;s.rect(e[0],e[1],n,i),t.clip(s)}class Gl{isModifyingCurrentTransform(){return!1}getPattern(){Ea("Abstract method `getPattern` called.")}}class ql extends Gl{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;"axial"===this._type?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,i){let s;if(i===Vl||i===Hl){const r=e.current.getClippedPathBoundingBox(i,ho(t))||[0,0,0,0],a=Math.ceil(r[2]-r[0])||1,o=Math.ceil(r[3]-r[1])||1,l=e.cachedCanvases.getCanvas("pattern",a,o),c=l.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-r[0],-r[1]),n=Va.transform(n,[1,0,0,1,r[0],r[1]]),c.transform(...e.baseTransform),this.matrix&&c.transform(...this.matrix),Wl(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),s=t.createPattern(l.canvas,"no-repeat");const d=new DOMMatrix(n);s.setTransform(d)}else Wl(t,this._bbox),s=this._createGradient(t);return s}}function Xl(t,e,n,i,s,r,a,o){const l=e.coords,c=e.colors,d=t.data,u=4*t.width;let h;l[n+1]>l[i+1]&&(h=n,n=i,i=h,h=r,r=a,a=h),l[i+1]>l[s+1]&&(h=i,i=s,s=h,h=a,a=o,o=h),l[n+1]>l[i+1]&&(h=n,n=i,i=h,h=r,r=a,a=h);const p=(l[n]+e.offsetX)*e.scaleX,f=(l[n+1]+e.offsetY)*e.scaleY,g=(l[i]+e.offsetX)*e.scaleX,m=(l[i+1]+e.offsetY)*e.scaleY,v=(l[s]+e.offsetX)*e.scaleX,b=(l[s+1]+e.offsetY)*e.scaleY;if(f>=b)return;const y=c[r],w=c[r+1],x=c[r+2],_=c[a],S=c[a+1],k=c[a+2],A=c[o],C=c[o+1],E=c[o+2],T=Math.round(f),P=Math.round(b);let M,D,R,I,L,O,F,B;for(let N=T;N<=P;N++){if(N<m){const t=N<f?0:(f-N)/(f-m);M=p-(p-g)*t,D=y-(y-_)*t,R=w-(w-S)*t,I=x-(x-k)*t}else{let t;t=N>b?1:m===b?0:(m-N)/(m-b),M=g-(g-v)*t,D=_-(_-A)*t,R=S-(S-C)*t,I=k-(k-E)*t}let t;t=N<f?0:N>b?1:(f-N)/(f-b),L=p-(p-v)*t,O=y-(y-A)*t,F=w-(w-C)*t,B=x-(x-E)*t;const e=Math.round(Math.min(M,L)),n=Math.round(Math.max(M,L));let i=u*N+4*e;for(let s=e;s<=n;s++)t=(M-s)/(M-L),t<0?t=0:t>1&&(t=1),d[i++]=D-(D-O)*t|0,d[i++]=R-(R-F)*t|0,d[i++]=I-(I-B)*t|0,d[i++]=255}}function Kl(t,e,n){const i=e.coords,s=e.colors;let r,a;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(i.length/o)-1,c=o-1;for(r=0;r<l;r++){let e=r*o;for(let r=0;r<c;r++,e++)Xl(t,n,i[e],i[e+1],i[e+o],s[e],s[e+1],s[e+o]),Xl(t,n,i[e+o+1],i[e+1],i[e+o],s[e+o+1],s[e+1],s[e+o])}break;case"triangles":for(r=0,a=i.length;r<a;r+=3)Xl(t,n,i[r],i[r+1],i[r+2],s[r],s[r+1],s[r+2]);break;default:throw new Error("illegal figure")}}class Yl extends Gl{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,n){const i=Math.floor(this._bounds[0]),s=Math.floor(this._bounds[1]),r=Math.ceil(this._bounds[2])-i,a=Math.ceil(this._bounds[3])-s,o=Math.min(Math.ceil(Math.abs(r*t[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(a*t[1]*1.1)),3e3),c=r/o,d=a/l,u={coords:this._coords,colors:this._colors,offsetX:-i,offsetY:-s,scaleX:1/c,scaleY:1/d},h=o+4,p=l+4,f=n.getCanvas("mesh",h,p),g=f.context,m=g.createImageData(o,l);if(e){const t=m.data;for(let n=0,i=t.length;n<i;n+=4)t[n]=e[0],t[n+1]=e[1],t[n+2]=e[2],t[n+3]=255}for(const v of this._figures)Kl(m,v,u);g.putImageData(m,2,2);return{canvas:f.canvas,offsetX:i-2*c,offsetY:s-2*d,scaleX:c,scaleY:d}}isModifyingCurrentTransform(){return!0}getPattern(t,e,n,i){Wl(t,this._bbox);const s=new Float32Array(2);if(i===$l)Va.singularValueDecompose2dScale(ho(t),s);else if(this.matrix){Va.singularValueDecompose2dScale(this.matrix,s);const[t,n]=s;Va.singularValueDecompose2dScale(e.baseTransform,s),s[0]*=t,s[1]*=n}else Va.singularValueDecompose2dScale(e.baseTransform,s);const r=this._createMeshCanvas(s,i===$l?null:this._background,e.cachedCanvases);return i!==$l&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(r.offsetX,r.offsetY),t.scale(r.scaleX,r.scaleY),t.createPattern(r.canvas,"no-repeat")}}class Ql extends Gl{getPattern(){return"hotpink"}}const Jl=1,Zl=2;class tc{static MAX_PATTERN_SIZE=3e3;constructor(t,e,n,i){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=n,this.baseTransform=i}createPatternCanvas(t,e){const{bbox:n,operatorList:i,paintType:s,tilingType:r,color:a,canvasGraphicsFactory:o}=this;let{xstep:l,ystep:c}=this;l=Math.abs(l),c=Math.abs(c),Aa("TilingType: "+r);const d=n[0],u=n[1],h=n[2],p=n[3],f=h-d,g=p-u,m=new Float32Array(2);Va.singularValueDecompose2dScale(this.matrix,m);const[v,b]=m;Va.singularValueDecompose2dScale(this.baseTransform,m);const y=v*m[0],w=b*m[1];let x=f,_=g,S=!1,k=!1;const A=Math.ceil(l*y),C=Math.ceil(c*w);A>=Math.ceil(f*y)?x=l:S=!0,C>=Math.ceil(g*w)?_=c:k=!0;const E=this.getSizeAndScale(x,this.ctx.canvas.width,y),T=this.getSizeAndScale(_,this.ctx.canvas.height,w),P=t.cachedCanvases.getCanvas("pattern",E.size,T.size),M=P.context,D=o.createCanvasGraphics(M,e);if(D.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(D,s,a),M.translate(-E.scale*d,-T.scale*u),D.transform(0,E.scale,0,0,T.scale,0,0),M.save(),D.dependencyTracker?.save(),this.clipBbox(D,d,u,h,p),D.baseTransform=ho(D.ctx),D.executeOperatorList(i),D.endDrawing(),D.dependencyTracker?.restore(),M.restore(),S||k){const e=P.canvas;S&&(x=l),k&&(_=c);const n=this.getSizeAndScale(x,this.ctx.canvas.width,y),i=this.getSizeAndScale(_,this.ctx.canvas.height,w),s=n.size,r=i.size,a=t.cachedCanvases.getCanvas("pattern-workaround",s,r),o=a.context,h=S?Math.floor(f/l):0,p=k?Math.floor(g/c):0;for(let t=0;t<=h;t++)for(let n=0;n<=p;n++)o.drawImage(e,s*t,r*n,s,r,0,0,s,r);return{canvas:a.canvas,scaleX:n.scale,scaleY:i.scale,offsetX:d,offsetY:u}}return{canvas:P.canvas,scaleX:E.scale,scaleY:T.scale,offsetX:d,offsetY:u}}getSizeAndScale(t,e,n){const i=Math.max(tc.MAX_PATTERN_SIZE,e);let s=Math.ceil(t*n);return s>=i?s=i:n=s/t,{scale:n,size:s}}clipBbox(t,e,n,i,s){const r=i-e,a=s-n;t.ctx.rect(e,n,r,a),Va.axialAlignedBoundingBox([e,n,i,s],ho(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const i=t.ctx,s=t.current;switch(e){case Jl:const{fillStyle:t,strokeStyle:r}=this.ctx;i.fillStyle=s.fillColor=t,i.strokeStyle=s.strokeColor=r;break;case Zl:i.fillStyle=i.strokeStyle=n,s.fillColor=s.strokeColor=n;break;default:throw new Ba(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,n,i,s){let r=n;i!==$l&&(r=Va.transform(r,e.baseTransform),this.matrix&&(r=Va.transform(r,this.matrix)));const a=this.createPatternCanvas(e,s);let o=new DOMMatrix(r);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const l=t.createPattern(a.canvas,"repeat");return l.setTransform(o),l}}function ec(t){let{src:e,srcPos:n=0,dest:i,width:s,height:r,nonBlackColor:a=4294967295,inverseDecode:o=!1}=t;const l=ja.isLittleEndian?4278190080:255,[c,d]=o?[a,l]:[l,a],u=s>>3,h=7&s,p=e.length;i=new Uint32Array(i.buffer);let f=0;for(let g=0;g<r;g++){for(const s=n+u;n<s;n++){const t=n<p?e[n]:255;i[f++]=128&t?d:c,i[f++]=64&t?d:c,i[f++]=32&t?d:c,i[f++]=16&t?d:c,i[f++]=8&t?d:c,i[f++]=4&t?d:c,i[f++]=2&t?d:c,i[f++]=1&t?d:c}if(0===h)continue;const t=n<p?e[n++]:255;for(let e=0;e<h;e++)i[f++]=t&1<<7-e?d:c}return{srcPos:n,destPos:f}}const nc=16,ic=new DOMMatrix,sc=new Float32Array(2),rc=new Float32Array([1/0,1/0,-1/0,-1/0]);class ac{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let i;return void 0!==this.cache[t]?(i=this.cache[t],this.canvasFactory.reset(i,e,n)):(i=this.canvasFactory.create(e,n),this.cache[t]=i),i}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function oc(t,e,n,i,s,r,a,o,l,c){const[d,u,h,p,f,g]=ho(t);if(0===u&&0===h){const m=a*d+f,v=Math.round(m),b=o*p+g,y=Math.round(b),w=(a+l)*d+f,x=Math.abs(Math.round(w)-v)||1,_=(o+c)*p+g,S=Math.abs(Math.round(_)-y)||1;return t.setTransform(Math.sign(d),0,0,Math.sign(p),v,y),t.drawImage(e,n,i,s,r,0,0,x,S),t.setTransform(d,u,h,p,f,g),[x,S]}if(0===d&&0===p){const m=o*h+f,v=Math.round(m),b=a*u+g,y=Math.round(b),w=(o+c)*h+f,x=Math.abs(Math.round(w)-v)||1,_=(a+l)*u+g,S=Math.abs(Math.round(_)-y)||1;return t.setTransform(0,Math.sign(u),Math.sign(h),0,v,y),t.drawImage(e,n,i,s,r,0,0,S,x),t.setTransform(d,u,h,p,f,g),[S,x]}t.drawImage(e,n,i,s,r,a,o,l,c);return[Math.hypot(d,u)*l,Math.hypot(h,p)*c]}class lc{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=(()=>Vr)();leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=(()=>ia)();textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e,n){n?.(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=rc.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hl,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.minMax.slice();if(t===Vl){e||Ea("Stroke bounding box must include transform."),Va.singularValueDecompose2dScale(e,sc);const t=sc[0]*this.lineWidth/2,i=sc[1]*this.lineWidth/2;n[0]-=t,n[1]-=i,n[2]+=t,n[3]+=i}return n}updateClipFromPath(){const t=Va.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(rc,0)}getClippedPathBoundingBox(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hl,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Va.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function cc(t,e){if(e instanceof ImageData)return void t.putImageData(e,0,0);const n=e.height,i=e.width,s=n%nc,r=(n-s)/nc,a=0===s?r:r+1,o=t.createImageData(i,nc);let l,c=0;const d=e.data,u=o.data;let h,p,f,g;if(e.kind===ca.GRAYSCALE_1BPP){const e=d.byteLength,n=new Uint32Array(u.buffer,0,u.byteLength>>2),g=n.length,m=i+7>>3,v=4294967295,b=ja.isLittleEndian?4278190080:255;for(h=0;h<a;h++){for(f=h<r?nc:s,l=0,p=0;p<f;p++){const t=e-c;let s=0;const r=t>m?i:8*t-7,a=-8&r;let o=0,u=0;for(;s<a;s+=8)u=d[c++],n[l++]=128&u?v:b,n[l++]=64&u?v:b,n[l++]=32&u?v:b,n[l++]=16&u?v:b,n[l++]=8&u?v:b,n[l++]=4&u?v:b,n[l++]=2&u?v:b,n[l++]=1&u?v:b;for(;s<r;s++)0===o&&(u=d[c++],o=128),n[l++]=u&o?v:b,o>>=1}for(;l<g;)n[l++]=0;t.putImageData(o,0,h*nc)}}else if(e.kind===ca.RGBA_32BPP){for(p=0,g=i*nc*4,h=0;h<r;h++)u.set(d.subarray(c,c+g)),c+=g,t.putImageData(o,0,p),p+=nc;h<a&&(g=i*s*4,u.set(d.subarray(c,c+g)),t.putImageData(o,0,p))}else{if(e.kind!==ca.RGB_24BPP)throw new Error(`bad image kind: ${e.kind}`);for(f=nc,g=i*f,h=0;h<a;h++){for(h>=r&&(f=s,g=i*f),l=0,p=g;p--;)u[l++]=d[c++],u[l++]=d[c++],u[l++]=d[c++],u[l++]=255;t.putImageData(o,0,h*nc)}}}function dc(t,e){if(e.bitmap)return void t.drawImage(e.bitmap,0,0);const n=e.height,i=e.width,s=n%nc,r=(n-s)/nc,a=0===s?r:r+1,o=t.createImageData(i,nc);let l=0;const c=e.data,d=o.data;for(let u=0;u<a;u++){const e=u<r?nc:s;({srcPos:l}=ec({src:c,srcPos:l,dest:d,width:i,height:e,nonBlackColor:0})),t.putImageData(o,0,u*nc)}}function uc(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of n)void 0!==t[i]&&(e[i]=t[i]);void 0!==t.setLineDash&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function hc(t){t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",void 0!==t.setLineDash&&(t.setLineDash([]),t.lineDashOffset=0);const{filter:e}=t;"none"!==e&&""!==e&&(t.filter="none")}function pc(t,e){if(e)return!0;Va.singularValueDecompose2dScale(t,sc);const n=Math.fround(go.pixelRatio*Za.PDF_TO_CSS_UNITS);return sc[0]<=n&&sc[1]<=n}const fc=["butt","round","square"],gc=["miter","round","bevel"],mc={},vc={};class bc{constructor(t,e,n,i,s,r,a,o,l){let{optionalContentConfig:c,markedContentStack:d=null}=r;this.ctx=t,this.current=new lc(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=d||[],this.optionalContentConfig=c,this.cachedCanvases=new ac(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=a,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=o,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=l??null}getObject(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return"string"===typeof e?(this.dependencyTracker?.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):n}beginDrawing(t){let{transform:e,viewport:n,transparency:i=!1,background:s=null}=t;const r=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,r,a),this.ctx.fillStyle=o,i){const t=this.cachedCanvases.getCanvas("transparent",r,a);this.compositeCtx=this.ctx,this.transparentCanvas=t.canvas,this.ctx=t.context,this.ctx.save(),this.ctx.transform(...ho(this.compositeCtx))}this.ctx.save(),hc(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=ho(this.ctx)}executeOperatorList(t,e,n,i,s){const r=t.argsArray,a=t.fnArray;let o=e||0;const l=r.length;if(l===o)return o;const c=l-o>10&&"function"===typeof n,d=c?Date.now()+15:0;let u=0;const h=this.commonObjs,p=this.objs;let f,g;for(;;){if(void 0!==i&&o===i.nextBreakPoint)return i.breakIt(o,n),o;if(!s||s(o))if(f=a[o],g=r[o]??null,f!==va.dependency)null===g?this[f](o):this[f](o,...g);else for(const t of g){this.dependencyTracker?.recordNamedData(t,o);const e=t.startsWith("g_")?h:p;if(!e.has(t))return e.get(t,n),o}if(o++,o===l)return o;if(c&&++u>10){if(Date.now()>d)return n(),o;u=0}}}#yi(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#yi(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#wi()}#wi(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==t){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const n=t.width??t.displayWidth,i=t.height??t.displayHeight;let s,r,a=Math.max(Math.hypot(e[0],e[1]),1),o=Math.max(Math.hypot(e[2],e[3]),1),l=n,c=i,d="prescale1";for(;a>2&&l>1||o>2&&c>1;){let e=l,n=c;a>2&&l>1&&(e=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),a/=l/e),o>2&&c>1&&(n=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/n),s=this.cachedCanvases.getCanvas(d,e,n),r=s.context,r.clearRect(0,0,e,n),r.drawImage(t,0,0,l,c,0,0,e,n),t=s.canvas,l=e,c=n,d="prescale1"===d?"prescale2":"prescale1"}return{img:t,paintWidth:l,paintHeight:c}}_createMaskCanvas(t,e){const n=this.ctx,{width:i,height:s}=e,r=this.current.fillColor,a=this.current.patternFill,o=ho(n);let l,c,d,u;if((e.bitmap||e.data)&&e.count>1){const n=e.bitmap||e.data.buffer;c=JSON.stringify(a?o:[o.slice(0,4),r]),l=this._cachedBitmapsMap.get(n),l||(l=new Map,this._cachedBitmapsMap.set(n,l));const i=l.get(c);if(i&&!a){const e=Math.round(Math.min(o[0],o[2])+o[4]),n=Math.round(Math.min(o[1],o[3])+o[5]);return this.dependencyTracker?.recordDependencies(t,jl),{canvas:i,offsetX:e,offsetY:n}}d=i}d||(u=this.cachedCanvases.getCanvas("maskCanvas",i,s),dc(u.context,e));let h=Va.transform(o,[1/i,0,0,-1/s,0,0]);h=Va.transform(h,[1,0,0,1,0,-s]);const p=rc.slice();Va.axialAlignedBoundingBox([0,0,i,s],h,p);const[f,g,m,v]=p,b=Math.round(m-f)||1,y=Math.round(v-g)||1,w=this.cachedCanvases.getCanvas("fillCanvas",b,y),x=w.context,_=f,S=g;x.translate(-_,-S),x.transform(...h),d||(d=this._scaleImage(u.canvas,po(x)),d=d.img,l&&a&&l.set(c,d)),x.imageSmoothingEnabled=pc(ho(x),e.interpolate),oc(x,d,0,0,d.width,d.height,0,0,i,s),x.globalCompositeOperation="source-in";const k=Va.transform(po(x),[1,0,0,1,-_,-S]);return x.fillStyle=a?r.getPattern(n,this,k,Hl,t):r,x.fillRect(0,0,i,s),l&&!a&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,w.canvas)),this.dependencyTracker?.recordDependencies(t,jl),{canvas:w.canvas,offsetX:Math.round(_),offsetY:Math.round(S)}}setLineWidth(t,e){this.dependencyTracker?.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){this.dependencyTracker?.recordSimpleData("lineCap",t),this.ctx.lineCap=fc[e]}setLineJoin(t,e){this.dependencyTracker?.recordSimpleData("lineJoin",t),this.ctx.lineJoin=gc[e]}setMiterLimit(t,e){this.dependencyTracker?.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,n){this.dependencyTracker?.recordSimpleData("dash",t);const i=this.ctx;void 0!==i.setLineDash&&(i.setLineDash(e),i.lineDashOffset=n)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){for(const[n,i]of e)switch(n){case"LW":this.setLineWidth(t,i);break;case"LC":this.setLineCap(t,i);break;case"LJ":this.setLineJoin(t,i);break;case"ML":this.setMiterLimit(t,i);break;case"D":this.setDash(t,i[0],i[1]);break;case"RI":this.setRenderingIntent(t,i);break;case"FL":this.setFlatness(t,i);break;case"Font":this.setFont(t,i[0],i[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=i;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=i;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",t),this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,e,n);this.suspendedCtx=this.ctx;const r=this.ctx=s.context;r.setTransform(this.suspendedCtx.getTransform()),uc(this.suspendedCtx,r),function(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},t.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},t.transform=function(t,n,i,s,r,a){e.transform(t,n,i,s,r,a),this.__originalTransform(t,n,i,s,r,a)},t.setTransform=function(t,n,i,s,r,a){e.setTransform(t,n,i,s,r,a),this.__originalSetTransform(t,n,i,s,r,a)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(t){e.rotate(t),this.__originalRotate(t)},t.clip=function(t){e.clip(t),this.__originalClip(t)},t.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},t.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},t.bezierCurveTo=function(t,n,i,s,r,a){e.bezierCurveTo(t,n,i,s,r,a),this.__originalBezierCurveTo(t,n,i,s,r,a)},t.rect=function(t,n,i,s){e.rect(t,n,i,s),this.__originalRect(t,n,i,s)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}(r,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),uc(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,i){const s=i[0],r=i[1],a=i[2]-s,o=i[3]-r;0!==a&&0!==o&&(this.genericComposeSMask(e.context,n,a,o,e.subtype,e.backdrop,e.transferMap,s,r,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,i,s,r,a,o,l,c,d){let u=t.canvas,h=o-c,p=l-d;if(r)if(h<0||p<0||h+n>u.width||p+i>u.height){const t=this.cachedCanvases.getCanvas("maskExtension",n,i),e=t.context;e.drawImage(u,-h,-p),e.globalCompositeOperation="destination-atop",e.fillStyle=r,e.fillRect(0,0,n,i),e.globalCompositeOperation="source-over",u=t.canvas,h=p=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const e=new Path2D;e.rect(h,p,n,i),t.clip(e),t.globalCompositeOperation="destination-atop",t.fillStyle=r,t.fillRect(h,p,n,i),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),"Alpha"===s&&a?e.filter=this.filterFactory.addAlphaFilter(a):"Luminosity"===s&&(e.filter=this.filterFactory.addLuminosityFilter(a));const f=new Path2D;f.rect(o,l,n,i),e.clip(f),e.globalCompositeOperation="destination-in",e.drawImage(u,h,p,n,i,o,l,n,i),e.restore()}save(t){this.inSMaskMode&&uc(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone(),this.dependencyTracker?.save(t)}restore(t){this.dependencyTracker?.restore(t),0!==this.stateStack.length?(this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&uc(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null):this.inSMaskMode&&this.endSMaskMode()}transform(t,e,n,i,s,r,a){this.dependencyTracker?.recordIncrementalData("transform",t),this.ctx.transform(e,n,i,s,r,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n,i){let[s]=n;if(!i)return s||=n[0]=new Path2D,void this[e](t,s);if(null!==this.dependencyTracker){const n=e===va.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,i[0]-n,i[2]+n,i[1]-n,i[3]+n).recordDependencies(t,["transform"])}if(!(s instanceof Path2D)){const t=n[0]=new Path2D;for(let e=0,n=s.length;e<n;)switch(s[e++]){case ba:t.moveTo(s[e++],s[e++]);break;case ya:t.lineTo(s[e++],s[e++]);break;case wa:t.bezierCurveTo(s[e++],s[e++],s[e++],s[e++],s[e++],s[e++]);break;case xa:t.closePath();break;default:Ca(`Unrecognized drawing path operator: ${s[e-1]}`)}s=t}Va.axialAlignedBoundingBox(i,ho(this.ctx),this.current.minMax),this[e](t,s),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=this.ctx,s=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"===typeof s&&s?.getPattern){const n=s.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=s.getPattern(i,this,po(i),Vl,t),n){const t=new Path2D;t.addPath(e,i.getTransform().invertSelf().multiplySelf(n)),e=t}this.rescaleAndStroke(e,!1),i.restore()}else this.rescaleAndStroke(e,!0);this.dependencyTracker?.recordDependencies(t,Ol),n&&this.consumePath(t,e,this.current.getClippedPathBoundingBox(Vl,ho(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=this.ctx,s=this.current.fillColor;let r=!1;if(this.current.patternFill){const n=s.isModifyingCurrentTransform()?i.getTransform():null;if(this.dependencyTracker?.save(t),i.save(),i.fillStyle=s.getPattern(i,this,po(i),Hl,t),n){const t=new Path2D;t.addPath(e,i.getTransform().invertSelf().multiplySelf(n)),e=t}r=!0}const a=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==a&&(this.pendingEOFill?(i.fill(e,"evenodd"),this.pendingEOFill=!1):i.fill(e)),this.dependencyTracker?.recordDependencies(t,Fl),r&&(i.restore(),this.dependencyTracker?.restore(t)),n&&this.consumePath(t,e,a)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){this.ctx.fill(e),this.dependencyTracker?.recordDependencies(t,Nl).recordOperation(t)}clip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=mc}eoClip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=vc}beginText(t){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:n}=this;void 0!==e&&n.recordFutureForcedDependency("textClip",n.getOpenMarker()).recordFutureForcedDependency("textClip",t),n.recordCloseMarker(t)}if(void 0!==e){const t=new Path2D,i=n.getTransform().invertSelf();for(const{transform:n,x:s,y:r,fontSize:a,path:o}of e)o&&t.addPath(o,new DOMMatrix(n).preMultiplySelf(i).translate(s,r).scale(a,-a));n.clip(t)}delete this.pendingTextPaths}setCharSpacing(t,e){this.dependencyTracker?.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){this.dependencyTracker?.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){this.dependencyTracker?.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){this.dependencyTracker?.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,n){this.dependencyTracker?.recordSimpleData("font",t).recordSimpleDataFromNamed("fontObj",e,t);const i=this.commonObjs.get(e),s=this.current;if(!i)throw new Error(`Can't find font for ${e}`);if(s.fontMatrix=i.fontMatrix||Vr,0!==s.fontMatrix[0]&&0!==s.fontMatrix[3]||Ca("Invalid font matrix for font "+e),n<0?(n=-n,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=n,i.isType3Font)return;const r=i.loadedName||"sans-serif",a=i.systemFontInfo?.css||`"${r}", ${i.fallbackName}`;let o="normal";i.black?o="900":i.bold&&(o="bold");const l=i.italic?"italic":"normal";let c=n;n<16?c=16:n>100&&(c=100),this.current.fontSizeScale=n/c,this.ctx.font=`${l} ${o} ${c}px ${a}`}setTextRenderingMode(t,e){this.dependencyTracker?.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){this.dependencyTracker?.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,n){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(t,e,n){this.setLeading(t,-n),this.moveText(t,e,n)}setTextMatrix(t,e){this.dependencyTracker?.recordSimpleData("textMatrix",t);const{current:n}=this;n.textMatrix=e,n.textMatrixScale=Math.hypot(e[0],e[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(t){this.moveText(t,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??t)}#xi(t,e,n){const i=new Path2D;return i.addPath(t,new DOMMatrix(n).invertSelf().multiplySelf(e)),i}paintChar(t,e,n,i,s,r){const a=this.ctx,o=this.current,l=o.font,c=o.textRenderingMode,d=o.fontSize/o.fontSizeScale,u=c&oa,h=!!(c&la),p=o.patternFill&&!l.missingFile,f=o.patternStroke&&!l.missingFile;let g;if((l.disableFontFace||h||p||f)&&!l.missingFile&&(g=l.getPathGenerator(this.commonObjs,e)),g&&(l.disableFontFace||p||f)){let e;if(a.save(),a.translate(n,i),a.scale(d,-d),this.dependencyTracker?.recordCharacterBBox(t,a,l),u===ia||u===ra)if(s){e=a.getTransform(),a.setTransform(...s);const t=this.#xi(g,e,s);a.fill(t)}else a.fill(g);if(u===sa||u===ra)if(r){e||=a.getTransform(),a.setTransform(...r);const{a:t,b:n,c:i,d:s}=e,o=Va.inverseTransform(r),l=Va.transform([t,n,i,s,0,0],o);Va.singularValueDecompose2dScale(l,sc),a.lineWidth*=Math.max(sc[0],sc[1])/d,a.stroke(this.#xi(g,e,r))}else a.lineWidth/=d,a.stroke(g);a.restore()}else u!==ia&&u!==ra||(a.fillText(e,n,i),this.dependencyTracker?.recordCharacterBBox(t,a,l,d,n,i,(()=>a.measureText(e)))),u!==sa&&u!==ra||(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(t,a,l,d,n,i,(()=>a.measureText(e))).recordDependencies(t,Ol),a.strokeText(e,n,i));if(h){(this.pendingTextPaths||=[]).push({transform:ho(a),x:n,y:i,fontSize:d,path:g}),this.dependencyTracker?.recordCharacterBBox(t,a,l,d,n,i)}}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<e.length;i+=4)if(e[i]>0&&e[i]<255){n=!0;break}return Da(this,"isFontSubpixelAAEnabled",n)}showText(t,e){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,zl).resetBBox(t),this.current.textRenderingMode&la&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,i=n.font;if(i.isType3Font)return this.showType3Text(t,e),void this.dependencyTracker?.recordShowTextOperation(t);const s=n.fontSize;if(0===s)return void this.dependencyTracker?.recordOperation(t);const r=this.ctx,a=n.fontSizeScale,o=n.charSpacing,l=n.wordSpacing,c=n.fontDirection,d=n.textHScale*c,u=e.length,h=i.vertical,p=h?1:-1,f=i.defaultVMetrics,g=s*n.fontMatrix[0],m=n.textRenderingMode===ia&&!i.disableFontFace&&!n.patternFill;let v,b;if(r.save(),n.textMatrix&&r.transform(...n.textMatrix),r.translate(n.x,n.y+n.textRise),c>0?r.scale(d,-1):r.scale(d,1),n.patternFill){r.save();const e=n.fillColor.getPattern(r,this,po(r),Hl,t);v=ho(r),r.restore(),r.fillStyle=e}if(n.patternStroke){r.save();const e=n.strokeColor.getPattern(r,this,po(r),Vl,t);b=ho(r),r.restore(),r.strokeStyle=e}let y=n.lineWidth;const w=n.textMatrixScale;if(0===w||0===y){const t=n.textRenderingMode&oa;t!==sa&&t!==ra||(y=this.getSinglePixelWidth())}else y/=w;if(1!==a&&(r.scale(a,a),y/=a),r.lineWidth=y,i.isInvalidPDFjsFont){const i=[];let s=0;for(const t of e)i.push(t.unicode),s+=t.width;const a=i.join("");if(r.fillText(a,0,0),null!==this.dependencyTracker){const e=r.measureText(a);this.dependencyTracker.recordBBox(t,this.ctx,-e.actualBoundingBoxLeft,e.actualBoundingBoxRight,-e.actualBoundingBoxAscent,e.actualBoundingBoxDescent).recordShowTextOperation(t)}return n.x+=s*g*d,r.restore(),void this.compose()}let x,_=0;for(x=0;x<u;++x){const n=e[x];if("number"===typeof n){_+=p*n*s/1e3;continue}let d=!1;const u=(n.isSpace?l:0)+o,y=n.fontChar,w=n.accent;let S,k,A,C=n.width;if(h){const t=n.vmetric||f,e=-(n.vmetric?t[1]:.5*C)*g,i=t[2]*g;C=t?-t[0]:C,S=e/a,k=(_+i)/a}else S=_/a,k=0;if(i.remeasure&&C>0){A=r.measureText(y);const t=1e3*A.width/s*a;if(C<t&&this.isFontSubpixelAAEnabled){const e=C/t;d=!0,r.save(),r.scale(e,1),S/=e}else C!==t&&(S+=(C-t)/2e3*s/a)}if(this.contentVisible&&(n.isInFont||i.missingFile))if(m&&!w)r.fillText(y,S,k),this.dependencyTracker?.recordCharacterBBox(t,r,A?{bbox:null}:i,s/a,S,k,(()=>A??r.measureText(y)));else if(this.paintChar(t,y,S,k,v,b),w){const e=S+s*w.offset.x/a,n=k-s*w.offset.y/a;this.paintChar(t,w.fontChar,e,n,v,b)}_+=h?C*g-u*c:C*g+u*c,d&&r.restore()}h?n.y-=_:n.x+=_*d,r.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(t)}showType3Text(t,e){const n=this.ctx,i=this.current,s=i.font,r=i.fontSize,a=i.fontDirection,o=s.vertical?1:-1,l=i.charSpacing,c=i.wordSpacing,d=i.textHScale*a,u=i.fontMatrix||Vr,h=e.length;let p,f,g,m;if(i.textRenderingMode===aa||0===r)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),i.textMatrix&&n.transform(...i.textMatrix),n.translate(i.x,i.y+i.textRise),n.scale(d,a);const v=this.dependencyTracker;for(this.dependencyTracker=v?new Ll(v,t):null,p=0;p<h;++p){if(f=e[p],"number"===typeof f){m=o*f*r/1e3,this.ctx.translate(m,0),i.x+=m*d;continue}const t=(f.isSpace?c:0)+l,a=s.charProcOperatorList[f.operatorListId];a?this.contentVisible&&(this.save(),n.scale(r,r),n.transform(...u),this.executeOperatorList(a),this.restore()):Ca(`Type3 character "${f.operatorListId}" is not available.`);const h=[f.width,0];Va.applyTransform(h,u),g=h[0]*r+t,n.translate(g,0),i.x+=g*d}n.restore(),v&&(this.dependencyTracker=v)}setCharWidth(t,e,n){}setCharWidthAndBounds(t,e,n,i,s,r,a){const o=new Path2D;o.rect(i,s,r-i,a-s),this.ctx.clip(o),this.dependencyTracker?.recordBBox(t,this.ctx,i,r,s,a).recordClipBox(t,this.ctx,i,r,s,a),this.endPath(t)}getColorN_Pattern(t,e){let n;if("TilingPattern"===e[0]){const t=this.baseTransform||ho(this.ctx),i={createCanvasGraphics:(t,e)=>new bc(t,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Ll(this.dependencyTracker,e,!0):null)};n=new tc(e,this.ctx,i,t)}else n=this._getPattern(t,e[1],e[2]);return n}setStrokeColorN(t){this.dependencyTracker?.recordSimpleData("strokeColor",t);for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.current.strokeColor=this.getColorN_Pattern(t,n),this.current.patternStroke=!0}setFillColorN(t){this.dependencyTracker?.recordSimpleData("fillColor",t);for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.current.fillColor=this.getColorN_Pattern(t,n),this.current.patternFill=!0}setStrokeRGBColor(t,e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e){let n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=function(t){switch(t[0]){case"RadialAxial":return new ql(t);case"Mesh":return new Yl(t);case"Dummy":return new Ql}throw new Error(`Unknown IR type: ${t[0]}`)}(this.getObject(t,e)),this.cachedPatterns.set(e,n)),i&&(n.matrix=i),n}shadingFill(t,e){if(!this.contentVisible)return;const n=this.ctx;this.save(t);const i=this._getPattern(t,e);n.fillStyle=i.getPattern(n,this,po(n),$l,t);const s=po(n);if(s){const{width:t,height:e}=n.canvas,i=rc.slice();Va.axialAlignedBoundingBox([0,0,t,e],s,i);const[r,a,o,l]=i;this.ctx.fillRect(r,a,o-r,l-a)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,Ul).recordDependencies(t,Fl).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){Ea("Should not call beginInlineImage")}beginImageData(){Ea("Should not call beginImageData")}paintFormXObjectBegin(t,e,n){if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=ho(this.ctx),n)){Va.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[e,i,s,r]=n,a=new Path2D;a.rect(e,i,s-e,r-i),this.ctx.clip(a),this.dependencyTracker?.recordClipBox(t,this.ctx,e,s,i,r),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;e.isolated||Aa("TODO: Support non-isolated groups."),e.knockout&&Ca("Knockout groups not supported.");const i=ho(n);if(e.matrix&&n.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let s=rc.slice();Va.axialAlignedBoundingBox(e.bbox,ho(n),s);const r=[0,0,n.canvas.width,n.canvas.height];s=Va.intersect(s,r)||[0,0,0,0];const a=Math.floor(s[0]),o=Math.floor(s[1]),l=Math.max(Math.ceil(s[2])-a,1),c=Math.max(Math.ceil(s[3])-o,1);this.current.startNewPathAndClipBox([0,0,l,c]);let d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);const u=this.cachedCanvases.getCanvas(d,l,c),h=u.context;h.translate(-a,-o),h.transform(...i);let p=new Path2D;const[f,g,m,v]=e.bbox;if(p.rect(f,g,m-f,v-g),e.matrix){const t=new Path2D;t.addPath(p,new DOMMatrix(e.matrix)),p=t}h.clip(p),e.smask&&this.smaskStack.push({canvas:u.canvas,context:h,offsetX:a,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),e.smask&&!this.dependencyTracker||(n.setTransform(1,0,0,1,0,0),n.translate(a,o),n.save()),uc(n,h),this.ctx=h,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(t,e){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const e=ho(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...e);const i=rc.slice();Va.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],e,i),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(i)}}beginAnnotation(t,e,n,i,s,r){if(this.#yi(),hc(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const s=n[2]-n[0],a=n[3]-n[1];if(r&&this.annotationCanvasMap){(i=i.slice())[4]-=n[0],i[5]-=n[1],(n=n.slice())[0]=n[1]=0,n[2]=s,n[3]=a,Va.singularValueDecompose2dScale(ho(this.ctx),sc);const{viewportScale:t}=this,r=Math.ceil(s*this.outputScaleX*t),o=Math.ceil(a*this.outputScaleY*t);this.annotationCanvas=this.canvasFactory.create(r,o);const{canvas:l,context:c}=this.annotationCanvas;this.annotationCanvasMap.set(e,l),this.annotationCanvas.savedCtx=this.ctx,this.ctx=c,this.ctx.save(),this.ctx.setTransform(sc[0],0,0,-sc[1],0,a*sc[1]),hc(this.ctx)}else{hc(this.ctx),this.endPath(t);const e=new Path2D;e.rect(n[0],n[1],s,a),this.ctx.clip(e)}}this.current=new lc(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...i),this.transform(t,...s)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),this.#wi(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){if(!this.contentVisible)return;const n=e.count;(e=this.getObject(t,e.data,e)).count=n;const i=this.ctx,s=this._createMaskCanvas(t,e),r=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(r,s.offsetX,s.offsetY),this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,s.offsetX,s.offsetX+r.width,s.offsetY,s.offsetY+r.height).recordOperation(t),i.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0;if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const o=this.ctx;o.save();const l=ho(o);o.transform(n,i,s,r,0,0);const c=this._createMaskCanvas(t,e);o.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]),this.dependencyTracker?.resetBBox(t);for(let d=0,u=a.length;d<u;d+=2){const e=Va.transform(l,[n,i,s,r,a[d],a[d+1]]);o.drawImage(c.canvas,e[4],e[5]),this.dependencyTracker?.recordBBox(t,this.ctx,e[4],e[4]+c.canvas.width,e[5],e[5]+c.canvas.height)}o.restore(),this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageMaskXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx,i=this.current.fillColor,s=this.current.patternFill;this.dependencyTracker?.resetBBox(t).recordDependencies(t,jl);for(const r of e){const{data:e,width:a,height:o,transform:l}=r,c=this.cachedCanvases.getCanvas("maskCanvas",a,o),d=c.context;d.save();dc(d,this.getObject(t,e,r)),d.globalCompositeOperation="source-in",d.fillStyle=s?i.getPattern(d,this,po(n),Hl,t):i,d.fillRect(0,0,a,o),d.restore(),n.save(),n.transform(...l),n.scale(1,-1),oc(n,c.canvas,0,0,a,o,0,-1,1,1),this.dependencyTracker?.recordBBox(t,n,0,a,0,o),n.restore()}this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const n=this.getObject(t,e);n?this.paintInlineImageXObject(t,n):Ca("Dependent image isn't ready yet")}paintImageXObjectRepeat(t,e,n,i,s){if(!this.contentVisible)return;const r=this.getObject(t,e);if(!r)return void Ca("Dependent image isn't ready yet");const a=r.width,o=r.height,l=[];for(let c=0,d=s.length;c<d;c+=2)l.push({transform:[n,0,0,i,s[c],s[c+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(t,r,l)}applyTransferMapsToCanvas(t){return"none"!==this.current.transferMaps&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if("none"===this.current.transferMaps)return t.bitmap;const{bitmap:e,width:n,height:i}=t,s=this.cachedCanvases.getCanvas("inlineImage",n,i),r=s.context;return r.filter=this.current.transferMaps,r.drawImage(e,0,0),r.filter="none",s.canvas}paintInlineImageXObject(t,e){if(!this.contentVisible)return;const n=e.width,i=e.height,s=this.ctx;this.save(t);const{filter:r}=s;let a;if("none"!==r&&""!==r&&(s.filter="none"),s.scale(1/n,-1/i),e.bitmap)a=this.applyTransferMapsToBitmap(e);else if("function"===typeof HTMLElement&&e instanceof HTMLElement||!e.data)a=e;else{const t=this.cachedCanvases.getCanvas("inlineImage",n,i).context;cc(t,e),a=this.applyTransferMapsToCanvas(t)}const o=this._scaleImage(a,po(s));s.imageSmoothingEnabled=pc(ho(s),e.interpolate),this.dependencyTracker?.resetBBox(t).recordBBox(t,s,0,n,-i,0).recordDependencies(t,Bl).recordOperation(t),oc(s,o.img,0,0,o.paintWidth,o.paintHeight,0,-i,n,i),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,n){if(!this.contentVisible)return;const i=this.ctx;let s;if(e.bitmap)s=e.bitmap;else{const t=e.width,n=e.height,i=this.cachedCanvases.getCanvas("inlineImage",t,n).context;cc(i,e),s=this.applyTransferMapsToCanvas(i)}this.dependencyTracker?.resetBBox(t);for(const r of n)i.save(),i.transform(...r.transform),i.scale(1,-1),oc(i,s,r.x,r.y,r.w,r.h,0,-1,1,1),this.dependencyTracker?.recordBBox(t,i,0,1,-1,0),i.restore();this.dependencyTracker?.recordOperation(t),this.compose()}paintSolidColorImageMask(t){this.contentVisible&&(this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,Fl).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,n){}beginMarkedContent(t,e){this.dependencyTracker?.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,n){this.dependencyTracker?.beginMarkedContent(t),"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){this.dependencyTracker?.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,n){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const s=this.ctx;this.pendingClip?(i||(this.pendingClip===vc?s.clip(e,"evenodd"):s.clip(e)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):this.dependencyTracker?.recordOperation(t),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=ho(this.ctx);if(0===t[1]&&0===t[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),i=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:t}=this.current,{a:e,b:n,c:i,d:s}=this.ctx.getTransform();let r,a;if(0===n&&0===i){const n=Math.abs(e),i=Math.abs(s);if(n===i)if(0===t)r=a=1/n;else{const e=n*t;r=a=e<1?1/e:1}else if(0===t)r=1/n,a=1/i;else{const e=n*t,s=i*t;r=e<1?1/e:1,a=s<1?1/s:1}}else{const o=Math.abs(e*s-n*i),l=Math.hypot(e,n),c=Math.hypot(i,s);if(0===t)r=c/o,a=l/o;else{const e=t*o;r=c>e?c/e:1,a=l>e?l/e:1}}this._cachedScaleForStroking[0]=r,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:n,current:{lineWidth:i}}=this,[s,r]=this.getScaleForStroking();if(s===r)return n.lineWidth=(i||1)*s,void n.stroke(t);const a=n.getLineDash();e&&n.save(),n.scale(s,r),ic.a=1/s,ic.d=1/r;const o=new Path2D;if(o.addPath(t,ic),a.length>0){const t=Math.max(s,r);n.setLineDash(a.map((e=>e/t))),n.lineDashOffset/=t}n.lineWidth=i||1,n.stroke(o),e&&n.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const mh in va)void 0!==bc.prototype[mh]&&(bc.prototype[va[mh]]=bc.prototype[mh]);class yc{#_i;#Si;#ki;static strings=["fontFamily","fontWeight","italicAngle"];static write(t){const e=new TextEncoder,n={};let i=0;for(const l of yc.strings){const s=e.encode(t[l]);n[l]=s,i+=4+s.length}const s=new ArrayBuffer(i),r=new Uint8Array(s),a=new DataView(s);let o=0;for(const l of yc.strings){const t=n[l],e=t.length;a.setUint32(o,e),r.set(t,o+4),o+=4+e}return Ta(o===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}constructor(t){this.#_i=t,this.#Si=new DataView(this.#_i),this.#ki=new TextDecoder}#Ai(t){Ta(t<yc.strings.length,"Invalid string index");let e=0;for(let i=0;i<t;i++)e+=this.#Si.getUint32(e)+4;const n=this.#Si.getUint32(e);return this.#ki.decode(new Uint8Array(this.#_i,e+4,n))}get fontFamily(){return this.#Ai(0)}get fontWeight(){return this.#Ai(1)}get italicAngle(){return this.#Ai(2)}}class wc{#_i;#Si;#ki;static strings=["css","loadedName","baseFontName","src"];static write(t){const e=new TextEncoder,n={};let i=0;for(const u of wc.strings){const s=e.encode(t[u]);n[u]=s,i+=4+s.length}i+=4;let s,r,a=1+i;t.style&&(s=e.encode(t.style.style),r=e.encode(t.style.weight),a+=4+s.length+4+r.length);const o=new ArrayBuffer(a),l=new Uint8Array(o),c=new DataView(o);let d=0;c.setUint8(d++,t.guessFallback?1:0),c.setUint32(d,0),d+=4,i=0;for(const u of wc.strings){const t=n[u],e=t.length;i+=4+e,c.setUint32(d,e),l.set(t,d+4),d+=4+e}return c.setUint32(d-i-4,i),t.style&&(c.setUint32(d,s.length),l.set(s,d+4),d+=4+s.length,c.setUint32(d,r.length),l.set(r,d+4),d+=4+r.length),Ta(d<=o.byteLength,"SubstitionInfo.write: Buffer overflow"),o.transferToFixedLength(d)}constructor(t){this.#_i=t,this.#Si=new DataView(this.#_i),this.#ki=new TextDecoder}get guessFallback(){return 0!==this.#Si.getUint8(0)}#Ai(t){Ta(t<wc.strings.length,"Invalid string index");let e=5;for(let i=0;i<t;i++)e+=this.#Si.getUint32(e)+4;const n=this.#Si.getUint32(e);return this.#ki.decode(new Uint8Array(this.#_i,e+4,n))}get css(){return this.#Ai(0)}get loadedName(){return this.#Ai(1)}get baseFontName(){return this.#Ai(2)}get src(){return this.#Ai(3)}get style(){let t=1;t+=4+this.#Si.getUint32(t);const e=this.#Si.getUint32(t),n=this.#ki.decode(new Uint8Array(this.#_i,t+4,e));t+=4+e;const i=this.#Si.getUint32(t);return{style:n,weight:this.#ki.decode(new Uint8Array(this.#_i,t+4,i))}}}class xc{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#Ci=(()=>Math.ceil(2*this.bools.length/8))();static#Ei=(()=>this.#Ci+8*this.numbers.length)();static#Ti=(()=>this.#Ei+1+8)();static#Pi=(()=>this.#Ti+1+48)();static#Mi=(()=>this.#Pi+1+6)();#_i;#ki;#Si;constructor(t){let{data:e,extra:n}=t;this.#_i=e,this.#ki=new TextDecoder,this.#Si=new DataView(this.#_i),n&&Object.assign(this,n)}#Di(t){Ta(t<xc.bools.length,"Invalid boolean index");const e=Math.floor(t/4),n=2*t%8,i=this.#Si.getUint8(e)>>n&3;return 0===i?void 0:2===i}get black(){return this.#Di(0)}get bold(){return this.#Di(1)}get disableFontFace(){return this.#Di(2)}get fontExtraProperties(){return this.#Di(3)}get isInvalidPDFjsFont(){return this.#Di(4)}get isType3Font(){return this.#Di(5)}get italic(){return this.#Di(6)}get missingFile(){return this.#Di(7)}get remeasure(){return this.#Di(8)}get vertical(){return this.#Di(9)}#Ri(t){return Ta(t<xc.numbers.length,"Invalid number index"),this.#Si.getFloat64(xc.#Ci+8*t)}get ascent(){return this.#Ri(0)}get defaultWidth(){return this.#Ri(1)}get descent(){return this.#Ri(2)}get bbox(){let t=xc.#Ei;if(0===this.#Si.getUint8(t))return;t+=1;const e=[];for(let n=0;n<4;n++)e.push(this.#Si.getInt16(t,!0)),t+=2;return e}get fontMatrix(){let t=xc.#Ti;if(0===this.#Si.getUint8(t))return;t+=1;const e=[];for(let n=0;n<6;n++)e.push(this.#Si.getFloat64(t,!0)),t+=8;return e}get defaultVMetrics(){let t=xc.#Pi;if(0===this.#Si.getUint8(t))return;t+=1;const e=[];for(let n=0;n<3;n++)e.push(this.#Si.getInt16(t,!0)),t+=2;return e}#Ai(t){Ta(t<xc.strings.length,"Invalid string index");let e=xc.#Mi+4;for(let s=0;s<t;s++)e+=this.#Si.getUint32(e)+4;const n=this.#Si.getUint32(e),i=new Uint8Array(n);return i.set(new Uint8Array(this.#_i,e+4,n)),this.#ki.decode(i)}get fallbackName(){return this.#Ai(0)}get loadedName(){return this.#Ai(1)}get mimetype(){return this.#Ai(2)}get name(){return this.#Ai(3)}get data(){let t=xc.#Mi;t+=4+this.#Si.getUint32(t);t+=4+this.#Si.getUint32(t);t+=4+this.#Si.getUint32(t);const e=this.#Si.getUint32(t);if(0!==e)return new Uint8Array(this.#_i,t+4,e)}clearData(){let t=xc.#Mi;t+=4+this.#Si.getUint32(t);t+=4+this.#Si.getUint32(t);t+=4+this.#Si.getUint32(t);const e=this.#Si.getUint32(t);new Uint8Array(this.#_i,t+4,e).fill(0),this.#Si.setUint32(t,0)}get cssFontInfo(){let t=xc.#Mi;t+=4+this.#Si.getUint32(t);t+=4+this.#Si.getUint32(t);const e=this.#Si.getUint32(t);if(0===e)return null;const n=new Uint8Array(e);return n.set(new Uint8Array(this.#_i,t+4,e)),new yc(n.buffer)}get systemFontInfo(){let t=xc.#Mi;t+=4+this.#Si.getUint32(t);const e=this.#Si.getUint32(t);if(0===e)return null;const n=new Uint8Array(e);return n.set(new Uint8Array(this.#_i,t+4,e)),new wc(n.buffer)}static write(t){const e=t.systemFontInfo?wc.write(t.systemFontInfo):null,n=t.cssFontInfo?yc.write(t.cssFontInfo):null,i=new TextEncoder,s={};let r=0;for(const f of xc.strings)s[f]=i.encode(t[f]),r+=4+s[f].length;const a=xc.#Mi+4+r+4+(e?e.byteLength:0)+4+(n?n.byteLength:0)+4+(t.data?t.data.length:0),o=new ArrayBuffer(a),l=new Uint8Array(o),c=new DataView(o);let d=0;const u=xc.bools.length;let h=0,p=0;for(let f=0;f<u;f++){const e=t[xc.bools[f]];h|=(void 0===e?0:e?2:1)<<p,p+=2,8!==p&&f!==u-1||(c.setUint8(d++,h),h=0,p=0)}Ta(d===xc.#Ci,"FontInfo.write: Boolean properties offset mismatch");for(const f of xc.numbers)c.setFloat64(d,t[f]),d+=8;if(Ta(d===xc.#Ei,"FontInfo.write: Number properties offset mismatch"),t.bbox){c.setUint8(d++,4);for(const e of t.bbox)c.setInt16(d,e,!0),d+=2}else c.setUint8(d++,0),d+=8;if(Ta(d===xc.#Ti,"FontInfo.write: BBox properties offset mismatch"),t.fontMatrix){c.setUint8(d++,6);for(const e of t.fontMatrix)c.setFloat64(d,e,!0),d+=8}else c.setUint8(d++,0),d+=48;if(Ta(d===xc.#Pi,"FontInfo.write: FontMatrix properties offset mismatch"),t.defaultVMetrics){c.setUint8(d++,1);for(const e of t.defaultVMetrics)c.setInt16(d,e,!0),d+=2}else c.setUint8(d++,0),d+=6;Ta(d===xc.#Mi,"FontInfo.write: DefaultVMetrics properties offset mismatch"),c.setUint32(xc.#Mi,0),d+=4;for(const f of xc.strings){const t=s[f],e=t.length;c.setUint32(d,e),l.set(t,d+4),d+=4+e}if(c.setUint32(xc.#Mi,d-xc.#Mi-4),e){const t=e.byteLength;c.setUint32(d,t),Ta(d+4+t<=o.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),l.set(new Uint8Array(e),d+4),d+=4+t}else c.setUint32(d,0),d+=4;if(n){const t=n.byteLength;c.setUint32(d,t),Ta(d+4+t<=o.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),l.set(new Uint8Array(n),d+4),d+=4+t}else c.setUint32(d,0),d+=4;return void 0===t.data?(c.setUint32(d,0),d+=4):(c.setUint32(d,t.data.length),l.set(t.data,d+4),d+=4+t.data.length),Ta(d<=o.byteLength,"FontInfo.write: Buffer overflow"),o.transferToFixedLength(d)}}class _c{static#Ii=null;static#Li="";static get workerPort(){return this.#Ii}static set workerPort(t){if(!("undefined"!==typeof Worker&&t instanceof Worker)&&null!==t)throw new Error("Invalid `workerPort` type.");this.#Ii=t}static get workerSrc(){return this.#Li}static set workerSrc(t){if("string"!==typeof t)throw new Error("Invalid `workerSrc` type.");this.#Li=t}}class Sc{#Oi;#Fi;constructor(t){let{parsedData:e,rawData:n}=t;this.#Oi=e,this.#Fi=n}getRaw(){return this.#Fi}get(t){return this.#Oi.get(t)??null}[Symbol.iterator](){return this.#Oi.entries()}}const kc=Symbol("INTERNAL");class Ac{#Bi=!1;#Ni=!1;#zi=!1;#Ui=!0;constructor(t,e){let{name:n,intent:i,usage:s,rbGroups:r}=e;this.#Bi=!!(t&Gr),this.#Ni=!!(t&qr),this.name=n,this.intent=i,this.usage=s,this.rbGroups=r}get visible(){if(this.#zi)return this.#Ui;if(!this.#Ui)return!1;const{print:t,view:e}=this.usage;return this.#Bi?"OFF"!==e?.viewState:!this.#Ni||"OFF"!==t?.printState}_setVisible(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t!==kc&&Ea("Internal method `_setVisible` called."),this.#zi=n,this.#Ui=e}}class Cc{#ji=null;#Hi=(()=>new Map)();#Vi=null;#$i=null;constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gr;if(this.renderingIntent=e,this.name=null,this.creator=null,null!==t){this.name=t.name,this.creator=t.creator,this.#$i=t.order;for(const n of t.groups)this.#Hi.set(n.id,new Ac(e,n));if("OFF"===t.baseState)for(const t of this.#Hi.values())t._setVisible(kc,!1);for(const e of t.on)this.#Hi.get(e)._setVisible(kc,!0);for(const e of t.off)this.#Hi.get(e)._setVisible(kc,!1);this.#Vi=this.getHash()}}#Wi(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let i=1;i<e;i++){const e=t[i];let s;if(Array.isArray(e))s=this.#Wi(e);else{if(!this.#Hi.has(e))return Ca(`Optional content group not found: ${e}`),!0;s=this.#Hi.get(e).visible}switch(n){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return"And"===n}isVisible(t){if(0===this.#Hi.size)return!0;if(!t)return Aa("Optional content group not defined."),!0;if("OCG"===t.type)return this.#Hi.has(t.id)?this.#Hi.get(t.id).visible:(Ca(`Optional content group not found: ${t.id}`),!0);if("OCMD"===t.type){if(t.expression)return this.#Wi(t.expression);if(!t.policy||"AnyOn"===t.policy){for(const e of t.ids){if(!this.#Hi.has(e))return Ca(`Optional content group not found: ${e}`),!0;if(this.#Hi.get(e).visible)return!0}return!1}if("AllOn"===t.policy){for(const e of t.ids){if(!this.#Hi.has(e))return Ca(`Optional content group not found: ${e}`),!0;if(!this.#Hi.get(e).visible)return!1}return!0}if("AnyOff"===t.policy){for(const e of t.ids){if(!this.#Hi.has(e))return Ca(`Optional content group not found: ${e}`),!0;if(!this.#Hi.get(e).visible)return!0}return!1}if("AllOff"===t.policy){for(const e of t.ids){if(!this.#Hi.has(e))return Ca(`Optional content group not found: ${e}`),!0;if(this.#Hi.get(e).visible)return!1}return!0}return Ca(`Unknown optional content policy ${t.policy}.`),!0}return Ca(`Unknown group type ${t.type}.`),!0}setVisibility(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=this.#Hi.get(t);if(i){if(n&&e&&i.rbGroups.length)for(const e of i.rbGroups)for(const n of e)n!==t&&this.#Hi.get(n)?._setVisible(kc,!1,!0);i._setVisible(kc,!!e,!0),this.#ji=null}else Ca(`Optional content group not found: ${t}`)}setOCGState(t){let e,{state:n,preserveRB:i}=t;for(const s of n){switch(s){case"ON":case"OFF":case"Toggle":e=s;continue}const t=this.#Hi.get(s);if(t)switch(e){case"ON":this.setVisibility(s,!0,i);break;case"OFF":this.setVisibility(s,!1,i);break;case"Toggle":this.setVisibility(s,!t.visible,i)}}this.#ji=null}get hasInitialVisibility(){return null===this.#Vi||this.getHash()===this.#Vi}getOrder(){return this.#Hi.size?this.#$i?this.#$i.slice():[...this.#Hi.keys()]:null}getGroup(t){return this.#Hi.get(t)||null}getHash(){if(null!==this.#ji)return this.#ji;const t=new jo;for(const[e,n]of this.#Hi)t.update(`${e}:${n.visible}`);return this.#ji=t.hexdigest()}[Symbol.iterator](){return this.#Hi.entries()}}class Ec{constructor(t,e){let{disableRange:n=!1,disableStream:i=!1}=e;Ta(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:r,progressiveDone:a,contentDispositionFilename:o}=t;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,r?.length>0){const t=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(t)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!n,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener(((t,e)=>{this._onReceiveData({begin:t,chunk:e})})),t.addProgressListener(((t,e)=>{this._onProgress({loaded:t,total:e})})),t.addProgressiveReadListener((t=>{this._onReceiveData({chunk:t})})),t.addProgressiveDoneListener((()=>{this._onProgressiveDone()})),t.transportReady()}_onReceiveData(t){let{begin:e,chunk:n}=t;const i=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(void 0===e)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{Ta(this._rangeReaders.some((function(t){return t._begin===e&&(t._enqueue(i),!0)})),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){void 0===t.total?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Ta(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new Tc(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new Pc(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class Tc{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=t,this._done=n||!1,this._filename=so(i)?i:null,this._queuedChunks=e||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length>0){this._requests.shift().resolve({value:t,done:!1})}else this._queuedChunks.push(t);this._loaded+=t.byteLength}}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0){return{value:this._queuedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Pc{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(0===this._requests.length)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Mc(t,e){const n=new Headers;if(!t||!e||"object"!==typeof e)return n;for(const i in e){const t=e[i];void 0!==t&&n.append(i,t)}return n}function Dc(t){return URL.parse(t)?.origin??null}function Rc(t){let{responseHeaders:e,isHttp:n,rangeChunkSize:i,disableRange:s}=t;const r={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(e.get("Content-Length"),10);if(!Number.isInteger(a))return r;if(r.suggestedLength=a,a<=2*i)return r;if(s||!n)return r;if("bytes"!==e.get("Accept-Ranges"))return r;return"identity"!==(e.get("Content-Encoding")||"identity")||(r.allowRangeRequests=!0),r}function Ic(t){const e=t.get("Content-Disposition");if(e){let t=function(t){let e=!0,n=i("filename\\*","i").exec(t);if(n){n=n[1];let t=a(n);return t=unescape(t),t=o(t),t=l(t),r(t)}if(n=function(t){const e=[];let n;const s=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=s.exec(t));){let[,t,i,s]=n;if(t=parseInt(t,10),t in e){if(0===t)break}else e[t]=[i,s]}const r=[];for(let i=0;i<e.length&&i in e;++i){let[t,n]=e[i];n=a(n),t&&(n=unescape(n),0===i&&(n=o(n))),r.push(n)}return r.join("")}(t),n)return r(l(n));if(n=i("filename","i").exec(t),n){n=n[1];let t=a(n);return t=l(t),r(t)}function i(t,e){return new RegExp("(?:^|;)\\s*"+t+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',e)}function s(t,n){if(t){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const i=new TextDecoder(t,{fatal:!0}),s=Ua(n);n=i.decode(s),e=!1}catch{}}return n}function r(t){return e&&/[\x80-\xff]/.test(t)&&(t=s("utf-8",t),e&&(t=s("iso-8859-1",t))),t}function a(t){if(t.startsWith('"')){const e=t.slice(1).split('\\"');for(let t=0;t<e.length;++t){const n=e[t].indexOf('"');-1!==n&&(e[t]=e[t].slice(0,n),e.length=t+1),e[t]=e[t].replaceAll(/\\(.)/g,"$1")}t=e.join('"')}return t}function o(t){const e=t.indexOf("'");return-1===e?t:s(t.slice(0,e),t.slice(e+1).replace(/^[^']*'/,""))}function l(t){return!t.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(t)?t:t.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(t,e,n,i){if("q"===n||"Q"===n)return s(e,i=(i=i.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,(function(t,e){return String.fromCharCode(parseInt(e,16))})));try{i=atob(i)}catch{}return s(e,i)}))}return""}(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(so(t))return t}return null}function Lc(t,e){return new Fa(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t,404===t||0===t&&e.startsWith("file:"))}function Oc(t){return 200===t||206===t}function Fc(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Bc(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(Ca(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class Nc{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=Mc(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Ta(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new zc(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new Uc(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class zc{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),i=e.url;fetch(i,Fc(n,this._withCredentials,this._abortController)).then((e=>{if(t._responseOrigin=Dc(e.url),!Oc(e.status))throw Lc(e.status,i);this._reader=e.body.getReader(),this._headersCapability.resolve();const n=e.headers,{allowRangeRequests:s,suggestedLength:r}=Rc({responseHeaders:n,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=r||this._contentLength,this._filename=Ic(n),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Na("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:Bc(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class Uc{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const i=t.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(t.headers);s.append("Range",`bytes=${e}-${n-1}`);const r=i.url;fetch(r,Fc(s,this._withCredentials,this._abortController)).then((e=>{const n=Dc(e.url);if(n!==t._responseOrigin)throw new Error(`Expected range response-origin "${n}" to match "${t._responseOrigin}".`);if(!Oc(e.status))throw Lc(e.status,r);this._readCapability.resolve(),this._reader=e.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:Bc(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class jc{_responseOrigin=null;constructor(t){let{url:e,httpHeaders:n,withCredentials:i}=t;this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=Mc(this.isHttp,n),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[s,r]of this.headers)e.setRequestHeader(s,r);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),i.expectedStatus=206):i.expectedStatus=200,e.responseType="arraybuffer",Ta(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=t.onHeadersReceived,i.onDone=t.onDone,i.onError=t.onError,i.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){const n=this.pendingRequests[t];n&&n.onProgress?.(e)}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==i.readyState)return;if(!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],0===i.status&&this.isHttp)return void n.onError(i.status);const s=i.status||200;if(!(200===s&&206===n.expectedStatus)&&s!==n.expectedStatus)return void n.onError(i.status);const r=function(t){const e=t.response;return"string"!==typeof e?e:Ua(e).buffer}(i);if(206===s){const t=i.getResponseHeader("Content-Range"),e=/bytes (\d+)-(\d+)\/(\d+)/.exec(t);e?n.onDone({begin:parseInt(e[1],10),chunk:r}):(Ca('Missing or invalid "Content-Range" header.'),n.onError(0))}else r?n.onDone({begin:0,chunk:r}):n.onError(i.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class Hc{constructor(t){this._source=t,this._manager=new jc(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Ta(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Vc(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new $c(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class Vc{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=Dc(e.responseURL);const n=e.getAllResponseHeaders(),i=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map((t=>{const[e,...n]=t.split(": ");return[e,n.join(": ")]})):[]),{allowRangeRequests:s,suggestedLength:r}=Rc({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=r||this._contentLength,this._filename=Ic(i),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t)if(this._requests.length>0){this._requests.shift().resolve({value:t.chunk,done:!1})}else this._cachedChunks.push(t.chunk);if(this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Lc(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0){return{value:this._cachedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class $c{constructor(t,e,n){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=Dc(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;if(this._requests.length>0){this._requests.shift().resolve({value:e,done:!1})}else this._queuedChunk=e;this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=Lc(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Wc=/^[a-z][a-z0-9\-+.]+:/i;class Gc{constructor(t){this.source=t,this.url=function(t){if(Wc.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}(t.url),Ta("file:"===this.url.protocol,"PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Ta(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new qc(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new Xc(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class qc{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then((t=>{this._contentLength=t.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()}),(t=>{"ENOENT"===t.code&&(t=Lc(0,this._url.href)),this._storedError=t,this._headersCapability.reject(t)}))}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();if(null===t)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength});return{value:new Uint8Array(t).buffer,done:!1}}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",(()=>{this._readCapability.resolve()})),t.on("end",(()=>{t.destroy(),this._done=!0,this._readCapability.resolve()})),t.on("error",(t=>{this._error(t)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Na("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Xc{constructor(t,e,n){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=t.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:e,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();if(null===t)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=t.length,this.onProgress?.({loaded:this._loaded});return{value:new Uint8Array(t).buffer,done:!1}}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",(()=>{this._readCapability.resolve()})),t.on("end",(()=>{t.destroy(),this._done=!0,this._readCapability.resolve()})),t.on("error",(t=>{this._error(t)})),this._storedError&&this._readableStream.destroy(this._storedError)}}const Kc=Symbol("INITIAL_DATA");class Yc{#Gi=(()=>Object.create(null))();#qi(t){return this.#Gi[t]||={...Promise.withResolvers(),data:Kc}}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e){const n=this.#qi(t);return n.promise.then((()=>e(n.data))),null}const n=this.#Gi[t];if(!n||n.data===Kc)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=this.#Gi[t];return!!e&&e.data!==Kc}delete(t){const e=this.#Gi[t];return!(!e||e.data===Kc)&&(delete this.#Gi[t],!0)}resolve(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.#qi(t);n.data=e,n.resolve()}clear(){for(const t in this.#Gi){const{data:e}=this.#Gi[t];e?.bitmap?.close()}this.#Gi=Object.create(null)}*[Symbol.iterator](){for(const t in this.#Gi){const{data:e}=this.#Gi[t];e!==Kc&&(yield[t,e])}}}class Qc{#Xi=(()=>Promise.withResolvers())();#xt=null;#Ki=!1;#Yi=(()=>!!globalThis.FontInspector?.enabled)();#Qi=null;#Ji=null;#Zi=0;#ts=0;#es=null;#ns=null;#is=0;#ss=0;#rs=(()=>Object.create(null))();#as=[];#os=null;#ls=[];#cs=(()=>new WeakMap)();#ds=null;static#us=(()=>new Map)();static#hs=(()=>new Map)();static#ps=(()=>new WeakMap)();static#fs=null;static#gs=(()=>new Set)();constructor(t){let{textContentSource:e,container:n,viewport:i}=t;if(e instanceof ReadableStream)this.#os=e;else{if("object"!==typeof e)throw new Error('No "textContentSource" parameter specified.');this.#os=new ReadableStream({start(t){t.enqueue(e),t.close()}})}this.#xt=this.#ns=n,this.#ss=i.scale*go.pixelRatio,this.#is=i.rotation,this.#Ji={div:null,properties:null,ctx:null};const{pageWidth:s,pageHeight:r,pageX:a,pageY:o}=i.rawDims;this.#ds=[1,0,0,-1,-a,o+r],this.#ts=s,this.#Zi=r,Qc.#ms(),fo(n,i),this.#Xi.promise.finally((()=>{Qc.#gs.delete(this),this.#Ji=null,this.#rs=null})).catch((()=>{}))}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=ja.platform;return Da(this,"fontFamilyMap",new Map([["sans-serif",(t&&e?"Calibri, ":"")+"sans-serif"],["monospace",(t&&e?"Lucida Console, ":"")+"monospace"]]))}render(){const t=()=>{this.#es.read().then((e=>{let{value:n,done:i}=e;i?this.#Xi.resolve():(this.#Qi??=n.lang,Object.assign(this.#rs,n.styles),this.#vs(n.items),t())}),this.#Xi.reject)};return this.#es=this.#os.getReader(),Qc.#gs.add(this),t(),this.#Xi.promise}update(t){let{viewport:e,onBefore:n=null}=t;const i=e.scale*go.pixelRatio,s=e.rotation;if(s!==this.#is&&(n?.(),this.#is=s,fo(this.#ns,{rotation:s})),i!==this.#ss){n?.(),this.#ss=i;const t={div:null,properties:null,ctx:Qc.#bs(this.#Qi)};for(const e of this.#ls)t.properties=this.#cs.get(e),t.div=e,this.#ys(t)}}cancel(){const t=new Na("TextLayer task cancelled.");this.#es?.cancel(t).catch((()=>{})),this.#es=null,this.#Xi.reject(t)}get textDivs(){return this.#ls}get textContentItemsStr(){return this.#as}#vs(t){if(this.#Ki)return;this.#Ji.ctx??=Qc.#bs(this.#Qi);const e=this.#ls,n=this.#as;for(const i of t){if(e.length>1e5)return Ca("Ignoring additional textDivs for performance reasons."),void(this.#Ki=!0);if(void 0!==i.str)n.push(i.str),this.#ws(i);else if("beginMarkedContentProps"===i.type||"beginMarkedContent"===i.type){const t=this.#xt;this.#xt=document.createElement("span"),this.#xt.classList.add("markedContent"),i.id&&this.#xt.setAttribute("id",`${i.id}`),t.append(this.#xt)}else"endMarkedContent"===i.type&&(this.#xt=this.#xt.parentNode)}}#ws(t){const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL,fontSize:0};this.#ls.push(e);const i=Va.transform(this.#ds,t.transform);let s=Math.atan2(i[1],i[0]);const r=this.#rs[t.fontName];r.vertical&&(s+=Math.PI/2);let a=this.#Yi&&r.fontSubstitution||r.fontFamily;a=Qc.fontFamilyMap.get(a)||a;const o=Math.hypot(i[2],i[3]),l=o*Qc.#xs(a,r,this.#Qi);let c,d;0===s?(c=i[4],d=i[5]-l):(c=i[4]+l*Math.sin(s),d=i[5]-l*Math.cos(s));const u="calc(var(--total-scale-factor) *",h=e.style;this.#xt===this.#ns?(h.left=`${(100*c/this.#ts).toFixed(2)}%`,h.top=`${(100*d/this.#Zi).toFixed(2)}%`):(h.left=`${u}${c.toFixed(2)}px)`,h.top=`${u}${d.toFixed(2)}px)`),h.fontSize=`${u}${(Qc.#fs*o).toFixed(2)}px)`,h.fontFamily=a,n.fontSize=o,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#Yi&&(e.dataset.fontName=r.fontSubstitutionLoadedName||t.fontName),0!==s&&(n.angle=s*(180/Math.PI));let p=!1;if(t.str.length>1)p=!0;else if(" "!==t.str&&t.transform[0]!==t.transform[3]){const e=Math.abs(t.transform[0]),n=Math.abs(t.transform[3]);e!==n&&Math.max(e,n)/Math.min(e,n)>1.5&&(p=!0)}if(p&&(n.canvasWidth=r.vertical?t.height:t.width),this.#cs.set(e,n),this.#Ji.div=e,this.#Ji.properties=n,this.#ys(this.#Ji),n.hasText&&this.#xt.append(e),n.hasEOL){const t=document.createElement("br");t.setAttribute("role","presentation"),this.#xt.append(t)}}#ys(t){const{div:e,properties:n,ctx:i}=t,{style:s}=e;let r="";if(Qc.#fs>1&&(r=`scale(${1/Qc.#fs})`),0!==n.canvasWidth&&n.hasText){const{fontFamily:t}=s,{canvasWidth:a,fontSize:o}=n;Qc.#_s(i,o*this.#ss,t);const{width:l}=i.measureText(e.textContent);l>0&&(r=`scaleX(${a*this.#ss/l}) ${r}`)}0!==n.angle&&(r=`rotate(${n.angle}deg) ${r}`),r.length>0&&(s.transform=r)}static cleanup(){if(!(this.#gs.size>0)){this.#us.clear();for(const{canvas:t}of this.#hs.values())t.remove();this.#hs.clear()}}static#bs(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.#hs.get(t||="");if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#hs.set(t,e),this.#ps.set(e,{size:0,family:""})}return e}static#_s(t,e,n){const i=this.#ps.get(t);e===i.size&&n===i.family||(t.font=`${e}px ${n}`,i.size=e,i.family=n)}static#ms(){if(null!==this.#fs)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#fs=t.getBoundingClientRect().height,t.remove()}static#xs(t,e,n){const i=this.#us.get(t);if(i)return i;const s=this.#bs(n);s.canvas.width=s.canvas.height=30,this.#_s(s,30,t);const r=s.measureText(""),a=r.fontBoundingBoxAscent,o=Math.abs(r.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let l=.8;return a?l=a/(a+o):(ja.platform.isFirefox&&Ca("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?l=e.ascent:e.descent&&(l=1+e.descent)),this.#us.set(t,l),l}}function Jc(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"===typeof t||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new Zc,{docId:n}=e,i=t.url?function(t){if(t instanceof URL)return t.href;if("string"===typeof t){if(Hr)return t;const e=URL.parse(t,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(t.url):null,s=t.data?function(t){if(Hr&&"undefined"!==typeof Buffer&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if("string"===typeof t)return Ua(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||"object"===typeof t&&!isNaN(t?.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(t.data):null,r=t.httpHeaders||null,a=!0===t.withCredentials,o=t.password??null,l=t.range instanceof td?t.range:null,c=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:65536;let d=t.worker instanceof id?t.worker:null;const u=t.verbosity,h="string"!==typeof t.docBaseUrl||io(t.docBaseUrl)?null:t.docBaseUrl,p=qo(t.cMapUrl),f=!1!==t.cMapPacked,g=t.CMapReaderFactory||(Hr?Sl:pl),m=qo(t.iccUrl),v=qo(t.standardFontDataUrl),b=t.StandardFontDataFactory||(Hr?kl:vl),y=qo(t.wasmUrl),w=t.WasmFactory||(Hr?Al:yl),x=!0!==t.stopAtErrors,_=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,S=!1!==t.isEvalSupported,k="boolean"===typeof t.isOffscreenCanvasSupported?t.isOffscreenCanvasSupported:!Hr,A="boolean"===typeof t.isImageDecoderSupported?t.isImageDecoderSupported:!Hr&&(ja.platform.isFirefox||!globalThis.chrome),C=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,E="boolean"===typeof t.disableFontFace?t.disableFontFace:Hr,T=!0===t.fontExtraProperties,P=!0===t.enableXfa,M=t.ownerDocument||globalThis.document,D=!0===t.disableRange,R=!0===t.disableStream,I=!0===t.disableAutoFetch,L=!0===t.pdfBug,O=t.CanvasFactory||(Hr?_l:ul),F=t.FilterFactory||(Hr?xl:gl),B=!0===t.enableHWA,N=!1!==t.useWasm,z=l?l.length:t.length??NaN,U="boolean"===typeof t.useSystemFonts?t.useSystemFonts:!Hr&&!E,j="boolean"===typeof t.useWorkerFetch?t.useWorkerFetch:!!(g===pl&&b===vl&&w===yl&&p&&v&&y&&ao(p,document.baseURI)&&ao(v,document.baseURI)&&ao(y,document.baseURI));Sa(u);const H={canvasFactory:new O({ownerDocument:M,enableHWA:B}),filterFactory:new F({docId:n,ownerDocument:M}),cMapReaderFactory:j?null:new g({baseUrl:p,isCompressed:f}),standardFontDataFactory:j?null:new b({baseUrl:v}),wasmFactory:j?null:new w({baseUrl:y})};d||(d=id.create({verbosity:u,port:_c.workerPort}),e._worker=d);const V={docId:n,apiVersion:"5.4.296",data:s,password:o,disableAutoFetch:I,rangeChunkSize:c,length:z,docBaseUrl:h,enableXfa:P,evaluatorOptions:{maxImageSize:_,disableFontFace:E,ignoreErrors:x,isEvalSupported:S,isOffscreenCanvasSupported:k,isImageDecoderSupported:A,canvasMaxAreaInBytes:C,fontExtraProperties:T,useSystemFonts:U,useWasm:N,useWorkerFetch:j,cMapUrl:p,iccUrl:m,standardFontDataUrl:v,wasmUrl:y}},$={ownerDocument:M,pdfBug:L,styleElement:null,loadingParams:{disableAutoFetch:I,enableXfa:P}};return d.promise.then((function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const t=d.messageHandler.sendWithPromise("GetDocRequest",V,s?[s.buffer]:null);let o;if(l)o=new Ec(l,{disableRange:D,disableStream:R});else if(!s){if(!i)throw new Error("getDocument - no `url` parameter provided.");const t=ao(i)?Nc:Hr?Gc:Hc;o=new t({url:i,length:z,httpHeaders:r,withCredentials:a,rangeChunkSize:c,disableRange:D,disableStream:R})}return t.then((t=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const i=new cl(n,t,d.port),s=new sd(i,e,o,$,H,B);e._transport=s,i.send("Ready",null)}))})).catch(e._capability.reject),e}class Zc{static#On=0;_capability=(()=>Promise.withResolvers())();_transport=null;_worker=null;docId=(()=>"d"+Zc.#On++)();destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await(this._transport?.destroy())}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class td{#Xi=(()=>Promise.withResolvers())();#Ss=[];#ks=[];#As=[];#Cs=[];constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=i}addRangeListener(t){this.#Cs.push(t)}addProgressListener(t){this.#As.push(t)}addProgressiveReadListener(t){this.#ks.push(t)}addProgressiveDoneListener(t){this.#Ss.push(t)}onDataRange(t,e){for(const n of this.#Cs)n(t,e)}onDataProgress(t,e){this.#Xi.promise.then((()=>{for(const n of this.#As)n(t,e)}))}onDataProgressiveRead(t){this.#Xi.promise.then((()=>{for(const e of this.#ks)e(t)}))}onDataProgressiveDone(){this.#Xi.promise.then((()=>{for(const t of this.#Ss)t()}))}transportReady(){this.#Xi.resolve()}requestDataRange(t,e){Ea("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class ed{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Da(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){let{intent:t="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class nd{#Es=!1;constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=i?new ro:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new Yc,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:s=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new eo({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:i,dontFlip:s})}getAnnotations(){let{intent:t="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Da(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render(t){let{canvasContext:e,canvas:n=e.canvas,viewport:i,intent:s="display",annotationMode:r=Zr.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:c=null,pageColors:d=null,printAnnotationStorage:u=null,isEditing:h=!1,recordOperations:p=!1,operationsFilter:f=null}=t;this._stats?.time("Overall");const g=this._transport.getRenderingIntent(s,r,u,h),{renderingIntent:m,cacheKey:v}=g;this.#Es=!1,l||=this._transport.getOptionalContentConfig(m);let b=this._intentStates.get(v);b||(b=Object.create(null),this._intentStates.set(v,b)),b.streamReaderCancelTimeout&&(clearTimeout(b.streamReaderCancelTimeout),b.streamReaderCancelTimeout=null);const y=!!(m&qr);b.displayReadyCapability||(b.displayReadyCapability=Promise.withResolvers(),b.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(g));const w=Boolean(this._pdfBug&&globalThis.StepperManager?.enabled),x=!this.recordedBBoxes&&(p||w),_=t=>{if(b.renderTasks.delete(S),x){const t=S.gfx?.dependencyTracker.take();t&&(S.stepper&&S.stepper.setOperatorBBoxes(t,S.gfx.dependencyTracker.takeDebugMetadata()),p&&(this.recordedBBoxes=t))}y&&(this.#Es=!0),this.#Ts(),t?(S.capability.reject(t),this._abortOperatorList({intentState:b,reason:t instanceof Error?t:new Error(t)})):S.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},S=new ad({callback:_,params:{canvas:n,canvasContext:e,dependencyTracker:x?new Il(n,b.operatorList.length,w):null,viewport:i,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:b.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:d,enableHWA:this._transport.enableHWA,operationsFilter:f});(b.renderTasks||=new Set).add(S);const k=S.task;return Promise.all([b.displayReadyCapability.promise,l]).then((t=>{let[e,n]=t;if(this.destroyed)_();else{if(this._stats?.time("Rendering"),!(n.renderingIntent&m))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");S.initializeGraphics({transparency:e,optionalContentConfig:n}),S.operatorListChanged()}})).catch(_),k}getOperatorList(){let{intent:t="display",annotationMode:e=Zr.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=this._transport.getRenderingIntent(t,e,n,i,!0);let r,a=this._intentStates.get(s.cacheKey);return a||(a=Object.create(null),this._intentStates.set(s.cacheKey,a)),a.opListReadCapability||(r=Object.create(null),r.operatorListChanged=function(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(r))},a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||=new Set).add(r),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(s)),a.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:t=!1,disableNormalization:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===t,disableNormalization:!0===e},{highWaterMark:100,size:t=>t.items.length})}getTextContent(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then((t=>Ya.textContent(t)));const e=this.streamTextContent(t);return new Promise((function(t,n){const i=e.getReader(),s={items:[],styles:Object.create(null),lang:null};!function e(){i.read().then((function(n){let{value:i,done:r}=n;r?t(s):(s.lang??=i.lang,Object.assign(s.styles,i.styles),s.items.push(...i.items),e())}),n)}()}))}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),this.#Es=!1,Promise.all(t)}cleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#Es=!0;const e=this.#Ts();return t&&e&&(this._stats&&=new ro),e}#Ts(){if(!this.#Es||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#Es=!1,!0}_startRenderPage(t,e){const n=this._intentStates.get(e);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let n=0,i=t.length;n<i;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&this.#Ts()}_pumpOperatorList(t){let{renderingIntent:e,cacheKey:n,annotationStorageSerializable:i,modifiedIds:s}=t;const{map:r,transfer:a}=i,o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:r,modifiedIds:s},a).getReader(),l=this._intentStates.get(n);l.streamReader=o;const c=()=>{o.read().then((t=>{let{value:e,done:n}=t;n?l.streamReader=null:this._transport.destroyed||(this._renderPageChunk(e,l),c())}),(t=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const t of l.renderTasks)t.operatorListChanged();this.#Ts()}if(l.displayReadyCapability)l.displayReadyCapability.reject(t);else{if(!l.opListReadCapability)throw t;l.opListReadCapability.reject(t)}}}))};c()}_abortOperatorList(t){let{intentState:e,reason:n,force:i=!1}=t;if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(n instanceof no){let t=100;return n.extraDelay>0&&n.extraDelay<1e3&&(t+=n.extraDelay),void(e.streamReaderCancelTimeout=setTimeout((()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})}),t))}}if(e.streamReader.cancel(new Na(n.message)).catch((()=>{})),e.streamReader=null,!this._transport.destroyed){for(const[t,n]of this._intentStates)if(n===e){this._intentStates.delete(t);break}this.cleanup()}}}get stats(){return this._stats}}class id{#Xi=(()=>Promise.withResolvers())();#Ps=null;#Ii=null;#Ms=null;static#Ds=0;static#Rs=!1;static#Is=(()=>new WeakMap)();static#Ls=(()=>{Hr&&(this.#Rs=!0,_c.workerSrc||="./pdf.worker.mjs"),this._isSameOrigin=(t,e)=>{const n=URL.parse(t);if(!n?.origin||"null"===n.origin)return!1;const i=new URL(e,n);return n.origin===i.origin},this._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},this.fromPort=t=>{var e;if(e="`PDFWorker.fromPort` - please use `PDFWorker.create` instead.",console.log("Deprecated API usage: "+e),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this.create(t)}})();constructor(){let{name:t=null,port:e=null,verbosity:n=ka()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.name=t,this.destroyed=!1,this.verbosity=n,e){if(id.#Is.has(e))throw new Error("Cannot use more than one PDFWorker per port.");id.#Is.set(e,this),this.#Os(e)}else this.#Fs()}get promise(){return this.#Xi.promise}#Bs(){this.#Xi.resolve(),this.#Ps.send("configure",{verbosity:this.verbosity})}get port(){return this.#Ii}get messageHandler(){return this.#Ps}#Os(t){this.#Ii=t,this.#Ps=new cl("main","worker",t),this.#Ps.on("ready",(()=>{})),this.#Bs()}#Fs(){if(id.#Rs||id.#Ns)return void this.#zs();let{workerSrc:t}=id;try{id._isSameOrigin(window.location,t)||(t=id._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new cl("main","worker",e),i=()=>{s.abort(),n.destroy(),e.terminate(),this.destroyed?this.#Xi.reject(new Error("Worker was destroyed")):this.#zs()},s=new AbortController;e.addEventListener("error",(()=>{this.#Ms||i()}),{signal:s.signal}),n.on("test",(t=>{s.abort(),!this.destroyed&&t?(this.#Ps=n,this.#Ii=e,this.#Ms=e,this.#Bs()):i()})),n.on("ready",(t=>{if(s.abort(),this.destroyed)i();else try{r()}catch{this.#zs()}}));const r=()=>{const t=new Uint8Array;n.send("test",t,[t.buffer])};return void r()}catch{Aa("The worker has been disabled.")}this.#zs()}#zs(){id.#Rs||(Ca("Setting up fake worker."),id.#Rs=!0),id._setupFakeWorkerGlobal.then((t=>{if(this.destroyed)return void this.#Xi.reject(new Error("Worker was destroyed"));const e=new Yo;this.#Ii=e;const n="fake"+id.#Ds++,i=new cl(n+"_worker",n,e);t.setup(i,e),this.#Ps=new cl(n,n+"_worker",e),this.#Bs()})).catch((t=>{this.#Xi.reject(new Error(`Setting up fake worker failed: "${t.message}".`))}))}destroy(){this.destroyed=!0,this.#Ms?.terminate(),this.#Ms=null,id.#Is.delete(this.#Ii),this.#Ii=null,this.#Ps?.destroy(),this.#Ps=null}static create(t){const e=this.#Is.get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new id(t)}static get workerSrc(){if(_c.workerSrc)return _c.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#Ns(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){return Da(this,"_setupFakeWorkerGlobal",(async()=>{if(this.#Ns)return this.#Ns;return(await import(this.workerSrc)).WorkerMessageHandler})())}}class sd{#Us=(()=>new Map)();#js=(()=>new Map)();#Hs=(()=>new Map)();#Vs=(()=>new Map)();#$s=null;constructor(t,e,n,i,s,r){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new Yc,this.fontLoader=new Wo({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=r,this.setupMessageHandler()}#Ws(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.#Us.get(t);if(n)return n;const i=this.messageHandler.sendWithPromise(t,e);return this.#Us.set(t,i),i}get annotationStorage(){return Da(this,"annotationStorage",new Vo)}getRenderingIntent(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zr.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=Gr,a=Ho;switch(t){case"any":r=Wr;break;case"display":break;case"print":r=qr;break;default:Ca(`getRenderingIntent - invalid intent: ${t}`)}const o=r&qr&&n instanceof $o?n:this.annotationStorage;switch(e){case Zr.DISABLE:r+=Yr;break;case Zr.ENABLE:break;case Zr.ENABLE_FORMS:r+=Xr;break;case Zr.ENABLE_STORAGE:r+=Kr,a=o.serializable;break;default:Ca(`getRenderingIntent - invalid annotationMode: ${e}`)}i&&(r+=Qr),s&&(r+=Jr);const{ids:l,hash:c}=o.modifiedIds;return{renderingIntent:r,cacheKey:[r,a.hash,c].join("_"),annotationStorageSerializable:a,modifiedIds:l}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#$s?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const n of this.#js.values())t.push(n._destroy());this.#js.clear(),this.#Hs.clear(),this.#Vs.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then((()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#Us.clear(),this.filterFactory.destroy(),Qc.cleanup(),this._networkStream?.cancelAllRequests(new Na("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",((t,e)=>{Ta(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=t=>{this._lastProgress={loaded:t.loaded,total:t.total}},e.onPull=()=>{this._fullReader.read().then((function(t){let{value:n,done:i}=t;i?e.close():(Ta(n instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),e.enqueue(new Uint8Array(n),1,[n]))})).catch((t=>{e.error(t)}))},e.onCancel=t=>{this._fullReader.cancel(t),e.ready.catch((t=>{if(!this.destroyed)throw t}))}})),t.on("ReaderHeadersReady",(async t=>{await this._fullReader.headersReady;const{isStreamingSupported:n,isRangeSupported:i,contentLength:s}=this._fullReader;return n&&i||(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=t=>{e.onProgress?.({loaded:t.loaded,total:t.total})}),{isStreamingSupported:n,isRangeSupported:i,contentLength:s}})),t.on("GetRangeReader",((t,e)=>{Ta(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(t.begin,t.end);n?(e.onPull=()=>{n.read().then((function(t){let{value:n,done:i}=t;i?e.close():(Ta(n instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),e.enqueue(new Uint8Array(n),1,[n]))})).catch((t=>{e.error(t)}))},e.onCancel=t=>{n.cancel(t),e.ready.catch((t=>{if(!this.destroyed)throw t}))}):e.close()})),t.on("GetDoc",(t=>{let{pdfInfo:n}=t;this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new ed(n,this))})),t.on("DocException",(t=>{e._capability.reject(ll(t))})),t.on("PasswordRequest",(t=>{this.#$s=Promise.withResolvers();try{if(!e.onPassword)throw ll(t);const n=t=>{t instanceof Error?this.#$s.reject(t):this.#$s.resolve({password:t})};e.onPassword(n,t.code)}catch(n){this.#$s.reject(n)}return this.#$s.promise})),t.on("DataLoaded",(t=>{e.onProgress?.({loaded:t.length,total:t.length}),this.downloadInfoCapability.resolve(t)})),t.on("StartRenderPage",(t=>{if(this.destroyed)return;this.#js.get(t.pageIndex)._startRenderPage(t.transparency,t.cacheKey)})),t.on("commonobj",(e=>{let[n,i,s]=e;if(this.destroyed)return null;if(this.commonObjs.has(n))return null;switch(i){case"Font":if("error"in s){const t=s.error;Ca(`Error during font loading: ${t}`),this.commonObjs.resolve(n,t);break}const e=new xc(s),r=this._params.pdfBug&&globalThis.FontInspector?.enabled?(t,e)=>globalThis.FontInspector.fontAdded(t,e):null,a=new Go(e,r,s.extra,s.charProcOperatorList);this.fontLoader.bind(a).catch((()=>t.sendWithPromise("FontFallback",{id:n}))).finally((()=>{!a.fontExtraProperties&&a.data&&a.clearData(),this.commonObjs.resolve(n,a)}));break;case"CopyLocalImage":const{imageRef:o}=s;Ta(o,"The imageRef must be defined.");for(const t of this.#js.values())for(const[,e]of t.objs)if(e?.ref===o)return e.dataLen?(this.commonObjs.resolve(n,structuredClone(e)),e.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null})),t.on("obj",(t=>{let[e,n,i,s]=t;if(this.destroyed)return;const r=this.#js.get(n);if(!r.objs.has(e))if(0!==r._intentStates.size)switch(i){case"Image":case"Pattern":r.objs.resolve(e,s);break;default:throw new Error(`Got unknown object type ${i}`)}else s?.bitmap?.close()})),t.on("DocProgress",(t=>{this.destroyed||e.onProgress?.({loaded:t.loaded,total:t.total})})),t.on("FetchBinaryData",(async t=>{if(this.destroyed)throw new Error("Worker was destroyed.");const e=this[t.type];if(!e)throw new Error(`${t.type} not initialized, see the \`useWorkerFetch\` parameter.`);return e.fetch(t)}))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Ca("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally((()=>{this.annotationStorage.resetModified()}))}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=this.#Hs.get(e);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then((n=>{if(this.destroyed)throw new Error("Transport destroyed");n.refStr&&this.#Vs.set(n.refStr,t);const i=new nd(e,n,this,this._params.pdfBug);return this.#js.set(e,i),i}));return this.#Hs.set(e,i),i}getPageIndex(t){return Xo(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#Ws("GetFieldObjects")}hasJSActions(){return this.#Ws("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return"string"!==typeof t?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return this.#Ws("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#Ws("GetOptionalContentConfig").then((e=>new Cc(e,t)))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#Us.get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then((t=>({info:t[0],metadata:t[1]?new Sc(t[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})));return this.#Us.set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of this.#js.values()){if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`)}this.commonObjs.clear(),t||this.fontLoader.clear(),this.#Us.clear(),this.filterFactory.destroy(!0),Qc.cleanup()}}cachedPageNumber(t){if(!Xo(t))return null;const e=0===t.gen?`${t.num}R`:`${t.num}R${t.gen}`;return this.#Vs.get(e)??null}}class rd{#Gs=null;onContinue=null;onError=null;constructor(t){this.#Gs=t}get promise(){return this.#Gs.capability.promise}cancel(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.#Gs.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#Gs.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#Gs;return t.form||t.canvas&&e?.size>0}}class ad{#qs=null;static#Xs=(()=>new WeakSet)();constructor(t){let{callback:e,params:n,objs:i,commonObjs:s,annotationCanvasMap:r,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:d=!1,pdfBug:u=!1,pageColors:h=null,enableHWA:p=!1,operationsFilter:f=null}=t;this.callback=e,this.params=n,this.objs=i,this.commonObjs=s,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=u,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===d&&"undefined"!==typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new rd(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvas,this._canvasContext=n.canvas?null:n.canvasContext,this._enableHWA=p,this._dependencyTracker=n.dependencyTracker,this._operationsFilter=f}get completed(){return this.capability.promise.catch((function(){}))}initializeGraphics(t){let{transparency:e=!1,optionalContentConfig:n}=t;if(this.cancelled)return;if(this._canvas){if(ad.#Xs.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");ad.#Xs.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:s,background:r,dependencyTracker:a}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new bc(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:r}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#qs&&(window.cancelAnimationFrame(this.#qs),this.#qs=null),ad.#Xs.delete(this._canvas),t||=new no(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){this.graphicsReady?(this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||=this._continueBound}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#qs=window.requestAnimationFrame((()=>{this.#qs=null,this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),ad.#Xs.delete(this._canvas),this.callback())))}}const od="5.4.296";class ld{#Ks=null;#Ys=null;#Qs;#Js=null;#Zs=!1;#tr=!1;#r=null;#er;#nr=null;#v=null;static#ir=null;static get _keyboardManager(){return Da(this,"_keyboardManager",new Mo([[["Escape","mac+Escape"],ld.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],ld.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],ld.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],ld.prototype._moveToPrevious],[["Home","mac+Home"],ld.prototype._moveToBeginning],[["End","mac+End"],ld.prototype._moveToEnd]]))}constructor(t){let{editor:e=null,uiManager:n=null}=t;e?(this.#tr=!1,this.#r=e):this.#tr=!0,this.#v=e?._uiManager||n,this.#er=this.#v._eventBus,this.#Qs=e?.color?.toUpperCase()||this.#v?.highlightColors.values().next().value||"#FFFF98",ld.#ir||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#Ks=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",this.#r&&(t.ariaControls=`${this.#r.id}_colorpicker_dropdown`);const e=this.#v._signal;t.addEventListener("click",this.#sr.bind(this),{signal:e}),t.addEventListener("keydown",this.#rr.bind(this),{signal:e});const n=this.#Ys=document.createElement("span");return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=this.#Qs,t.append(n),t}renderMainDropdown(){const t=this.#Js=this.#ar();return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}#ar(){const t=document.createElement("div"),e=this.#v._signal;t.addEventListener("contextmenu",oo,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#r&&(t.id=`${this.#r.id}_colorpicker_dropdown`);for(const[n,i]of this.#v.highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=n,s.setAttribute("data-l10n-id",ld.#ir[n]);const r=document.createElement("span");s.append(r),r.className="swatch",r.style.backgroundColor=i,s.ariaSelected=i===this.#Qs,s.addEventListener("click",this.#or.bind(this,i),{signal:e}),t.append(s)}return t.addEventListener("keydown",this.#rr.bind(this),{signal:e}),t}#or(t,e){e.stopPropagation(),this.#er.dispatch("switchannotationeditorparams",{source:this,type:na.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)}_colorSelectFromKeyboard(t){if(t.target===this.#Ks)return void this.#sr(t);const e=t.target.getAttribute("data-color");e&&this.#or(e,t)}_moveToNext(t){this.#lr?t.target!==this.#Ks?t.target.nextSibling?.focus():this.#Js.firstChild?.focus():this.#sr(t)}_moveToPrevious(t){t.target!==this.#Js?.firstChild&&t.target!==this.#Ks?(this.#lr||this.#sr(t),t.target.previousSibling?.focus()):this.#lr&&this._hideDropdownFromKeyboard()}_moveToBeginning(t){this.#lr?this.#Js.firstChild?.focus():this.#sr(t)}_moveToEnd(t){this.#lr?this.#Js.lastChild?.focus():this.#sr(t)}#rr(t){ld._keyboardManager.exec(this,t)}#sr(t){if(this.#lr)return void this.hideDropdown();if(this.#Zs=0===t.detail,this.#nr||(this.#nr=new AbortController,window.addEventListener("pointerdown",this.#h.bind(this),{signal:this.#v.combinedSignal(this.#nr)})),this.#Ks.ariaExpanded="true",this.#Js)return void this.#Js.classList.remove("hidden");const e=this.#Js=this.#ar();this.#Ks.append(e)}#h(t){this.#Js?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#Js?.classList.add("hidden"),this.#Ks.ariaExpanded="false",this.#nr?.abort(),this.#nr=null}get#lr(){return this.#Js&&!this.#Js.classList.contains("hidden")}_hideDropdownFromKeyboard(){this.#tr||(this.#lr?(this.hideDropdown(),this.#Ks.focus({preventScroll:!0,focusVisible:this.#Zs})):this.#r?.unselect())}updateColor(t){if(this.#Ys&&(this.#Ys.style.backgroundColor=t),!this.#Js)return;const e=this.#v.highlightColors.values();for(const n of this.#Js.children)n.ariaSelected=e.next().value===t.toUpperCase()}destroy(){this.#Ks?.remove(),this.#Ks=null,this.#Ys=null,this.#Js?.remove(),this.#Js=null}}class cd{#cr=null;#r=null;#v=null;static#ir=null;constructor(t){this.#r=t,this.#v=t._uiManager,cd.#ir||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#cr)return this.#cr;const{editorType:t,colorType:e,colorValue:n}=this.#r,i=this.#cr=document.createElement("input");return i.type="color",i.value=n||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",cd.#ir[t]),i.addEventListener("input",(()=>{this.#v.updateParams(e,i.value)}),{signal:this.#v._signal}),i}update(t){this.#cr&&(this.#cr.value=t)}destroy(){this.#cr?.remove(),this.#cr=null}hideDropdown(){}}function dd(t){return Math.floor(255*Math.max(0,Math.min(1,t))).toString(16).padStart(2,"0")}function ud(t){return Math.max(0,Math.min(255,255*t))}class hd{static CMYK_G(t){let[e,n,i,s]=t;return["G",1-Math.min(1,.3*e+.59*i+.11*n+s)]}static G_CMYK(t){let[e]=t;return["CMYK",0,0,0,1-e]}static G_RGB(t){let[e]=t;return["RGB",e,e,e]}static G_rgb(t){let[e]=t;return e=ud(e),[e,e,e]}static G_HTML(t){let[e]=t;const n=dd(e);return`#${n}${n}${n}`}static RGB_G(t){let[e,n,i]=t;return["G",.3*e+.59*n+.11*i]}static RGB_rgb(t){return t.map(ud)}static RGB_HTML(t){return`#${t.map(dd).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(t){let[e,n,i,s]=t;return["RGB",1-Math.min(1,e+s),1-Math.min(1,i+s),1-Math.min(1,n+s)]}static CMYK_rgb(t){let[e,n,i,s]=t;return[ud(1-Math.min(1,e+s)),ud(1-Math.min(1,i+s)),ud(1-Math.min(1,n+s))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK(t){let[e,n,i]=t;const s=1-e,r=1-n,a=1-i;return["CMYK",s,r,a,Math.min(s,r,a)]}}class pd{create(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${t}px`),i.setAttribute("height",`${e}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${t} ${e}`),i}createElement(t){if("string"!==typeof t)throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Ea("Abstract method `_createSVG` called.")}}class fd extends pd{_createSVG(t){return document.createElementNS(Ja,t)}}const gd=new WeakSet,md=60*(new Date).getTimezoneOffset()*1e3;class vd{static create(t){switch(t.data.annotationType){case da.LINK:return new wd(t);case da.TEXT:return new xd(t);case da.WIDGET:switch(t.data.fieldType){case"Tx":return new Sd(t);case"Btn":return t.data.radioButton?new Cd(t):t.data.checkBox?new Ad(t):new Ed(t);case"Ch":return new Td(t);case"Sig":return new kd(t)}return new _d(t);case da.POPUP:return new Pd(t);case da.FREETEXT:return new Dd(t);case da.LINE:return new Rd(t);case da.SQUARE:return new Id(t);case da.CIRCLE:return new Ld(t);case da.POLYLINE:return new Od(t);case da.CARET:return new Bd(t);case da.INK:return new Nd(t);case da.POLYGON:return new Fd(t);case da.HIGHLIGHT:return new zd(t);case da.UNDERLINE:return new Ud(t);case da.SQUIGGLY:return new jd(t);case da.STRIKEOUT:return new Hd(t);case da.STAMP:return new Vd(t);case da.FILEATTACHMENT:return new $d(t);default:return new bd(t)}}}class bd{#dr=null;#ur=!1;#hr=null;constructor(t){let{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData(t){let{contentsObj:e,richText:n}=t;return!(!e?.str&&!n?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return bd._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:t}=this,e=this.annotationStorage?.getEditor(t.id);return e?e.getData():t}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const t=this.annotationStorage?.getEditor(this.data.id);if(t)return t.commentButtonPositionInPage;const{quadPoints:e,inkLists:n,rect:i}=this.data;let s=-1/0,r=-1/0;if(e?.length>=8){for(let t=0;t<e.length;t+=8)e[t+1]>r?(r=e[t+1],s=e[t+2]):e[t+1]===r&&(s=Math.max(s,e[t+2]));return[s,r]}if(n?.length>=1){for(const t of n)for(let e=0,n=t.length;e<n;e+=2)t[e+1]>r?(r=t[e+1],s=t[e]):t[e+1]===r&&(s=Math.max(s,t[e]));if(s!==1/0)return[s,r]}return i?[i[2],i[3]]:null}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:i,pageX:s,pageY:r}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-s)/n,t[1]=100*(t[1]-r)/i,t}get commentText(){const{data:t}=this;return this.annotationStorage.getRawValue(`${ta}${t.id}`)?.popup?.contents||t.contentsObj?.str||""}set commentText(t){const{data:e}=this,n={deleted:!t,contents:t||""};this.annotationStorage.updateEditor(e.id,{popup:n})||this.annotationStorage.setValue(`${ta}${e.id}`,{id:e.id,annotationType:e.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:e.popupRef,modificationDate:new Date}),t||this.removePopup()}removePopup(){(this.#hr?.popup||this.popup)?.remove(),this.#hr=this.popup=null}updateEdited(t){if(!this.container)return;t.rect&&(this.#dr||={rect:this.data.rect.slice(0)});const{rect:e,popup:n}=t;e&&this.#pr(e);let i=this.#hr?.popup||this.popup;!i&&n?.text&&(this._createPopup(n),i=this.#hr.popup),i&&(i.updateEdited(t),n?.deleted&&(i.remove(),this.#hr=null,this.popup=null))}resetEdited(){this.#dr&&(this.#pr(this.#dr.rect),this.#hr?.popup.resetEdited(),this.#dr=null)}#pr(t){const{container:{style:e},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:r,pageX:a,pageY:o}}}}=this;n?.splice(0,4,...t),e.left=100*(t[0]-a)/s+"%",e.top=100*(r-t[3]+o)/r+"%",0===i?(e.width=100*(t[2]-t[0])/s+"%",e.height=100*(t[3]-t[1])/r+"%"):this.setRotation(i)}_createContainer(t){const{data:e,parent:{page:n,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",e.id),this instanceof _d||this instanceof wd||(s.tabIndex=0);const{style:r}=s;if(r.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(s.title=e.alternativeText),e.noRotate&&s.classList.add("norotate"),!e.rect||this instanceof Pd){const{rotation:t}=e;return e.hasOwnCanvas||0===t||this.setRotation(t,s),s}const{width:a,height:o}=this;if(!t&&e.borderStyle.width>0){r.borderWidth=`${e.borderStyle.width}px`;const t=e.borderStyle.horizontalCornerRadius,n=e.borderStyle.verticalCornerRadius;if(t>0||n>0){const e=`calc(${t}px * var(--total-scale-factor)) / calc(${n}px * var(--total-scale-factor))`;r.borderRadius=e}else if(this instanceof Cd){const t=`calc(${a}px * var(--total-scale-factor)) / calc(${o}px * var(--total-scale-factor))`;r.borderRadius=t}switch(e.borderStyle.style){case ua:r.borderStyle="solid";break;case ha:r.borderStyle="dashed";break;case pa:Ca("Unimplemented border style: beveled");break;case fa:Ca("Unimplemented border style: inset");break;case ga:r.borderBottomStyle="solid"}const i=e.borderColor||null;i?(this.#ur=!0,r.borderColor=Va.makeHexColor(0|i[0],0|i[1],0|i[2])):r.borderWidth=0}const l=Va.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:c,pageHeight:d,pageX:u,pageY:h}=i.rawDims;r.left=100*(l[0]-u)/c+"%",r.top=100*(l[1]-h)/d+"%";const{rotation:p}=e;return e.hasOwnCanvas||0===p?(r.width=100*a/c+"%",r.height=100*o/d+"%"):this.setRotation(p,s),s}setRotation(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:r}=this;t%180!==0&&([s,r]=[r,s]),e.style.width=100*s/n+"%",e.style.height=100*r/i+"%",e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(t,e,n)=>{const i=n.detail[t],s=i[0],r=i.slice(1);n.target.style[e]=hd[`${s}_HTML`](r),this.annotationStorage.setValue(this.data.id,{[e]:hd[`${s}_rgb`](r)})};return Da(this,"_commonActions",{display:t=>{const{display:e}=t.detail,n=e%2===1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:1===e||2===e})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:e}=t.detail;this.container.style.visibility=e?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:e,noView:e})},focus:t=>{setTimeout((()=>t.target.focus({preventScroll:!1})),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:t=>{const e=t.detail.rotation;this.setRotation(e),this.annotationStorage.setValue(this.data.id,{rotation:e})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const i of Object.keys(e.detail)){const s=t[i]||n[i];s?.(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[i,s]of Object.entries(e)){const r=n[i];if(r){r({detail:{[i]:s},target:t}),delete e[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,i,s]=this.data.rect.map((t=>Math.fround(t)));if(8===t.length){const[r,a,o,l]=t.subarray(2,6);if(i===r&&s===a&&e===o&&n===l)return}const{style:r}=this.container;let a;if(this.#ur){const{borderColor:t,borderWidth:e}=r;r.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${t}" stroke-width="${e}">`],this.container.classList.add("hasBorder")}const o=i-e,l=s-n,{svgFactory:c}=this,d=c.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0),d.role="none";const u=c.createElement("defs");d.append(u);const h=c.createElement("clipPath"),p=`clippath_${this.data.id}`;h.setAttribute("id",p),h.setAttribute("clipPathUnits","objectBoundingBox"),u.append(h);for(let f=2,g=t.length;f<g;f+=8){const n=t[f],i=t[f+1],r=t[f+2],d=t[f+3],u=c.createElement("rect"),p=(r-e)/o,g=(s-i)/l,m=(n-r)/o,v=(i-d)/l;u.setAttribute("x",p),u.setAttribute("y",g),u.setAttribute("width",m),u.setAttribute("height",v),h.append(u),a?.push(`<rect vector-effect="non-scaling-stroke" x="${p}" y="${g}" width="${m}" height="${v}"/>`)}this.#ur&&(a.push("</g></svg>')"),r.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${p})`}_createPopup(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const{data:e}=this;let n,i;t?(n={str:t.text},i=t.date):(n=e.contentsObj,i=e.modificationDate);const s=this.#hr=new Pd({data:{color:e.color,titleObj:e.titleObj,modificationDate:i,contentsObj:n,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]});this.parent._commentManager||this.parent.div.append(s.render())}get hasPopupElement(){return!!(this.#hr||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#hr}render(){Ea("Abstract method `AnnotationElement.render` called")}_getElementsByName(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];if(this._fieldObjects){const i=this._fieldObjects[t];if(i)for(const{page:t,id:s,exportValues:r}of i){if(-1===t)continue;if(s===e)continue;const i="string"===typeof r?r:null,a=document.querySelector(`[data-element-id="${s}"]`);!a||gd.has(a)?n.push({id:s,exportValue:i,domElement:a}):Ca(`_getElementsByName - element not allowed: ${s}`)}return n}for(const i of document.getElementsByName(t)){const{exportValue:t}=i,s=i.getAttribute("data-element-id");s!==e&&(gd.has(i)&&n.push({id:s,exportValue:t,domElement:i}))}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",(()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})}))}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class yd extends bd{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.editor=t.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:t}=this;t.hasComment&&(this._createPopup(t.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(t){this.editor.comment=t,t||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}class wd extends bd{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let i=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),i=!0):t.action?(this._bindNamedAction(n,t.action,t.overlaidText),i=!0):t.attachment?(this.#fr(n,t.attachment,t.overlaidText,t.attachmentDest),i=!0):t.setOCGState?(this.#gr(n,t.setOCGState,t.overlaidText),i=!0):t.dest?(this._bindLink(n,t.dest,t.overlaidText),i=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),i=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(n,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(n),this.container}#mr(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||""===e)&&this.#mr(),n&&(t.title=n)}_bindNamedAction(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),n&&(t.title=n),this.#mr()}#fr(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t.href=this.linkService.getAnchorUrl(""),e.description?t.title=e.description:n&&(t.title=n),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,i),!1),this.#mr()}#gr(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),n&&(t.title=n),this.#mr()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(e.actions)){const s=n.get(i);s&&(t[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:i}}),!1))}e.overlaidText&&(t.title=e.overlaidText),t.onclick||(t.onclick=()=>!1),this.#mr()}_bindResetFormAction(t,e){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),this.#mr(),!this._fieldObjects)return Ca('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(t.onclick=()=>!1));t.onclick=()=>{n?.();const{fields:t,refs:i,include:s}=e,r=[];if(0!==t.length||0!==i.length){const e=new Set(i);for(const n of t){const t=this._fieldObjects[n]||[];for(const{id:n}of t)e.add(n)}for(const t of Object.values(this._fieldObjects))for(const n of t)e.has(n.id)===s&&r.push(n)}else for(const e of Object.values(this._fieldObjects))r.push(...e);const a=this.annotationStorage,o=[];for(const e of r){const{id:t}=e;switch(o.push(t),e.type){case"text":{const n=e.defaultValue||"";a.setValue(t,{value:n});break}case"checkbox":case"radiobutton":{const n=e.defaultValue===e.exportValues;a.setValue(t,{value:n});break}case"combobox":case"listbox":{const n=e.defaultValue||"";a.setValue(t,{value:n});break}default:continue}const n=document.querySelector(`[data-element-id="${t}"]`);n&&(gd.has(n)?n.dispatchEvent(new Event("resetform")):Ca(`_bindResetFormAction - element not allowed: ${t}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:o,name:"ResetForm"}}),!1}}}class xd extends bd{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class _d extends bd{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&("CANVAS"===t.previousSibling?.nodeName&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return ja.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,i,s){n.includes("mouse")?t.addEventListener(n,(t=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(t),shift:t.shiftKey,modifier:this._getKeyModifier(t)}})})):t.addEventListener(n,(t=>{if("blur"===n){if(!e.focused||!t.relatedTarget)return;e.focused=!1}else if("focus"===n){if(e.focused)return;e.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(t)}})}))}_setEventListeners(t,e,n,i){for(const[s,r]of n)("Action"===r||this.data.actions?.[r])&&("Focus"!==r&&"Blur"!==r||(e||={focused:!1}),this._setEventListener(t,e,s,r,i),"Focus"!==r||this.data.actions?.Blur?"Blur"!==r||this.data.actions?.Focus||this._setEventListener(t,e,"focus","Focus",null):this._setEventListener(t,e,"blur","Blur",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=null===e?"transparent":Va.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||9,s=t.style;let r;const a=t=>Math.round(10*t)/10;if(this.data.multiLine){const t=Math.abs(this.data.rect[3]-this.data.rect[1]-2),e=t/(Math.round(t/($r*i))||1);r=Math.min(i,a(e/$r))}else{const t=Math.abs(this.data.rect[3]-this.data.rect[1]-2);r=Math.min(i,a(t/$r))}s.fontSize=`calc(${r}px * var(--total-scale-factor))`,s.color=Va.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(s.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class Sd extends _d{constructor(t){super(t,{isRenderable:t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue})}setPropertyOnSiblings(t,e,n,i){const s=this.annotationStorage;for(const r of this._getElementsByName(t.name,t.id))r.domElement&&(r.domElement[e]=n),s.setValue(r.id,{[i]:n})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const i=t.getValue(e,{value:this.data.fieldValue});let s=i.value||"";const r=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;r&&s.length>r&&(s=s.slice(0,r));let a=i.formattedValue||this.data.textContent?.join("\n")||null;a&&this.data.comb&&(a=a.replaceAll(/\s+/g,""));const o={userValue:s,formattedValue:a,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=a??s,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",a??s),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),gd.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:l,datetimeType:c,timeStep:d}=this.data,u=!!c&&this.enableScripting;l&&(n.title=l),this._setRequired(n,this.data.required),r&&(n.maxLength=r),n.addEventListener("input",(i=>{t.setValue(e,{value:i.target.value}),this.setPropertyOnSiblings(n,"value",i.target.value,"value"),o.formattedValue=null})),n.addEventListener("resetform",(t=>{const e=this.data.defaultFieldValue??"";n.value=o.userValue=e,o.formattedValue=null}));let h=t=>{const{formattedValue:e}=o;null!==e&&void 0!==e&&(t.target.value=e),t.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",(t=>{if(o.focused)return;const{target:e}=t;if(u&&(e.type=c,d&&(e.step=d)),o.userValue){const t=o.userValue;if(u)if("time"===c){const n=new Date(t),i=[n.getHours(),n.getMinutes(),n.getSeconds()];e.value=i.map((t=>t.toString().padStart(2,"0"))).join(":")}else e.value=new Date(t-md).toISOString().split("date"===c?"T":".",1)[0];else e.value=t}o.lastCommittedValue=e.value,o.commitKey=1,this.data.actions?.Focus||(o.focused=!0)})),n.addEventListener("updatefromsandbox",(n=>{this.showElementAndHideCanvas(n.target);const i={value(n){o.userValue=n.detail.value??"",u||t.setValue(e,{value:o.userValue.toString()}),n.target.value=o.userValue},formattedValue(n){const{formattedValue:i}=n.detail;o.formattedValue=i,null!==i&&void 0!==i&&n.target!==document.activeElement&&(n.target.value=i);const s={formattedValue:i};u&&(s.value=i),t.setValue(e,s)},selRange(t){t.target.setSelectionRange(...t.detail.selRange)},charLimit:n=>{const{charLimit:i}=n.detail,{target:s}=n;if(0===i)return void s.removeAttribute("maxLength");s.setAttribute("maxLength",i);let r=o.userValue;!r||r.length<=i||(r=r.slice(0,i),s.value=o.userValue=r,t.setValue(e,{value:r}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:r,willCommit:!0,commitKey:1,selStart:s.selectionStart,selEnd:s.selectionEnd}}))}};this._dispatchEventFromSandbox(i,n)})),n.addEventListener("keydown",(t=>{o.commitKey=1;let n=-1;if("Escape"===t.key?n=0:"Enter"!==t.key||this.data.multiLine?"Tab"===t.key&&(o.commitKey=3):n=2,-1===n)return;const{value:i}=t.target;o.lastCommittedValue!==i&&(o.lastCommittedValue=i,o.userValue=i,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:i,willCommit:!0,commitKey:n,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}))}));const i=h;h=null,n.addEventListener("blur",(t=>{if(!o.focused||!t.relatedTarget)return;this.data.actions?.Blur||(o.focused=!1);const{target:n}=t;let{value:s}=n;if(u){if(s&&"time"===c){const t=s.split(":").map((t=>parseInt(t,10)));s=new Date(2e3,0,1,t[0],t[1],t[2]||0).valueOf(),n.step=""}else s.includes("T")||(s=`${s}T00:00`),s=new Date(s).valueOf();n.type="text"}o.userValue=s,o.lastCommittedValue!==s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:s,willCommit:!0,commitKey:o.commitKey,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}),i(t)})),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",(t=>{o.lastCommittedValue=null;const{data:n,target:i}=t,{value:s,selectionStart:r,selectionEnd:a}=i;let l=r,c=a;switch(t.inputType){case"deleteWordBackward":{const t=s.substring(0,r).match(/\w*[^\w]*$/);t&&(l-=t[0].length);break}case"deleteWordForward":{const t=s.substring(r).match(/^[^\w]*\w*/);t&&(c+=t[0].length);break}case"deleteContentBackward":r===a&&(l-=1);break;case"deleteContentForward":r===a&&(c+=1)}t.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:s,change:n||"",willCommit:!1,selStart:l,selEnd:c}})})),this._setEventListeners(n,o,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(t=>t.target.value))}if(h&&n.addEventListener("blur",h),this.data.comb){const t=(this.data.rect[2]-this.data.rect[0])/r;n.classList.add("comb"),n.style.letterSpacing=`calc(${t}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class kd extends _d{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class Ad extends _d{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let i=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;"string"===typeof i&&(i="Off"!==i,t.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return gd.add(s),s.setAttribute("data-element-id",n),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=e.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",e.exportValue),s.tabIndex=0,s.addEventListener("change",(i=>{const{name:s,checked:r}=i.target;for(const a of this._getElementsByName(s,n)){const n=r&&a.exportValue===e.exportValue;a.domElement&&(a.domElement.checked=n),t.setValue(a.id,{value:n})}t.setValue(n,{value:r})})),s.addEventListener("resetform",(t=>{const n=e.defaultFieldValue||"Off";t.target.checked=n===e.exportValue})),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",(e=>{const i={value(e){e.target.checked="Off"!==e.detail.value,t.setValue(n,{value:e.target.checked})}};this._dispatchEventFromSandbox(i,e)})),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(t=>t.target.checked))),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Cd extends _d{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let i=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if("string"===typeof i&&(i=i!==e.buttonValue,t.setValue(n,{value:i})),i)for(const r of this._getElementsByName(e.fieldName,n))t.setValue(r.id,{value:!1});const s=document.createElement("input");if(gd.add(s),s.setAttribute("data-element-id",n),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=e.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",(e=>{const{name:i,checked:s}=e.target;for(const r of this._getElementsByName(i,n))t.setValue(r.id,{value:!1});t.setValue(n,{value:s})})),s.addEventListener("resetform",(t=>{const n=e.defaultFieldValue;t.target.checked=null!==n&&void 0!==n&&n===e.buttonValue})),this.enableScripting&&this.hasJSActions){const i=e.buttonValue;s.addEventListener("updatefromsandbox",(e=>{const s={value:e=>{const s=i===e.detail.value;for(const i of this._getElementsByName(e.target.name)){const e=s&&i.id===n;i.domElement&&(i.domElement.checked=e),t.setValue(i.id,{value:e})}}};this._dispatchEventFromSandbox(s,e)})),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(t=>t.target.checked))}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Ed extends wd{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",(t=>{this._dispatchEventFromSandbox({},t)}))),t}}class Td extends _d{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),i=document.createElement("select");gd.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",(t=>{const e=this.data.defaultFieldValue;for(const n of i.options)n.selected=n.value===e}));for(const c of this.data.options){const t=document.createElement("option");t.textContent=c.displayValue,t.value=c.exportValue,n.value.includes(c.exportValue)&&(t.setAttribute("selected",!0),s=!1),i.append(t)}let r=null;if(s){const t=document.createElement("option");t.value=" ",t.setAttribute("hidden",!0),t.setAttribute("selected",!0),i.prepend(t),r=()=>{t.remove(),i.removeEventListener("input",r),r=null},i.addEventListener("input",r)}const a=t=>{const e=t?"value":"textContent",{options:n,multiple:s}=i;return s?Array.prototype.filter.call(n,(t=>t.selected)).map((t=>t[e])):-1===n.selectedIndex?null:n[n.selectedIndex][e]};let o=a(!1);const l=t=>{const e=t.target.options;return Array.prototype.map.call(e,(t=>({displayValue:t.textContent,exportValue:t.value})))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",(n=>{const s={value(n){r?.();const s=n.detail.value,l=new Set(Array.isArray(s)?s:[s]);for(const t of i.options)t.selected=l.has(t.value);t.setValue(e,{value:a(!0)}),o=a(!1)},multipleSelection(t){i.multiple=!0},remove(n){const s=i.options,r=n.detail.remove;if(s[r].selected=!1,i.remove(r),s.length>0){-1===Array.prototype.findIndex.call(s,(t=>t.selected))&&(s[0].selected=!0)}t.setValue(e,{value:a(!0),items:l(n)}),o=a(!1)},clear(n){for(;0!==i.length;)i.remove(0);t.setValue(e,{value:null,items:[]}),o=a(!1)},insert(n){const{index:s,displayValue:r,exportValue:c}=n.detail.insert,d=i.children[s],u=document.createElement("option");u.textContent=r,u.value=c,d?d.before(u):i.append(u),t.setValue(e,{value:a(!0),items:l(n)}),o=a(!1)},items(n){const{items:s}=n.detail;for(;0!==i.length;)i.remove(0);for(const t of s){const{displayValue:e,exportValue:n}=t,s=document.createElement("option");s.textContent=e,s.value=n,i.append(s)}i.options.length>0&&(i.options[0].selected=!0),t.setValue(e,{value:a(!0),items:l(n)}),o=a(!1)},indices(n){const i=new Set(n.detail.indices);for(const t of n.target.options)t.selected=i.has(t.index);t.setValue(e,{value:a(!0)}),o=a(!1)},editable(t){t.target.disabled=!t.detail.editable}};this._dispatchEventFromSandbox(s,n)})),i.addEventListener("input",(n=>{const i=a(!0),s=a(!1);t.setValue(e,{value:i}),n.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:o,change:s,changeEx:i,willCommit:!1,commitKey:1,keyDown:!1}})})),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],(t=>t.target.value))):i.addEventListener("input",(function(n){t.setValue(e,{value:a(!0)})})),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Pd extends bd{constructor(t){const{data:e,elements:n,parent:i}=t,s=!!i._commentManager;if(super(t,{isRenderable:!s&&bd._hasPopupData(e)}),this.elements=n,s&&bd._hasPopupData(e)){const t=this.popup=this.#vr();for(const e of n)e.popup=t}else this.popup=null}#vr(){return new Md({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=this.#vr(),n=[];for(const i of this.elements)i.popup=e,i.container.ariaHasPopup="dialog",n.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",n.map((t=>`${qa}${t}`)).join(",")),this.container}}class Md{#z=null;#br=this.#rr.bind(this);#yr=this.#wr.bind(this);#xr=this.#_r.bind(this);#Sr=this.#kr.bind(this);#Ar=null;#xt=null;#Cr=null;#Er=null;#Tr=null;#Pr=null;#Mr=null;#Dr=!1;#Rr=null;#Ir=null;#T=null;#Lr=null;#Or=null;#pe=null;#Fr=null;#ce=null;#Br=null;#dr=null;#Nr=!1;#zr=null;#Ur=null;constructor(t){let{container:e,color:n,elements:i,titleObj:s,modificationDate:r,contentsObj:a,richText:o,parent:l,rect:c,parentRect:d,open:u,commentManager:h=null}=t;this.#xt=e,this.#Br=s,this.#Cr=a,this.#ce=o,this.#Pr=l,this.#Ar=n,this.#Fr=c,this.#Mr=d,this.#Tr=i,this.#z=h,this.#zr=i[0],this.#Er=co.toDateObject(r),this.trigger=i.flatMap((t=>t.getElementsToTriggerPopup())),h?this.renderCommentButton():(this.#jr(),this.#xt.hidden=!0,u&&this.#kr())}#jr(){if(this.#Ir)return;this.#Ir=new AbortController;const{signal:t}=this.#Ir;for(const e of this.trigger)e.addEventListener("click",this.#Sr,{signal:t}),e.addEventListener("pointerenter",this.#xr,{signal:t}),e.addEventListener("pointerleave",this.#yr,{signal:t}),e.classList.add("popupTriggerArea");for(const e of this.#Tr)e.container?.addEventListener("keydown",this.#br,{signal:t})}#Hr(){const t=this.#Tr.find((t=>t.hasCommentButton));t&&(this.#Or=t._normalizePoint(t.commentButtonPosition))}renderCommentButton(){if(this.#Lr)return;if(this.#Or||this.#Hr(),!this.#Or)return;const{signal:t}=this.#Ir=new AbortController,e=!!this.#zr.extraPopupElement,n=()=>{this.#z.toggleCommentPopup(this,!0,void 0,!e)},i=()=>{this.#z.toggleCommentPopup(this,!1,!0,!e)},s=()=>{this.#z.toggleCommentPopup(this,!1,!1)};if(e){this.#Lr=this.#zr.container;for(const e of this.trigger)e.ariaHasPopup="dialog",e.ariaControls="commentPopup",e.addEventListener("keydown",this.#br,{signal:t}),e.addEventListener("click",n,{signal:t}),e.addEventListener("pointerenter",i,{signal:t}),e.addEventListener("pointerleave",s,{signal:t}),e.classList.add("popupTriggerArea")}else{const e=this.#Lr=document.createElement("button");e.className="annotationCommentButton";const r=this.#zr.container;e.style.zIndex=r.style.zIndex+1,e.tabIndex=0,e.ariaHasPopup="dialog",e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#Vr(),this.#$r(),e.addEventListener("keydown",this.#br,{signal:t}),e.addEventListener("click",n,{signal:t}),e.addEventListener("pointerenter",i,{signal:t}),e.addEventListener("pointerleave",s,{signal:t}),r.after(e)}}#$r(){if(this.#zr.extraPopupElement&&!this.#zr.editor)return;this.renderCommentButton();const[t,e]=this.#Or,{style:n}=this.#Lr;n.left=`calc(${t}%)`,n.top=`calc(${e}% - var(--comment-button-dim))`}#Vr(){this.#zr.extraPopupElement||(this.renderCommentButton(),this.#Lr.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:t,opacity:e}=this.#zr.commentData;return t?this.#Pr._commentManager.makeCommentColor(t,e):null}focusCommentButton(){setTimeout((()=>{this.#Lr?.focus()}),0)}getData(){const{richText:t,color:e,opacity:n,creationDate:i,modificationDate:s}=this.#zr.commentData;return{contentsObj:{str:this.comment},richText:t,color:e,opacity:n,creationDate:i,modificationDate:s}}get elementBeforePopup(){return this.#Lr}get comment(){return this.#Ur||=this.#zr.commentText,this.#Ur}set comment(t){t!==this.comment&&(this.#zr.commentText=this.#Ur=t)}get parentBoundingClientRect(){return this.#zr.layer.getBoundingClientRect()}setCommentButtonStates(t){let{selected:e,hasPopup:n}=t;this.#Lr&&(this.#Lr.classList.toggle("selected",e),this.#Lr.ariaExpanded=n)}setSelectedCommentButton(t){this.#Lr.classList.toggle("selected",t)}get commentPopupPosition(){if(this.#pe)return this.#pe;const{x:t,y:e,height:n}=this.#Lr.getBoundingClientRect(),{x:i,y:s,width:r,height:a}=this.#zr.layer.getBoundingClientRect();return[(t-i)/r,(e+n-s)/a]}set commentPopupPosition(t){this.#pe=t}hasDefaultPopupPosition(){return null===this.#pe}get commentButtonPosition(){return this.#Or}get commentButtonWidth(){return this.#Lr.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(t){const[e,n]=this.#pe||this.commentButtonPosition.map((t=>t/100)),i=this.parentBoundingClientRect,{x:s,y:r,width:a,height:o}=i;this.#z.showDialog(null,this,s+e*a,r+n*o,{...t,parentDimensions:i})}render(){if(this.#Rr)return;const t=this.#Rr=document.createElement("div");if(t.className="popup",this.#Ar){const e=t.style.outlineColor=Va.makeHexColor(...this.#Ar);t.style.backgroundColor=`color-mix(in srgb, ${e} 30%, white)`}const e=document.createElement("span");if(e.className="header",this.#Br?.str){const t=document.createElement("span");t.className="title",e.append(t),({dir:t.dir,str:t.textContent}=this.#Br)}if(t.append(e),this.#Er){const t=document.createElement("time");t.className="popupDate",t.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),t.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#Er.valueOf()})),t.dateTime=this.#Er.toISOString(),e.append(t)}So({html:this.#Wr||this.#Cr.str,dir:this.#Cr?.dir,className:"popupContent"},t),this.#xt.append(t)}get#Wr(){const t=this.#ce,e=this.#Cr;return!t?.str||e?.str&&e.str!==t.str?null:this.#ce.html||null}get#Gr(){return this.#Wr?.attributes?.style?.fontSize||0}get#qr(){return this.#Wr?.attributes?.style?.color||null}#Xr(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},i={style:{color:this.#qr,fontSize:this.#Gr?`calc(${this.#Gr}px * var(--total-scale-factor))`:""}};for(const s of t.split("\n"))e.push({name:"span",value:s,attributes:i});return n}#rr(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||("Enter"===t.key||"Escape"===t.key&&this.#Dr)&&this.#kr()}updateEdited(t){let{rect:e,popup:n,deleted:i}=t;if(this.#z)return i?(this.remove(),this.#Ur=null):n&&(n.deleted?this.remove():(this.#Vr(),this.#Ur=n.text)),void(e&&(this.#Or=null,this.#Hr(),this.#$r()));i||n?.deleted?this.remove():(this.#jr(),this.#dr||={contentsObj:this.#Cr,richText:this.#ce},e&&(this.#T=null),n&&n.text&&(this.#ce=this.#Xr(n.text),this.#Er=co.toDateObject(n.date),this.#Cr=null),this.#Rr?.remove(),this.#Rr=null)}resetEdited(){this.#dr&&(({contentsObj:this.#Cr,richText:this.#ce}=this.#dr),this.#dr=null,this.#Rr?.remove(),this.#Rr=null,this.#T=null)}remove(){if(this.#Ir?.abort(),this.#Ir=null,this.#Rr?.remove(),this.#Rr=null,this.#Nr=!1,this.#Dr=!1,this.#Lr?.remove(),this.#Lr=null,this.trigger)for(const t of this.trigger)t.classList.remove("popupTriggerArea")}#Kr(){if(null!==this.#T)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:i,pageY:s}}}=this.#Pr;let r=!!this.#Mr,a=r?this.#Mr:this.#Fr;for(const h of this.#Tr)if(!a||null!==Va.intersect(h.data.rect,a)){a=h.data.rect,r=!0;break}const o=Va.normalizeRect([a[0],t[3]-a[1]+t[1],a[2],t[3]-a[3]+t[1]]),l=r?a[2]-a[0]+5:0,c=o[0]+l,d=o[1];this.#T=[100*(c-i)/e,100*(d-s)/n];const{style:u}=this.#xt;u.left=`${this.#T[0]}%`,u.top=`${this.#T[1]}%`}#kr(){this.#z?this.#z.toggleCommentPopup(this,!1):(this.#Dr=!this.#Dr,this.#Dr?(this.#_r(),this.#xt.addEventListener("click",this.#Sr),this.#xt.addEventListener("keydown",this.#br)):(this.#wr(),this.#xt.removeEventListener("click",this.#Sr),this.#xt.removeEventListener("keydown",this.#br)))}#_r(){this.#Rr||this.render(),this.isVisible?this.#Dr&&this.#xt.classList.add("focused"):(this.#Kr(),this.#xt.hidden=!1,this.#xt.style.zIndex=parseInt(this.#xt.style.zIndex)+1e3)}#wr(){this.#xt.classList.remove("focused"),!this.#Dr&&this.isVisible&&(this.#xt.hidden=!0,this.#xt.style.zIndex=parseInt(this.#xt.style.zIndex)-1e3)}forceHide(){this.#Nr=this.isVisible,this.#Nr&&(this.#xt.hidden=!0)}maybeShow(){this.#z||(this.#jr(),this.#Nr&&(this.#Rr||this.#_r(),this.#Nr=!1,this.#xt.hidden=!1))}get isVisible(){return!this.#z&&!1===this.#xt.hidden}}class Dd extends bd{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=ea.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class Rd extends bd{#Yr=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:n}=this,i=this.svgFactory.create(e,n,!0),s=this.#Yr=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),s.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),s.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),s.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),s.setAttribute("stroke-width",t.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Yr}addHighlightArea(){this.container.classList.add("highlightArea")}}class Id extends bd{#Qr=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:n}=this,i=this.svgFactory.create(e,n,!0),s=t.borderStyle.width,r=this.#Qr=this.svgFactory.createElement("svg:rect");return r.setAttribute("x",s/2),r.setAttribute("y",s/2),r.setAttribute("width",e-s),r.setAttribute("height",n-s),r.setAttribute("stroke-width",s||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),i.append(r),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Qr}addHighlightArea(){this.container.classList.add("highlightArea")}}class Ld extends bd{#Jr=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:n}=this,i=this.svgFactory.create(e,n,!0),s=t.borderStyle.width,r=this.#Jr=this.svgFactory.createElement("svg:ellipse");return r.setAttribute("cx",e/2),r.setAttribute("cy",n/2),r.setAttribute("rx",e/2-s/2),r.setAttribute("ry",n/2-s/2),r.setAttribute("stroke-width",s||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),i.append(r),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Jr}addHighlightArea(){this.container.classList.add("highlightArea")}}class Od extends bd{#Zr=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:n,popupRef:i},width:s,height:r}=this;if(!e)return this.container;const a=this.svgFactory.create(s,r,!0);let o=[];for(let c=0,d=e.length;c<d;c+=2){const n=e[c]-t[0],i=t[3]-e[c+1];o.push(`${n},${i}`)}o=o.join(" ");const l=this.#Zr=this.svgFactory.createElement(this.svgElementName);return l.setAttribute("points",o),l.setAttribute("stroke-width",n.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Zr}addHighlightArea(){this.container.classList.add("highlightArea")}}class Fd extends Od{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Bd extends bd{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Nd extends bd{#ta=null;#ea=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType="InkHighlight"===this.data.it?ea.HIGHLIGHT:ea.INK}#na(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:n,borderStyle:i,popupRef:s}}=this,{transform:r,width:a,height:o}=this.#na(e,t),l=this.svgFactory.create(a,o,!0),c=this.#ta=this.svgFactory.createElement("svg:g");l.append(c),c.setAttribute("stroke-width",i.width||1),c.setAttribute("stroke-linecap","round"),c.setAttribute("stroke-linejoin","round"),c.setAttribute("stroke-miterlimit",10),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),c.setAttribute("transform",r);for(let d=0,u=n.length;d<u;d++){const t=this.svgFactory.createElement(this.svgElementName);this.#ea.push(t),t.setAttribute("points",n[d].join(",")),c.append(t)}return!s&&this.hasPopupData&&this._createPopup(),this.container.append(l),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:n,rect:i}=t,s=this.#ta;if(e>=0&&s.setAttribute("stroke-width",e||1),n)for(let r=0,a=this.#ea.length;r<a;r++)this.#ea[r].setAttribute("points",n[r].join(","));if(i){const{transform:t,width:e,height:n}=this.#na(this.data.rotation,i);s.parentElement.setAttribute("viewBox",`0 0 ${e} ${n}`),s.setAttribute("transform",t)}}getElementsToTriggerPopup(){return this.#ea}addHighlightArea(){this.container.classList.add("highlightArea")}}class zd extends bd{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=ea.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const e=document.createElement("mark");e.classList.add("overlaidText"),e.textContent=t,this.container.append(e)}return this.container}}class Ud extends bd{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const e=document.createElement("u");e.classList.add("overlaidText"),e.textContent=t,this.container.append(e)}return this.container}}class jd extends bd{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const e=document.createElement("u");e.classList.add("overlaidText"),e.textContent=t,this.container.append(e)}return this.container}}class Hd extends bd{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const e=document.createElement("s");e.classList.add("overlaidText"),e.textContent=t,this.container.append(e)}return this.container}}class Vd extends bd{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=ea.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class $d extends bd{#ia=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let n;e.hasAppearance||0===e.fillAlpha?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(100*e.fillAlpha)}%);`)),n.addEventListener("dblclick",this.#sa.bind(this)),this.#ia=n;const{isMac:i}=ja.platform;return t.addEventListener("keydown",(t=>{"Enter"===t.key&&(i?t.metaKey:t.ctrlKey)&&this.#sa()})),!e.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),t.append(n),t}getElementsToTriggerPopup(){return this.#ia}addHighlightArea(){this.container.classList.add("highlightArea")}#sa(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class Wd{#ra=null;#aa=null;#F=null;#oa=(()=>new Map)();#la=null;#ca=null;constructor(t){let{div:e,accessibilityManager:n,annotationCanvasMap:i,annotationEditorUIManager:s,page:r,viewport:a,structTreeLayer:o,commentManager:l,linkService:c,annotationStorage:d}=t;this.div=e,this.#ra=n,this.#aa=i,this.#la=o||null,this.#ca=c||null,this.#F=d||new Vo,this.page=r,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=s,this._commentManager=l||null}hasEditableAnnotations(){return this.#oa.size>0}async#da(t,e,n){const i=t.firstChild||t,s=i.id=`${qa}${e}`,r=await(this.#la?.getAriaAttributes(s));if(r)for(const[a,o]of r)i.setAttribute(a,o);n?n.at(-1).container.after(t):(this.div.append(t),this.#ra?.moveElementInDOM(this.div,t,i,!1))}async render(t){const{annotations:e}=t,n=this.div;fo(n,this.viewport);const i=new Map,s={data:null,layer:n,linkService:this.#ca,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:!1!==t.renderForms,svgFactory:new fd,annotationStorage:this.#F,enableComment:!0===t.enableComment,enableScripting:!0===t.enableScripting,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const r of e){if(r.noHTML)continue;const t=r.annotationType===da.POPUP;if(t){const t=i.get(r.id);if(!t)continue;s.elements=t}else if(r.rect[2]===r.rect[0]||r.rect[3]===r.rect[1])continue;s.data=r;const e=vd.create(s);if(!e.isRenderable)continue;if(!t&&r.popupRef){const t=i.get(r.popupRef);t?t.push(e):i.set(r.popupRef,[e])}const n=e.render();r.hidden&&(n.style.visibility="hidden"),await this.#da(n,r.id,s.elements),e.extraPopupElement?.popup?.renderCommentButton(),e._isEditable&&(this.#oa.set(e.data.id,e),this._annotationEditorUIManager?.renderAnnotationElement(e))}this.#ua()}async addLinkAnnotations(t){const e={data:null,layer:this.div,linkService:this.#ca,svgFactory:new fd,parent:this};for(const n of t){n.borderStyle||=Wd._defaultBorderStyle,e.data=n;const t=vd.create(e);if(!t.isRenderable)continue;const i=t.render();await this.#da(i,n.id,null)}}update(t){let{viewport:e}=t;const n=this.div;this.viewport=e,fo(n,{rotation:e.rotation}),this.#ua(),n.hidden=!1}#ua(){if(!this.#aa)return;const t=this.div;for(const[e,n]of this.#aa){const i=t.querySelector(`[data-annotation-id="${e}"]`);if(!i)continue;n.className="annotationContent";const{firstChild:s}=i;s?"CANVAS"===s.nodeName?s.replaceWith(n):s.classList.contains("annotationContent")?s.after(n):s.before(n):i.append(n);const r=this.#oa.get(e);r&&(r._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,i.id,n),r._hasNoCanvas=!1):r.canvas=n)}this.#aa.clear()}getEditableAnnotations(){return Array.from(this.#oa.values())}getEditableAnnotation(t){return this.#oa.get(t)}addFakeAnnotation(t){const{div:e}=this,{id:n,rotation:i}=t,s=new yd({data:{id:n,rect:t.getPDFRect(),rotation:i},editor:t,layer:e,parent:this,enableComment:!!this._commentManager,linkService:this.#ca,annotationStorage:this.#F}),r=s.render();return e.append(r),this.#ra?.moveElementInDOM(e,r,r,!1),s.createOrUpdatePopup(),s}static get _defaultBorderStyle(){return Da(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:ua,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const Gd=/\r\n?|\n/g;class qd extends Fo{#ha="";#pa=`${this.id}-editor`;#fa=null;#Gr;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=qd.prototype,e=t=>t.isEmpty(),n=Ro.TRANSLATE_SMALL,i=Ro.TRANSLATE_BIG;return Da(this,"_keyboardManager",new Mo([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[i,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,i],checker:e}]]))}static _type="freetext";static _editorType=(()=>ea.FREETEXT)();constructor(t){super({...t,name:"freeTextEditor"}),this.color=t.color||qd._defaultColor||Fo._defaultLineColor,this.#Gr=t.fontSize||qd._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(t,e){Fo.initialize(t,e);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case na.FREETEXT_SIZE:qd._defaultFontSize=e;break;case na.FREETEXT_COLOR:qd._defaultColor=e}}updateParams(t,e){switch(t){case na.FREETEXT_SIZE:this.#ga(e);break;case na.FREETEXT_COLOR:this.#Vr(e)}}static get defaultPropertiesToUpdate(){return[[na.FREETEXT_SIZE,qd._defaultFontSize],[na.FREETEXT_COLOR,qd._defaultColor||Fo._defaultLineColor]]}get propertiesToUpdate(){return[[na.FREETEXT_SIZE,this.#Gr],[na.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new cd(this),[["colorPicker",this._colorPicker]]}get colorType(){return na.FREETEXT_COLOR}#ga(t){const e=t=>{this.editorDiv.style.fontSize=`calc(${t}px * var(--total-scale-factor))`,this.translate(0,-(t-this.#Gr)*this.parentScale),this.#Gr=t,this.#ma()},n=this.#Gr;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:na.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#Vr(t){const e=t=>{this.color=t,this.onUpdatedColor()},n=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:na.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-qd._internalPadding*t,-(qd._internalPadding+this.#Gr)*t]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#fa=new AbortController;const t=this._uiManager.combinedSignal(this.#fa);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return!!super.disableEditMode()&&(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#pa),this._isDraggable=!0,this.#fa?.abort(),this.#fa=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0)}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#va(){const t=[];this.editorDiv.normalize();let e=null;for(const n of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&"BR"===n.nodeName||(t.push(qd.#ba(n)),e=n);return t.join("\n")}#ma(){const[t,e]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:t,div:e}=this,i=e.style.display,s=e.classList.contains("hidden");e.classList.remove("hidden"),e.style.display="hidden",t.div.append(this.div),n=e.getBoundingClientRect(),e.remove(),e.style.display=i,e.classList.toggle("hidden",s)}this.rotation%180===this.parentRotation%180?(this.width=n.width/t,this.height=n.height/e):(this.width=n.height/t,this.height=n.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#ha,e=this.#ha=this.#va().trimEnd();if(t===e)return;const n=t=>{this.#ha=t,t?(this.#ya(),this._uiManager.rebuild(this),this.#ma()):this.remove()};this.addCommands({cmd:()=>{n(e)},undo:()=>{n(t)},mustExec:!1}),this.#ma()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&"Enter"===t.key&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){qd._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#pa),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#Gr}px * var(--total-scale-factor))`,n.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[n,i]=this.parentDimensions;if(this.annotationElementId){const{position:s}=this._initialData;let[r,a]=this.getInitialTranslation();[r,a]=this.pageTranslationToScreen(r,a);const[o,l]=this.pageDimensions,[c,d]=this.pageTranslation;let u,h;switch(this.rotation){case 0:u=t+(s[0]-c)/o,h=e+this.height-(s[1]-d)/l;break;case 90:u=t+(s[0]-c)/o,h=e-(s[1]-d)/l,[r,a]=[a,-r];break;case 180:u=t-this.width+(s[0]-c)/o,h=e-(s[1]-d)/l,[r,a]=[-r,-a];break;case 270:u=t+(s[0]-c-this.height*l)/o,h=e+(s[1]-d-this.width*o)/l,[r,a]=[-a,r]}this.setAt(u*n,h*i,r,a)}else this._moveAfterPaste(t,e);this.#ya(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#ba(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Gd,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:n}=e;if(1===n.length&&"text/plain"===n[0])return;t.preventDefault();const i=qd.#wa(e.getData("text")||"").replaceAll(Gd,"\n");if(!i)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const r=s.getRangeAt(0);if(!i.includes("\n"))return r.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),void s.collapseToStart();const{startContainer:a,startOffset:o}=r,l=[],c=[];if(a.nodeType===Node.TEXT_NODE){const t=a.parentElement;if(c.push(a.nodeValue.slice(o).replaceAll(Gd,"")),t!==this.editorDiv){let e=l;for(const n of this.editorDiv.childNodes)n!==t?e.push(qd.#ba(n)):e=c}l.push(a.nodeValue.slice(0,o).replaceAll(Gd,""))}else if(a===this.editorDiv){let t=l,e=0;for(const n of this.editorDiv.childNodes)e++===o&&(t=c),t.push(qd.#ba(n))}this.#ha=`${l.join("\n")}${i}${c.join("\n")}`,this.#ya();const d=new Range;let u=Math.sumPrecise(l.map((t=>t.length)));for(const{firstChild:h}of this.editorDiv.childNodes)if(h.nodeType===Node.TEXT_NODE){const t=h.nodeValue.length;if(u<=t){d.setStart(h,u),d.setEnd(h,u);break}u-=t}s.removeAllRanges(),s.addRange(d)}#ya(){if(this.editorDiv.replaceChildren(),this.#ha)for(const t of this.#ha.split("\n")){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#xa(){return this.#ha.replaceAll("\xa0"," ")}static#wa(t){return t.replaceAll(" ","\xa0")}get contentDiv(){return this.editorDiv}getPDFRect(){const t=qd._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,e,n){let i=null;if(t instanceof Dd){const{data:{defaultAppearanceData:{fontSize:e,fontColor:n},rect:s,rotation:r,id:a,popupRef:o,richText:l,contentsObj:c,creationDate:d,modificationDate:u},textContent:h,textPosition:p,parent:{page:{pageNumber:f}}}=t;if(!h||0===h.length)return null;i=t={annotationType:ea.FREETEXT,color:Array.from(n),fontSize:e,value:h.join("\n"),position:p,pageIndex:f-1,rect:s.slice(0),rotation:r,annotationElementId:a,id:a,deleted:!1,popupRef:o,comment:c?.str||null,richText:l,creationDate:d,modificationDate:u}}const s=await super.deserialize(t,e,n);return s.#Gr=t.fontSize,s.color=Va.makeHexColor(...t.color),s.#ha=qd.#wa(t.value),s._initialData=i,t.comment&&s.setCommentData(t),s}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=Fo._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),n=Object.assign(super.serialize(t),{color:e,fontSize:this.#Gr,value:this.#xa()});return this.addComment(n),t?(n.isCopy=!0,n):this.annotationElementId&&!this.#_a(n)?null:(n.id=this.annotationElementId,n)}#_a(t){const{value:e,fontSize:n,color:i,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==e||t.fontSize!==n||t.color.some(((t,e)=>t!==i[e]))||t.pageIndex!==s}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(!e)return null;const{style:n}=e;n.fontSize=`calc(${this.#Gr}px * var(--total-scale-factor))`,n.color=this.color,e.replaceChildren();for(const i of this.#ha.split("\n")){const t=document.createElement("div");t.append(i?document.createTextNode(i):document.createElement("br")),e.append(t)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#ha}}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class Xd{static PRECISION=1e-4;toSVGPath(){Ea("Abstract method `toSVGPath` must be implemented.")}get box(){Ea("Abstract getter `box` must be implemented.")}serialize(t,e){Ea("Abstract method `serialize` must be implemented.")}static _rescale(t,e,n,i,s,r){r||=new Float32Array(t.length);for(let a=0,o=t.length;a<o;a+=2)r[a]=e+t[a]*i,r[a+1]=n+t[a+1]*s;return r}static _rescaleAndSwap(t,e,n,i,s,r){r||=new Float32Array(t.length);for(let a=0,o=t.length;a<o;a+=2)r[a]=e+t[a+1]*i,r[a+1]=n+t[a]*s;return r}static _translate(t,e,n,i){i||=new Float32Array(t.length);for(let s=0,r=t.length;s<r;s+=2)i[s]=e+t[s],i[s+1]=n+t[s+1];return i}static svgRound(t){return Math.round(1e4*t)}static _normalizePoint(t,e,n,i,s){switch(s){case 90:return[1-e/n,t/i];case 180:return[1-t/n,1-e/i];case 270:return[e/n,1-t/i];default:return[t/n,e/i]}}static _normalizePagePoint(t,e,n){switch(n){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,n,i,s,r){return[(t+5*n)/6,(e+5*i)/6,(5*n+s)/6,(5*i+r)/6,(n+s)/2,(i+r)/2]}}class Kd{#Sa;#ka=[];#Aa;#Ca;#Ea=[];#Ta=(()=>new Float32Array(18))();#Pa;#Ma;#Da;#Ra;#Ia;#La;#Oa=[];static#Fa=8;static#Ba=2;static#Na=(()=>Kd.#Fa+Kd.#Ba)();constructor(t,e,n,i,s){let{x:r,y:a}=t,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;this.#Sa=e,this.#La=i*n,this.#Ca=s,this.#Ta.set([NaN,NaN,NaN,NaN,r,a],6),this.#Aa=o,this.#Ra=Kd.#Fa*n,this.#Da=Kd.#Na*n,this.#Ia=n,this.#Oa.push(r,a)}isEmpty(){return isNaN(this.#Ta[8])}#za(){const t=this.#Ta.subarray(4,6),e=this.#Ta.subarray(16,18),[n,i,s,r]=this.#Sa;return[(this.#Pa+(t[0]-e[0])/2-n)/s,(this.#Ma+(t[1]-e[1])/2-i)/r,(this.#Pa+(e[0]-t[0])/2-n)/s,(this.#Ma+(e[1]-t[1])/2-i)/r]}add(t){let{x:e,y:n}=t;this.#Pa=e,this.#Ma=n;const[i,s,r,a]=this.#Sa;let[o,l,c,d]=this.#Ta.subarray(8,12);const u=e-c,h=n-d,p=Math.hypot(u,h);if(p<this.#Da)return!1;const f=p-this.#Ra,g=f/p,m=g*u,v=g*h;let b=o,y=l;o=c,l=d,c+=m,d+=v,this.#Oa?.push(e,n);const w=m/f,x=-v/f*this.#La,_=w*this.#La;if(this.#Ta.set(this.#Ta.subarray(2,8),0),this.#Ta.set([c+x,d+_],4),this.#Ta.set(this.#Ta.subarray(14,18),12),this.#Ta.set([c-x,d-_],16),isNaN(this.#Ta[6]))return 0===this.#Ea.length&&(this.#Ta.set([o+x,l+_],2),this.#Ea.push(NaN,NaN,NaN,NaN,(o+x-i)/r,(l+_-s)/a),this.#Ta.set([o-x,l-_],14),this.#ka.push(NaN,NaN,NaN,NaN,(o-x-i)/r,(l-_-s)/a)),this.#Ta.set([b,y,o,l,c,d],6),!this.isEmpty();this.#Ta.set([b,y,o,l,c,d],6);return Math.abs(Math.atan2(y-l,b-o)-Math.atan2(v,m))<Math.PI/2?([o,l,c,d]=this.#Ta.subarray(2,6),this.#Ea.push(NaN,NaN,NaN,NaN,((o+c)/2-i)/r,((l+d)/2-s)/a),[o,l,b,y]=this.#Ta.subarray(14,18),this.#ka.push(NaN,NaN,NaN,NaN,((b+o)/2-i)/r,((y+l)/2-s)/a),!0):([b,y,o,l,c,d]=this.#Ta.subarray(0,6),this.#Ea.push(((b+5*o)/6-i)/r,((y+5*l)/6-s)/a,((5*o+c)/6-i)/r,((5*l+d)/6-s)/a,((o+c)/2-i)/r,((l+d)/2-s)/a),[c,d,o,l,b,y]=this.#Ta.subarray(12,18),this.#ka.push(((b+5*o)/6-i)/r,((y+5*l)/6-s)/a,((5*o+c)/6-i)/r,((5*l+d)/6-s)/a,((o+c)/2-i)/r,((l+d)/2-s)/a),!0)}toSVGPath(){if(this.isEmpty())return"";const t=this.#Ea,e=this.#ka;if(isNaN(this.#Ta[6])&&!this.isEmpty())return this.#Ua();const n=[];n.push(`M${t[4]} ${t[5]}`);for(let i=6;i<t.length;i+=6)isNaN(t[i])?n.push(`L${t[i+4]} ${t[i+5]}`):n.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);this.#ja(n);for(let i=e.length-6;i>=6;i-=6)isNaN(e[i])?n.push(`L${e[i+4]} ${e[i+5]}`):n.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);return this.#Ha(n),n.join(" ")}#Ua(){const[t,e,n,i]=this.#Sa,[s,r,a,o]=this.#za();return`M${(this.#Ta[2]-t)/n} ${(this.#Ta[3]-e)/i} L${(this.#Ta[4]-t)/n} ${(this.#Ta[5]-e)/i} L${s} ${r} L${a} ${o} L${(this.#Ta[16]-t)/n} ${(this.#Ta[17]-e)/i} L${(this.#Ta[14]-t)/n} ${(this.#Ta[15]-e)/i} Z`}#Ha(t){const e=this.#ka;t.push(`L${e[4]} ${e[5]} Z`)}#ja(t){const[e,n,i,s]=this.#Sa,r=this.#Ta.subarray(4,6),a=this.#Ta.subarray(16,18),[o,l,c,d]=this.#za();t.push(`L${(r[0]-e)/i} ${(r[1]-n)/s} L${o} ${l} L${c} ${d} L${(a[0]-e)/i} ${(a[1]-n)/s}`)}newFreeDrawOutline(t,e,n,i,s,r){return new Yd(t,e,n,i,s,r)}getOutlines(){const t=this.#Ea,e=this.#ka,n=this.#Ta,[i,s,r,a]=this.#Sa,o=new Float32Array((this.#Oa?.length??0)+2);for(let d=0,u=o.length-2;d<u;d+=2)o[d]=(this.#Oa[d]-i)/r,o[d+1]=(this.#Oa[d+1]-s)/a;if(o[o.length-2]=(this.#Pa-i)/r,o[o.length-1]=(this.#Ma-s)/a,isNaN(n[6])&&!this.isEmpty())return this.#Va(o);const l=new Float32Array(this.#Ea.length+24+this.#ka.length);let c=t.length;for(let d=0;d<c;d+=2)isNaN(t[d])?l[d]=l[d+1]=NaN:(l[d]=t[d],l[d+1]=t[d+1]);c=this.#$a(l,c);for(let d=e.length-6;d>=6;d-=6)for(let t=0;t<6;t+=2)isNaN(e[d+t])?(l[c]=l[c+1]=NaN,c+=2):(l[c]=e[d+t],l[c+1]=e[d+t+1],c+=2);return this.#Wa(l,c),this.newFreeDrawOutline(l,o,this.#Sa,this.#Ia,this.#Aa,this.#Ca)}#Va(t){const e=this.#Ta,[n,i,s,r]=this.#Sa,[a,o,l,c]=this.#za(),d=new Float32Array(36);return d.set([NaN,NaN,NaN,NaN,(e[2]-n)/s,(e[3]-i)/r,NaN,NaN,NaN,NaN,(e[4]-n)/s,(e[5]-i)/r,NaN,NaN,NaN,NaN,a,o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,(e[16]-n)/s,(e[17]-i)/r,NaN,NaN,NaN,NaN,(e[14]-n)/s,(e[15]-i)/r],0),this.newFreeDrawOutline(d,t,this.#Sa,this.#Ia,this.#Aa,this.#Ca)}#Wa(t,e){const n=this.#ka;return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+6}#$a(t,e){const n=this.#Ta.subarray(4,6),i=this.#Ta.subarray(16,18),[s,r,a,o]=this.#Sa,[l,c,d,u]=this.#za();return t.set([NaN,NaN,NaN,NaN,(n[0]-s)/a,(n[1]-r)/o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,d,u,NaN,NaN,NaN,NaN,(i[0]-s)/a,(i[1]-r)/o],e),e+24}}class Yd extends Xd{#Sa;#Ga=(()=>new Float32Array(4))();#Aa;#Ca;#Oa;#Ia;#qa;constructor(t,e,n,i,s,r){super(),this.#qa=t,this.#Oa=e,this.#Sa=n,this.#Ia=i,this.#Aa=s,this.#Ca=r,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#Xa(r);const[a,o,l,c]=this.#Ga;for(let d=0,u=t.length;d<u;d+=2)t[d]=(t[d]-a)/l,t[d+1]=(t[d+1]-o)/c;for(let d=0,u=e.length;d<u;d+=2)e[d]=(e[d]-a)/l,e[d+1]=(e[d+1]-o)/c}toSVGPath(){const t=[`M${this.#qa[4]} ${this.#qa[5]}`];for(let e=6,n=this.#qa.length;e<n;e+=6)isNaN(this.#qa[e])?t.push(`L${this.#qa[e+4]} ${this.#qa[e+5]}`):t.push(`C${this.#qa[e]} ${this.#qa[e+1]} ${this.#qa[e+2]} ${this.#qa[e+3]} ${this.#qa[e+4]} ${this.#qa[e+5]}`);return t.push("Z"),t.join(" ")}serialize(t,e){let[n,i,s,r]=t;const a=s-n,o=r-i;let l,c;switch(e){case 0:l=Xd._rescale(this.#qa,n,r,a,-o),c=Xd._rescale(this.#Oa,n,r,a,-o);break;case 90:l=Xd._rescaleAndSwap(this.#qa,n,i,a,o),c=Xd._rescaleAndSwap(this.#Oa,n,i,a,o);break;case 180:l=Xd._rescale(this.#qa,s,i,-a,o),c=Xd._rescale(this.#Oa,s,i,-a,o);break;case 270:l=Xd._rescaleAndSwap(this.#qa,s,r,-a,-o),c=Xd._rescaleAndSwap(this.#Oa,s,r,-a,-o)}return{outline:Array.from(l),points:[Array.from(c)]}}#Xa(t){const e=this.#qa;let n=e[4],i=e[5];const s=[n,i,n,i];let r=n,a=i,o=n,l=i;const c=t?Math.max:Math.min,d=new Float32Array(4);for(let h=6,p=e.length;h<p;h+=6){const t=e[h+4],u=e[h+5];isNaN(e[h])?(Va.pointBoundingBox(t,u,s),a>u?(r=t,a=u):a===u&&(r=c(r,t)),l<u?(o=t,l=u):l===u&&(o=c(o,t))):(d[0]=d[1]=1/0,d[2]=d[3]=-1/0,Va.bezierBoundingBox(n,i,...e.slice(h,h+6),d),Va.rectBoundingBox(d[0],d[1],d[2],d[3],s),a>d[1]?(r=d[0],a=d[1]):a===d[1]&&(r=c(r,d[0])),l<d[3]?(o=d[2],l=d[3]):l===d[3]&&(o=c(o,d[2]))),n=t,i=u}const u=this.#Ga;u[0]=s[0]-this.#Aa,u[1]=s[1]-this.#Aa,u[2]=s[2]-s[0]+2*this.#Aa,u[3]=s[3]-s[1]+2*this.#Aa,this.firstPoint=[r,a],this.lastPoint=[o,l]}get box(){return this.#Ga}newOutliner(t,e,n,i,s){return new Kd(t,e,n,i,s,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0)}getNewOutline(t,e){const[n,i,s,r]=this.#Ga,[a,o,l,c]=this.#Sa,d=s*l,u=r*c,h=n*l+a,p=i*c+o,f=this.newOutliner({x:this.#Oa[0]*d+h,y:this.#Oa[1]*u+p},this.#Sa,this.#Ia,t,this.#Ca,e??this.#Aa);for(let g=2;g<this.#Oa.length;g+=2)f.add({x:this.#Oa[g]*d+h,y:this.#Oa[g+1]*u+p});return f.getOutlines()}}class Qd{#Sa;#Ka;#Ya;#Qa=[];#Ja=[];constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const s=[1/0,1/0,-1/0,-1/0],r=10**-4;for(const{x:f,y:g,width:m,height:v}of t){const t=Math.floor((f-e)/r)*r,n=Math.ceil((f+m+e)/r)*r,i=Math.floor((g-e)/r)*r,a=Math.ceil((g+v+e)/r)*r,o=[t,i,a,!0],l=[n,i,a,!1];this.#Qa.push(o,l),Va.rectBoundingBox(t,i,n,a,s)}const a=s[2]-s[0]+2*n,o=s[3]-s[1]+2*n,l=s[0]-n,c=s[1]-n;let d=i?-1/0:1/0,u=1/0;const h=this.#Qa.at(i?-1:-2),p=[h[0],h[2]];for(const f of this.#Qa){const[t,e,n,s]=f;!s&&i?e<u?(u=e,d=t):e===u&&(d=Math.max(d,t)):s&&!i&&(e<u?(u=e,d=t):e===u&&(d=Math.min(d,t))),f[0]=(t-l)/a,f[1]=(e-c)/o,f[2]=(n-c)/o}this.#Sa=new Float32Array([l,c,a,o]),this.#Ka=[d,u],this.#Ya=p}getOutlines(){this.#Qa.sort(((t,e)=>t[0]-e[0]||t[1]-e[1]||t[2]-e[2]));const t=[];for(const e of this.#Qa)e[3]?(t.push(...this.#Za(e)),this.#to(e)):(this.#eo(e),t.push(...this.#Za(e)));return this.#no(t)}#no(t){const e=[],n=new Set;for(const r of t){const[t,n,i]=r;e.push([t,n,r],[t,i,r])}e.sort(((t,e)=>t[1]-e[1]||t[0]-e[0]));for(let r=0,a=e.length;r<a;r+=2){const t=e[r][2],i=e[r+1][2];t.push(i),i.push(t),n.add(t),n.add(i)}const i=[];let s;for(;n.size>0;){const t=n.values().next().value;let[e,r,a,o,l]=t;n.delete(t);let c=e,d=r;for(s=[e,a],i.push(s);;){let t;if(n.has(o))t=o;else{if(!n.has(l))break;t=l}n.delete(t),[e,r,a,o,l]=t,c!==e&&(s.push(c,d,e,d===r?r:a),c=e),d=d===r?a:r}s.push(c,d)}return new Jd(i,this.#Sa,this.#Ka,this.#Ya)}#io(t){const e=this.#Ja;let n=0,i=e.length-1;for(;n<=i;){const s=n+i>>1,r=e[s][0];if(r===t)return s;r<t?n=s+1:i=s-1}return i+1}#to(t){let[,e,n]=t;const i=this.#io(e);this.#Ja.splice(i,0,[e,n])}#eo(t){let[,e,n]=t;const i=this.#io(e);for(let s=i;s<this.#Ja.length;s++){const[t,i]=this.#Ja[s];if(t!==e)break;if(t===e&&i===n)return void this.#Ja.splice(s,1)}for(let s=i-1;s>=0;s--){const[t,i]=this.#Ja[s];if(t!==e)break;if(t===e&&i===n)return void this.#Ja.splice(s,1)}}#Za(t){const[e,n,i]=t,s=[[e,n,i]],r=this.#io(i);for(let a=0;a<r;a++){const[t,n]=this.#Ja[a];for(let i=0,r=s.length;i<r;i++){const[,a,o]=s[i];if(!(n<=a||o<=t))if(a>=t)if(o>n)s[i][1]=n;else{if(1===r)return[];s.splice(i,1),i--,r--}else s[i][2]=t,o>n&&s.push([e,n,o])}}return s}}class Jd extends Xd{#Sa;#so;constructor(t,e,n,i){super(),this.#so=t,this.#Sa=e,this.firstPoint=n,this.lastPoint=i}toSVGPath(){const t=[];for(const e of this.#so){let[n,i]=e;t.push(`M${n} ${i}`);for(let s=2;s<e.length;s+=2){const r=e[s],a=e[s+1];r===n?(t.push(`V${a}`),i=a):a===i&&(t.push(`H${r}`),n=r)}t.push("Z")}return t.join(" ")}serialize(t,e){let[n,i,s,r]=t;const a=[],o=s-n,l=r-i;for(const c of this.#so){const t=new Array(c.length);for(let e=0;e<c.length;e+=2)t[e]=n+c[e]*o,t[e+1]=r-c[e+1]*l;a.push(t)}return a}get box(){return this.#Sa}get classNamesForOutlining(){return["highlightOutline"]}}class Zd extends Kd{newFreeDrawOutline(t,e,n,i,s,r){return new tu(t,e,n,i,s,r)}}class tu extends Yd{newOutliner(t,e,n,i,s){return new Zd(t,e,n,i,s,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0)}}class eu extends Fo{#ro=null;#ao=0;#oo;#lo=null;#s=null;#co=null;#do=null;#uo=0;#ho=null;#po=null;#x=null;#fo=!1;#Ka=null;#Ya=null;#go=null;#de="";#La;#mo="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=(()=>ea.HIGHLIGHT)();static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=eu.prototype;return Da(this,"_keyboardManager",new Mo([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||eu._defaultColor,this.#La=t.thickness||eu._defaultThickness,this.opacity=t.opacity||eu._defaultOpacity,this.#oo=t.boxes||null,this.#mo=t.methodOfCreation||"",this.#de=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#fo=!0,this.#vo(t),this.#bo()):this.#oo&&(this.#ro=t.anchorNode,this.#ao=t.anchorOffset,this.#do=t.focusNode,this.#uo=t.focusOffset,this.#yo(),this.#bo(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#fo?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#La,methodOfCreation:this.#mo}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#yo(){const t=new Qd(this.#oo,.001);this.#po=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#po.box;const e=new Qd(this.#oo,.0025,.001,"ltr"===this._uiManager.direction);this.#co=e.getOutlines();const{firstPoint:n}=this.#po;this.#Ka=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height];const{lastPoint:i}=this.#co;this.#Ya=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]}#vo(t){let{highlightOutlines:e,highlightId:n,clipPathId:i}=t;this.#po=e;if(this.#co=e.getNewOutline(this.#La/2+1.5,.0025),n>=0)this.#x=n,this.#lo=i,this.parent.drawLayer.finalizeDraw(n,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#go=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#co.box,path:{d:this.#co.toSVGPath()}},!0);else if(this.parent){const t=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#x,{bbox:eu.#wo(this.#po.box,(t-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#go,{bbox:eu.#wo(this.#co.box,t),path:{d:this.#co.toSVGPath()}})}const[s,r,a,o]=e.box;switch(this.rotation){case 0:this.x=s,this.y=r,this.width=a,this.height=o;break;case 90:{const[t,e]=this.parentDimensions;this.x=r,this.y=1-s,this.width=a*e/t,this.height=o*t/e;break}case 180:this.x=1-s,this.y=1-r,this.width=a,this.height=o;break;case 270:{const[t,e]=this.parentDimensions;this.x=1-r,this.y=s,this.width=a*e/t,this.height=o*t/e;break}}const{firstPoint:l}=e;this.#Ka=[(l[0]-s)/a,(l[1]-r)/o];const{lastPoint:c}=this.#co;this.#Ya=[(c[0]-s)/a,(c[1]-r)/o]}static initialize(t,e){Fo.initialize(t,e),eu._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case na.HIGHLIGHT_COLOR:eu._defaultColor=e;break;case na.HIGHLIGHT_THICKNESS:eu._defaultThickness=e}}translateInPage(t,e){}get toolbarPosition(){return this.#Ya}get commentButtonPosition(){return this.#Ka}updateParams(t,e){switch(t){case na.HIGHLIGHT_COLOR:this.#Vr(e);break;case na.HIGHLIGHT_THICKNESS:this.#xo(e)}}static get defaultPropertiesToUpdate(){return[[na.HIGHLIGHT_COLOR,eu._defaultColor],[na.HIGHLIGHT_THICKNESS,eu._defaultThickness]]}get propertiesToUpdate(){return[[na.HIGHLIGHT_COLOR,this.color||eu._defaultColor],[na.HIGHLIGHT_THICKNESS,this.#La||eu._defaultThickness],[na.HIGHLIGHT_FREE,this.#fo]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#x,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#s?.updateColor(this.color),super.onUpdatedColor()}#Vr(t){const e=(t,e)=>{this.color=t,this.opacity=e,this.onUpdatedColor()},n=this.color,i=this.opacity;this.addCommands({cmd:e.bind(this,t,eu._defaultOpacity),undo:e.bind(this,n,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:na.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)}#xo(t){const e=this.#La,n=t=>{this.#La=t,this.#_o(t)};this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:na.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}get toolbarButtons(){if(this._uiManager.highlightColors){return[["colorPicker",this.#s=new ld({editor:this})]]}return super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#So())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#So())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#ko(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.#bo(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#ko():t&&(this.#bo(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#_o(t){this.#fo&&(this.#vo({highlightOutlines:this.#po.getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))}#ko(){null!==this.#x&&this.parent&&(this.parent.drawLayer.remove(this.#x),this.#x=null,this.parent.drawLayer.remove(this.#go),this.#go=null)}#bo(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null===this.#x&&(({id:this.#x,clipPathId:this.#lo}=t.drawLayer.draw({bbox:this.#po.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#fo},path:{d:this.#po.toSVGPath()}},!1,!0)),this.#go=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#fo},bbox:this.#co.box,path:{d:this.#co.toSVGPath()}},this.#fo),this.#ho&&(this.#ho.style.clipPath=this.#lo))}static#wo(t,e){let[n,i,s,r]=t;switch(e){case 90:return[1-i-r,n,r,s];case 180:return[1-n-s,1-i-r,s,r];case 270:return[i,1-n-s,r,s]}return[n,i,s,r]}rotate(t){const{drawLayer:e}=this.parent;let n;this.#fo?(t=(t-this.rotation+360)%360,n=eu.#wo(this.#po.box,t)):n=eu.#wo([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#x,{bbox:n,root:{"data-main-rotation":t}}),e.updateProperties(this.#go,{bbox:eu.#wo(this.#co.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#de&&(t.setAttribute("aria-label",this.#de),t.setAttribute("role","mark")),this.#fo?t.classList.add("free"):this.div.addEventListener("keydown",this.#Ao.bind(this),{signal:this._uiManager._signal});const e=this.#ho=document.createElement("div");return t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#lo,this.setDims(this.width,this.height),Co(this,this.#ho,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#go,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#go,{rootClass:{hovered:!1}})}#Ao(t){eu._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#Co(!0);break;case 1:case 3:this.#Co(!1)}}#Co(t){if(!this.#ro)return;const e=window.getSelection();t?e.setPosition(this.#ro,this.#ao):e.setPosition(this.#do,this.#uo)}select(){super.select(),this.#go&&this.parent?.drawLayer.updateProperties(this.#go,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#go&&(this.parent?.drawLayer.updateProperties(this.#go,{rootClass:{selected:!1}}),this.#fo||this.#Co(!1))}get _mustFixPosition(){return!this.#fo}show(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#x,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#go,{rootClass:{hidden:!t}}))}#So(){return this.#fo?this.rotation:0}#Eo(){if(this.#fo)return null;const[t,e]=this.pageDimensions,[n,i]=this.pageTranslation,s=this.#oo,r=new Float32Array(8*s.length);let a=0;for(const{x:o,y:l,width:c,height:d}of s){const s=o*t+n,u=(1-l)*e+i;r[a]=r[a+4]=s,r[a+1]=r[a+3]=u,r[a+2]=r[a+6]=s+c*t,r[a+5]=r[a+7]=u-d*e,a+=8}return r}#To(t){return this.#po.serialize(t,this.#So())}static startHighlighting(t,e,n){let{target:i,x:s,y:r}=n;const{x:a,y:o,width:l,height:c}=i.getBoundingClientRect(),d=new AbortController,u=t.combinedSignal(d),h=e=>{d.abort(),this.#Po(t,e)};window.addEventListener("blur",h,{signal:u}),window.addEventListener("pointerup",h,{signal:u}),window.addEventListener("pointerdown",lo,{capture:!0,passive:!1,signal:u}),window.addEventListener("contextmenu",oo,{signal:u}),i.addEventListener("pointermove",this.#Mo.bind(this,t),{signal:u}),this._freeHighlight=new Zd({x:s,y:r},[a,o,l,c],t.scale,this._defaultThickness/2,e,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0))}static#Mo(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#Po(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,n){let i=null;if(t instanceof zd){const{data:{quadPoints:e,rect:n,rotation:s,id:r,color:a,opacity:o,popupRef:l,richText:c,contentsObj:d,creationDate:u,modificationDate:h},parent:{page:{pageNumber:p}}}=t;i=t={annotationType:ea.HIGHLIGHT,color:Array.from(a),opacity:o,quadPoints:e,boxes:null,pageIndex:p-1,rect:n.slice(0),rotation:s,annotationElementId:r,id:r,deleted:!1,popupRef:l,richText:c,comment:d?.str||null,creationDate:u,modificationDate:h}}else if(t instanceof Nd){const{data:{inkLists:e,rect:n,rotation:s,id:r,color:a,borderStyle:{rawWidth:o},popupRef:l,richText:c,contentsObj:d,creationDate:u,modificationDate:h},parent:{page:{pageNumber:p}}}=t;i=t={annotationType:ea.HIGHLIGHT,color:Array.from(a),thickness:o,inkLists:e,boxes:null,pageIndex:p-1,rect:n.slice(0),rotation:s,annotationElementId:r,id:r,deleted:!1,popupRef:l,richText:c,comment:d?.str||null,creationDate:u,modificationDate:h}}const{color:s,quadPoints:r,inkLists:a,opacity:o}=t,l=await super.deserialize(t,e,n);l.color=Va.makeHexColor(...s),l.opacity=o||1,a&&(l.#La=t.thickness),l._initialData=i,t.comment&&l.setCommentData(t);const[c,d]=l.pageDimensions,[u,h]=l.pageTranslation;if(r){const t=l.#oo=[];for(let e=0;e<r.length;e+=8)t.push({x:(r[e]-u)/c,y:1-(r[e+1]-h)/d,width:(r[e+2]-r[e])/c,height:(r[e+1]-r[e+5])/d});l.#yo(),l.#bo(),l.rotate(l.rotation)}else if(a){l.#fo=!0;const t=a[0],n={x:t[0]-u,y:d-(t[1]-h)},i=new Zd(n,[0,0,c,d],1,l.#La/2,!0,.001);for(let e=0,a=t.length;e<a;e+=2)n.x=t[e]-u,n.y=d-(t[e+1]-h),i.add(n);const{id:s,clipPathId:r}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:l.color,"fill-opacity":l._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:i.toSVGPath()}},!0,!0);l.#vo({highlightOutlines:i.getOutlines(),highlightId:s,clipPathId:r}),l.#bo(),l.rotate(l.parentRotation)}return l}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=Fo._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),n=super.serialize(t);return Object.assign(n,{color:e,opacity:this.opacity,thickness:this.#La,quadPoints:this.#Eo(),outlines:this.#To(n.rect)}),this.addComment(n),this.annotationElementId&&!this.#_a(n)?null:(n.id=this.annotationElementId,n)}#_a(t){const{color:e}=this._initialData;return this.hasEditedComment||t.color.some(((t,n)=>t!==e[n]))}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class nu{#Do=(()=>Object.create(null))();updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,n]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,n)}updateSVGProperty(t,e){this.#Do[t]=e}toSVGProperties(){const t=this.#Do;return this.#Do=Object.create(null),{root:t}}reset(){this.#Do=Object.create(null)}updateAll(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;this.updateProperties(t)}clone(){Ea("Not implemented")}}class iu extends Fo{#Ro=null;#Io;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#Lo=null;static#Oo=null;static#Fo=null;static#Bo=NaN;static#No=null;static#zo=null;static#Uo=NaN;static _INNER_MARGIN=3;constructor(t){super(t),this.#Io=t.mustBeCommitted||!1,this._addOutlines(t)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(this.#jo(t),this.#bo())}#jo(t){let{drawOutlines:e,drawId:n,drawingOptions:i}=t;this.#Ro=e,this._drawingOptions||=i,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,e.defaultProperties)):this._drawId=this.#Ho(e,this.parent),this.#Vo(e.box)}#Ho(t,e){const{id:n}=e.drawLayer.draw(iu._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return n}static _mergeSVGProperties(t,e){const n=new Set(Object.keys(t));for(const[i,s]of Object.entries(e))n.has(i)?Object.assign(t[i],s):t[i]=s;return t}static getDefaultDrawingOptions(t){Ea("Not implemented")}static get typesMap(){Ea("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const n=this.typesMap.get(t);n&&this._defaultDrawingOptions.updateProperty(n,e),this._currentParent&&(iu.#Lo.updateProperty(n,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const n=this.constructor.typesMap.get(t);n&&this._updateProperty(t,n,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[n,i]of this.typesMap)t.push([n,e[i]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[n,i]of this.constructor.typesMap)t.push([n,e[i]]);return t}_updateProperty(t,e,n){const i=this._drawingOptions,s=i[e],r=n=>{i.updateProperty(e,n);const s=this.#Ro.updateProperty(e,n);s&&this.#Vo(s),this.parent?.drawLayer.updateProperties(this._drawId,i.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,iu._mergeSVGProperties(this.#Ro.getPathResizingSVGProperties(this.#$o()),{bbox:this.#Wo()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,iu._mergeSVGProperties(this.#Ro.getPathResizedSVGProperties(this.#$o()),{bbox:this.#Wo()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#Wo()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,iu._mergeSVGProperties(this.#Ro.getPathTranslatedSVGProperties(this.#$o(),this.parentDimensions),{bbox:this.#Wo()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#Io&&(this.#Io=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#ko(),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.#bo(),this.#Vo(this.#Ro.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#ko()):t&&(this._uiManager.addShouldRescale(this),this.#bo(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#ko(){null!==this._drawId&&this.parent&&(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#bo(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null!==this._drawId&&this.parent===t||(null===this._drawId?(this._drawingOptions.updateAll(),this._drawId=this.#Ho(this.#Ro,t)):this.parent.drawLayer.updateParent(this._drawId,t.drawLayer))}#Go(t){let[e,n,i,s]=t;const{parentDimensions:[r,a],rotation:o}=this;switch(o){case 90:return[n,1-e,i*(a/r),s*(r/a)];case 180:return[1-e,1-n,i,s];case 270:return[1-n,e,i*(a/r),s*(r/a)];default:return[e,n,i,s]}}#$o(){const{x:t,y:e,width:n,height:i,parentDimensions:[s,r],rotation:a}=this;switch(a){case 90:return[1-e,t,n*(s/r),i*(r/s)];case 180:return[1-t,1-e,n,i];case 270:return[e,1-t,n*(s/r),i*(r/s)];default:return[t,e,n,i]}}#Vo(t){[this.x,this.y,this.width,this.height]=this.#Go(t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#Wo(){const{x:t,y:e,width:n,height:i,rotation:s,parentRotation:r,parentDimensions:[a,o]}=this;switch((4*s+r)/90){case 1:return[1-e-i,t,i,n];case 2:return[1-t-n,1-e-i,n,i];case 3:return[e,1-t-n,i,n];case 4:return[t,e-n*(a/o),i*(o/a),n*(a/o)];case 5:return[1-e,t,n*(a/o),i*(o/a)];case 6:return[1-t-i*(o/a),1-e,i*(o/a),n*(a/o)];case 7:return[e-n*(a/o),1-t-i*(o/a),n*(a/o),i*(o/a)];case 8:return[t-n,e-i,n,i];case 9:return[1-e,t-n,i,n];case 10:return[1-t,1-e,n,i];case 11:return[e-i,1-t,i,n];case 12:return[t-i*(o/a),e,i*(o/a),n*(a/o)];case 13:return[1-e-n*(a/o),t-i*(o/a),n*(a/o),i*(o/a)];case 14:return[1-t,1-e-n*(a/o),i*(o/a),n*(a/o)];case 15:return[e,1-t,n*(a/o),i*(o/a)];default:return[t,e,n,i]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,iu._mergeSVGProperties({bbox:this.#Wo()},this.#Ro.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#Vo(this.#Ro.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const n=super.render();n.classList.add("draw");const i=document.createElement("div");return n.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),n}static createDrawerInstance(t,e,n,i,s){Ea("Not implemented")}static startDrawing(t,e,n,i){const{target:s,offsetX:r,offsetY:a,pointerId:o,pointerType:l}=i;if(iu.#No&&iu.#No!==l)return;const{viewport:{rotation:c}}=t,{width:d,height:u}=s.getBoundingClientRect(),h=iu.#Oo=new AbortController,p=t.combinedSignal(h);iu.#Bo||=o,iu.#No??=l,window.addEventListener("pointerup",(t=>{iu.#Bo===t.pointerId?this._endDraw(t):iu.#zo?.delete(t.pointerId)}),{signal:p}),window.addEventListener("pointercancel",(t=>{iu.#Bo===t.pointerId?this._currentParent.endDrawingSession():iu.#zo?.delete(t.pointerId)}),{signal:p}),window.addEventListener("pointerdown",(t=>{iu.#No===t.pointerType&&((iu.#zo||=new Set).add(t.pointerId),iu.#Lo.isCancellable()&&(iu.#Lo.removeLastElement(),iu.#Lo.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))}),{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",oo,{signal:p}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:p}),s.addEventListener("touchmove",(t=>{t.timeStamp===iu.#Uo&&lo(t)}),{signal:p}),t.toggleDrawing(),e._editorUndoBar?.hide(),iu.#Lo?t.drawLayer.updateProperties(this._currentDrawId,iu.#Lo.startNew(r,a,d,u,c)):(e.updateUIForDefaultProperties(this),iu.#Lo=this.createDrawerInstance(r,a,d,u,c),iu.#Fo=this.getDefaultDrawingOptions(),this._currentParent=t,({id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(iu.#Fo.toSVGProperties(),iu.#Lo.defaultSVGProperties),!0,!1)))}static _drawMove(t){if(iu.#Uo=-1,!iu.#Lo)return;const{offsetX:e,offsetY:n,pointerId:i}=t;iu.#Bo===i&&(iu.#zo?.size>=1?this._endDraw(t):(this._currentParent.drawLayer.updateProperties(this._currentDrawId,iu.#Lo.add(e,n)),iu.#Uo=t.timeStamp,lo(t)))}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,iu.#Lo=null,iu.#Fo=null,iu.#No=null,iu.#Uo=NaN),iu.#Oo&&(iu.#Oo.abort(),iu.#Oo=null,iu.#Bo=NaN,iu.#zo=null)}static _endDraw(t){const e=this._currentParent;if(e)if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,iu.#Lo.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const t=iu.#Lo,n=this._currentDrawId,i=t.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(n,t.setLastElement(i))},undo:()=>{e.drawLayer.updateProperties(n,t.removeLastElement())},mustExec:!1,type:na.DRAW_STEP})}else this.endDrawing(!1)}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(na.DRAW_STEP),!iu.#Lo.isEmpty()){const{pageDimensions:[n,i],scale:s}=e,r=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:iu.#Lo.getOutlines(n*s,i*s,s,this._INNER_MARGIN),drawingOptions:iu.#Fo,mustBeCommitted:!t});return this._cleanup(!0),r}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,n,i,s,r){Ea("Not implemented")}static async deserialize(t,e,n){const{rawDims:{pageWidth:i,pageHeight:s,pageX:r,pageY:a}}=e.viewport,o=this.deserializeDraw(r,a,i,s,this._INNER_MARGIN,t),l=await super.deserialize(t,e,n);return l.createDrawingOptions(t),l.#jo({drawOutlines:o}),l.#bo(),l.onScaleChanging(),l.rotate(),l}serializeDraw(t){const[e,n]=this.pageTranslation,[i,s]=this.pageDimensions;return this.#Ro.serialize([e,n,i,s],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class su{#Ta=(()=>new Float64Array(6))();#Yr;#qo;#is;#La;#Oa;#Xo="";#Ko=0;#so=(()=>new ru)();#Yo;#Qo;constructor(t,e,n,i,s,r){this.#Yo=n,this.#Qo=i,this.#is=s,this.#La=r,[t,e]=this.#Jo(t,e);const a=this.#Yr=[NaN,NaN,NaN,NaN,t,e];this.#Oa=[t,e],this.#qo=[{line:a,points:this.#Oa}],this.#Ta.set(a,0)}updateProperty(t,e){"stroke-width"===t&&(this.#La=e)}#Jo(t,e){return Xd._normalizePoint(t,e,this.#Yo,this.#Qo,this.#is)}isEmpty(){return!this.#qo||0===this.#qo.length}isCancellable(){return this.#Oa.length<=10}add(t,e){[t,e]=this.#Jo(t,e);const[n,i,s,r]=this.#Ta.subarray(2,6),a=t-s,o=e-r;return Math.hypot(this.#Yo*a,this.#Qo*o)<=2?null:(this.#Oa.push(t,e),isNaN(n)?(this.#Ta.set([s,r,t,e],2),this.#Yr.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#Ta[0])&&this.#Yr.splice(6,6),this.#Ta.set([n,i,s,r,t,e],0),this.#Yr.push(...Xd.createBezierPoints(n,i,s,r,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const n=this.add(t,e);return n||(2===this.#Oa.length?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,n,i,s){this.#Yo=n,this.#Qo=i,this.#is=s,[t,e]=this.#Jo(t,e);const r=this.#Yr=[NaN,NaN,NaN,NaN,t,e];this.#Oa=[t,e];const a=this.#qo.at(-1);return a&&(a.line=new Float32Array(a.line),a.points=new Float32Array(a.points)),this.#qo.push({line:r,points:this.#Oa}),this.#Ta.set(r,0),this.#Ko=0,this.toSVGPath(),null}getLastElement(){return this.#qo.at(-1)}setLastElement(t){return this.#qo?(this.#qo.push(t),this.#Yr=t.line,this.#Oa=t.points,this.#Ko=0,{path:{d:this.toSVGPath()}}):this.#so.setLastElement(t)}removeLastElement(){if(!this.#qo)return this.#so.removeLastElement();this.#qo.pop(),this.#Xo="";for(let t=0,e=this.#qo.length;t<e;t++){const{line:e,points:n}=this.#qo[t];this.#Yr=e,this.#Oa=n,this.#Ko=0,this.toSVGPath()}return{path:{d:this.#Xo}}}toSVGPath(){const t=Xd.svgRound(this.#Yr[4]),e=Xd.svgRound(this.#Yr[5]);if(2===this.#Oa.length)return this.#Xo=`${this.#Xo} M ${t} ${e} Z`,this.#Xo;if(this.#Oa.length<=6){const n=this.#Xo.lastIndexOf("M");this.#Xo=`${this.#Xo.slice(0,n)} M ${t} ${e}`,this.#Ko=6}if(4===this.#Oa.length){const t=Xd.svgRound(this.#Yr[10]),e=Xd.svgRound(this.#Yr[11]);return this.#Xo=`${this.#Xo} L ${t} ${e}`,this.#Ko=12,this.#Xo}const n=[];0===this.#Ko&&(n.push(`M ${t} ${e}`),this.#Ko=6);for(let i=this.#Ko,s=this.#Yr.length;i<s;i+=6){const[t,e,s,r,a,o]=this.#Yr.slice(i,i+6).map(Xd.svgRound);n.push(`C${t} ${e} ${s} ${r} ${a} ${o}`)}return this.#Xo+=n.join(" "),this.#Ko=this.#Yr.length,this.#Xo}getOutlines(t,e,n,i){const s=this.#qo.at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),this.#so.build(this.#qo,t,e,n,this.#is,this.#La,i),this.#Ta=null,this.#Yr=null,this.#qo=null,this.#Xo=null,this.#so}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class ru extends Xd{#Ga;#Zo=0;#Aa;#qo;#Yo;#Qo;#tl;#is;#La;build(t,e,n,i,s,r,a){this.#Yo=e,this.#Qo=n,this.#tl=i,this.#is=s,this.#La=r,this.#Aa=a??0,this.#qo=t,this.#el()}get thickness(){return this.#La}setLastElement(t){return this.#qo.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#qo.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#qo)if(t.push(`M${Xd.svgRound(e[4])} ${Xd.svgRound(e[5])}`),6!==e.length)if(12===e.length&&isNaN(e[6]))t.push(`L${Xd.svgRound(e[10])} ${Xd.svgRound(e[11])}`);else for(let n=6,i=e.length;n<i;n+=6){const[i,s,r,a,o,l]=e.subarray(n,n+6).map(Xd.svgRound);t.push(`C${i} ${s} ${r} ${a} ${o} ${l}`)}else t.push("Z");return t.join("")}serialize(t,e){let[n,i,s,r]=t;const a=[],o=[],[l,c,d,u]=this.#nl();let h,p,f,g,m,v,b,y,w;switch(this.#is){case 0:w=Xd._rescale,h=n,p=i+r,f=s,g=-r,m=n+l*s,v=i+(1-c-u)*r,b=n+(l+d)*s,y=i+(1-c)*r;break;case 90:w=Xd._rescaleAndSwap,h=n,p=i,f=s,g=r,m=n+c*s,v=i+l*r,b=n+(c+u)*s,y=i+(l+d)*r;break;case 180:w=Xd._rescale,h=n+s,p=i,f=-s,g=r,m=n+(1-l-d)*s,v=i+c*r,b=n+(1-l)*s,y=i+(c+u)*r;break;case 270:w=Xd._rescaleAndSwap,h=n+s,p=i+r,f=-s,g=-r,m=n+(1-c-u)*s,v=i+(1-l-d)*r,b=n+(1-c)*s,y=i+(1-l)*r}for(const{line:x,points:_}of this.#qo)a.push(w(x,h,p,f,g,e?new Array(x.length):null)),o.push(w(_,h,p,f,g,e?new Array(_.length):null));return{lines:a,points:o,rect:[m,v,b,y]}}static deserialize(t,e,n,i,s,r){let{paths:{lines:a,points:o},rotation:l,thickness:c}=r;const d=[];let u,h,p,f,g;switch(l){case 0:g=Xd._rescale,u=-t/n,h=e/i+1,p=1/n,f=-1/i;break;case 90:g=Xd._rescaleAndSwap,u=-e/i,h=-t/n,p=1/i,f=1/n;break;case 180:g=Xd._rescale,u=t/n+1,h=-e/i,p=-1/n,f=1/i;break;case 270:g=Xd._rescaleAndSwap,u=e/i+1,h=t/n+1,p=-1/i,f=-1/n}if(!a){a=[];for(const t of o){const e=t.length;if(2===e){a.push(new Float32Array([NaN,NaN,NaN,NaN,t[0],t[1]]));continue}if(4===e){a.push(new Float32Array([NaN,NaN,NaN,NaN,t[0],t[1],NaN,NaN,NaN,NaN,t[2],t[3]]));continue}const n=new Float32Array(3*(e-2));a.push(n);let[i,s,r,o]=t.subarray(0,4);n.set([NaN,NaN,NaN,NaN,i,s],0);for(let a=4;a<e;a+=2){const e=t[a],l=t[a+1];n.set(Xd.createBezierPoints(i,s,r,o,e,l),3*(a-2)),[i,s,r,o]=[r,o,e,l]}}}for(let v=0,b=a.length;v<b;v++)d.push({line:g(a[v].map((t=>t??NaN)),u,h,p,f),points:g(o[v].map((t=>t??NaN)),u,h,p,f)});const m=new this.prototype.constructor;return m.build(d,n,i,1,l,c,s),m}#il(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.#La;const e=this.#Aa+t/2*this.#tl;return this.#is%180===0?[e/this.#Yo,e/this.#Qo]:[e/this.#Qo,e/this.#Yo]}#nl(){const[t,e,n,i]=this.#Ga,[s,r]=this.#il(0);return[t+s,e+r,n-2*s,i-2*r]}#el(){const t=this.#Ga=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:i}of this.#qo){if(i.length<=12){for(let e=4,n=i.length;e<n;e+=6)Va.pointBoundingBox(i[e],i[e+1],t);continue}let e=i[4],n=i[5];for(let s=6,r=i.length;s<r;s+=6){const[r,a,o,l,c,d]=i.subarray(s,s+6);Va.bezierBoundingBox(e,n,r,a,o,l,c,d,t),e=c,n=d}}const[e,n]=this.#il();t[0]=Xa(t[0]-e,0,1),t[1]=Xa(t[1]-n,0,1),t[2]=Xa(t[2]+e,0,1),t[3]=Xa(t[3]+n,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#Ga}updateProperty(t,e){return"stroke-width"===t?this.#xo(e):null}#xo(t){const[e,n]=this.#il();this.#La=t;const[i,s]=this.#il(),[r,a]=[i-e,s-n],o=this.#Ga;return o[0]-=r,o[1]-=a,o[2]+=2*r,o[3]+=2*a,o}updateParentDimensions(t,e){let[n,i]=t;const[s,r]=this.#il();this.#Yo=n,this.#Qo=i,this.#tl=e;const[a,o]=this.#il(),l=a-s,c=o-r,d=this.#Ga;return d[0]-=l,d[1]-=c,d[2]+=2*l,d[3]+=2*c,d}updateRotation(t){return this.#Zo=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#Ga.map(Xd.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#Ga;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Xd.svgRound(t)} ${Xd.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#Ga;let n=0,i=0,s=0,r=0,a=0,o=0;switch(this.#Zo){case 90:i=e/t,s=-t/e,a=t;break;case 180:n=-1,r=-1,a=t,o=e;break;case 270:i=-e/t,s=t/e,o=e;break;default:return""}return`matrix(${n} ${i} ${s} ${r} ${Xd.svgRound(a)} ${Xd.svgRound(o)})`}getPathResizingSVGProperties(t){let[e,n,i,s]=t;const[r,a]=this.#il(),[o,l,c,d]=this.#Ga;if(Math.abs(c-r)<=Xd.PRECISION||Math.abs(d-a)<=Xd.PRECISION){const t=e+i/2-(o+c/2),r=n+s/2-(l+d/2);return{path:{"transform-origin":`${Xd.svgRound(e)} ${Xd.svgRound(n)}`,transform:`${this.rotationTransform} translate(${t} ${r})`}}}const u=(i-2*r)/(c-2*r),h=(s-2*a)/(d-2*a),p=c/i,f=d/s;return{path:{"transform-origin":`${Xd.svgRound(o)} ${Xd.svgRound(l)}`,transform:`${this.rotationTransform} scale(${p} ${f}) translate(${Xd.svgRound(r)} ${Xd.svgRound(a)}) scale(${u} ${h}) translate(${Xd.svgRound(-r)} ${Xd.svgRound(-a)})`}}}getPathResizedSVGProperties(t){let[e,n,i,s]=t;const[r,a]=this.#il(),o=this.#Ga,[l,c,d,u]=o;if(o[0]=e,o[1]=n,o[2]=i,o[3]=s,Math.abs(d-r)<=Xd.PRECISION||Math.abs(u-a)<=Xd.PRECISION){const t=e+i/2-(l+d/2),r=n+s/2-(c+u/2);for(const{line:e,points:n}of this.#qo)Xd._translate(e,t,r,e),Xd._translate(n,t,r,n);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Xd.svgRound(e)} ${Xd.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const h=(i-2*r)/(d-2*r),p=(s-2*a)/(u-2*a),f=-h*(l+r)+e+r,g=-p*(c+a)+n+a;if(1!==h||1!==p||0!==f||0!==g)for(const{line:m,points:v}of this.#qo)Xd._rescale(m,f,g,h,p,m),Xd._rescale(v,f,g,h,p,v);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Xd.svgRound(e)} ${Xd.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties(t,e){let[n,i]=t;const[s,r]=e,a=this.#Ga,o=n-a[0],l=i-a[1];if(this.#Yo===s&&this.#Qo===r)for(const{line:c,points:d}of this.#qo)Xd._translate(c,o,l,c),Xd._translate(d,o,l,d);else{const t=this.#Yo/s,e=this.#Qo/r;this.#Yo=s,this.#Qo=r;for(const{line:n,points:i}of this.#qo)Xd._rescale(n,o,l,t,e,n),Xd._rescale(i,o,l,t,e,i);a[2]*=t,a[3]*=e}return a[0]=n,a[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Xd.svgRound(n)} ${Xd.svgRound(i)}`}}}get defaultSVGProperties(){const t=this.#Ga;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Xd.svgRound(t[0])} ${Xd.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class au extends nu{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:Fo._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){"stroke-width"===t&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new au(this._viewParameters);return t.updateAll(this),t}}class ou extends iu{static _type="ink";static _editorType=(()=>ea.INK)();static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){Fo.initialize(t,e),this._defaultDrawingOptions=new au(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return Da(this,"typesMap",new Map([[na.INK_THICKNESS,"stroke-width"],[na.INK_COLOR,"stroke"],[na.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,n,i,s){return new su(t,e,n,i,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,n,i,s,r){return ru.deserialize(t,e,n,i,s,r)}static async deserialize(t,e,n){let i=null;if(t instanceof Nd){const{data:{inkLists:e,rect:n,rotation:s,id:r,color:a,opacity:o,borderStyle:{rawWidth:l},popupRef:c,richText:d,contentsObj:u,creationDate:h,modificationDate:p},parent:{page:{pageNumber:f}}}=t;i=t={annotationType:ea.INK,color:Array.from(a),thickness:l,opacity:o,paths:{points:e},boxes:null,pageIndex:f-1,rect:n.slice(0),rotation:s,annotationElementId:r,id:r,deleted:!1,popupRef:c,richText:d,comment:u?.str||null,creationDate:h,modificationDate:p}}const s=await super.deserialize(t,e,n);return s._initialData=i,t.comment&&s.setCommentData(t),s}get toolbarButtons(){return this._colorPicker||=new cd(this),[["colorPicker",this._colorPicker]]}get colorType(){return na.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:n}=this;e.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions(t){let{color:e,thickness:n,opacity:i}=t;this._drawingOptions=ou.getDefaultDrawingOptions({stroke:Va.makeHexColor(...e),"stroke-width":n,"stroke-opacity":i})}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:n}=this.serializeDraw(t),{_drawingOptions:{stroke:i,"stroke-opacity":s,"stroke-width":r}}=this,a=Object.assign(super.serialize(t),{color:Fo._colorManager.convert(i),opacity:s,thickness:r,paths:{lines:e,points:n}});return this.addComment(a),t?(a.isCopy=!0,a):this.annotationElementId&&!this.#_a(a)?null:(a.id=this.annotationElementId,a)}#_a(t){const{color:e,thickness:n,opacity:i,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some(((t,n)=>t!==e[n]))||t.thickness!==n||t.opacity!==i||t.pageIndex!==s}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:e,rect:n}=this.serializeDraw(!1);return t.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:e,popup:this.comment}),null}}class lu extends ru{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}class cu{static#sl={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#rl(t,e,n,i){return i-=e,0===(n-=t)?i>0?0:4:1===n?i+6:2-i}static#al=(()=>new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]))();static#ol(t,e,n,i,s,r,a){const o=this.#rl(n,i,s,r);for(let l=0;l<8;l++){const s=(-l+o-a+16)%8;if(0!==t[(n+this.#al[2*s])*e+(i+this.#al[2*s+1])])return s}return-1}static#ll(t,e,n,i,s,r,a){const o=this.#rl(n,i,s,r);for(let l=0;l<8;l++){const s=(l+o+a+16)%8;if(0!==t[(n+this.#al[2*s])*e+(i+this.#al[2*s+1])])return s}return-1}static#cl(t,e,n,i){const s=t.length,r=new Int32Array(s);for(let c=0;c<s;c++)r[c]=t[c]<=i?1:0;for(let c=1;c<n-1;c++)r[c*e]=r[c*e+e-1]=0;for(let c=0;c<e;c++)r[c]=r[e*n-1-c]=0;let a,o=1;const l=[];for(let c=1;c<n-1;c++){a=1;for(let t=1;t<e-1;t++){const n=c*e+t,i=r[n];if(0===i)continue;let s=c,d=t;if(1===i&&0===r[n-1])o+=1,d-=1;else{if(!(i>=1&&0===r[n+1])){1!==i&&(a=Math.abs(i));continue}o+=1,d+=1,i>1&&(a=i)}const u=[t,c],h=d===t+1,p={isHole:h,points:u,id:o,parent:0};let f;l.push(p);for(const t of l)if(t.id===a){f=t;break}f?f.isHole?p.parent=h?f.parent:a:p.parent=h?a:f.parent:p.parent=h?a:0;const g=this.#ol(r,e,c,t,s,d,0);if(-1===g){r[n]=-o,1!==r[n]&&(a=Math.abs(r[n]));continue}let m=this.#al[2*g],v=this.#al[2*g+1];const b=c+m,y=t+v;s=b,d=y;let w=c,x=t;for(;;){const i=this.#ll(r,e,w,x,s,d,1);m=this.#al[2*i],v=this.#al[2*i+1];const l=w+m,h=x+v;u.push(h,l);const p=w*e+x;if(0===r[p+1]?r[p]=-o:1===r[p]&&(r[p]=o),l===c&&h===t&&w===b&&x===y){1!==r[n]&&(a=Math.abs(r[n]));break}s=w,d=x,w=l,x=h}}}return l}static#dl(t,e,n,i){if(n-e<=4){for(let s=e;s<n-2;s+=2)i.push(t[s],t[s+1]);return}const s=t[e],r=t[e+1],a=t[n-4]-s,o=t[n-3]-r,l=Math.hypot(a,o),c=a/l,d=o/l,u=c*r-d*s,h=o/a,p=1/l,f=Math.atan(h),g=Math.cos(f),m=Math.sin(f),v=p*(Math.abs(g)+Math.abs(m)),b=p*(1-v+v**2),y=Math.max(Math.atan(Math.abs(m+g)*b),Math.atan(Math.abs(m-g)*b));let w=0,x=e;for(let _=e+2;_<n-2;_+=2){const e=Math.abs(u-c*t[_+1]+d*t[_]);e>w&&(x=_,w=e)}w>(l*y)**2?(this.#dl(t,e,x+2,i),this.#dl(t,x,n,i)):i.push(s,r)}static#ul(t){const e=[],n=t.length;return this.#dl(t,0,n,e),e.push(t[n-2],t[n-1]),e.length<=4?null:e}static#hl(t,e,n,i,s,r){const a=new Float32Array(r**2),o=-2*i**2,l=r>>1;for(let f=0;f<r;f++){const t=(f-l)**2;for(let e=0;e<r;e++)a[f*r+e]=Math.exp((t+(e-l)**2)/o)}const c=new Float32Array(256),d=-2*s**2;for(let f=0;f<256;f++)c[f]=Math.exp(f**2/d);const u=t.length,h=new Uint8Array(u),p=new Uint32Array(256);for(let f=0;f<n;f++)for(let i=0;i<e;i++){const s=f*e+i,o=t[s];let d=0,u=0;for(let h=0;h<r;h++){const s=f+h-l;if(!(s<0||s>=n))for(let n=0;n<r;n++){const p=i+n-l;if(p<0||p>=e)continue;const f=t[s*e+p],g=a[h*r+n]*c[Math.abs(f-o)];d+=f*g,u+=g}}p[h[s]=Math.round(d/u)]++}return[h,p]}static#pl(t){const e=new Uint32Array(256);for(const n of t)e[n]++;return e}static#fl(t){const e=t.length,n=new Uint8ClampedArray(e>>2);let i=-1/0,s=1/0;for(let a=0,o=n.length;a<o;a++){const e=n[a]=t[a<<2];i=Math.max(i,e),s=Math.min(s,e)}const r=255/(i-s);for(let a=0,o=n.length;a<o;a++)n[a]=(n[a]-s)*r;return n}static#gl(t){let e,n=-1/0,i=-1/0;const s=t.findIndex((t=>0!==t));let r=s,a=s;for(e=s;e<256;e++){const s=t[e];s>n&&(e-r>i&&(i=e-r,a=e-1),n=s,r=e)}for(e=a-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#ml(t){const e=t,{width:n,height:i}=t,{maxDim:s}=this.#sl;let r=n,a=i;if(n>s||i>s){let o=n,l=i,c=Math.log2(Math.max(n,i)/s);const d=Math.floor(c);c=c===d?d-1:d;for(let n=0;n<c;n++){r=Math.ceil(o/2),a=Math.ceil(l/2);const n=new OffscreenCanvas(r,a);n.getContext("2d").drawImage(t,0,0,o,l,0,0,r,a),o=r,l=a,t!==e&&t.close(),t=n.transferToImageBitmap()}const u=Math.min(s/r,s/a);r=Math.round(r*u),a=Math.round(a*u)}const o=new OffscreenCanvas(r,a).getContext("2d",{willReadFrequently:!0});o.fillStyle="white",o.fillRect(0,0,r,a),o.filter="grayscale(1)",o.drawImage(t,0,0,t.width,t.height,0,0,r,a);const l=o.getImageData(0,0,r,a).data;return[this.#fl(l),r,a]}static extractContoursFromText(t,e,n,i,s,r){let{fontFamily:a,fontStyle:o,fontWeight:l}=e,c=new OffscreenCanvas(1,1),d=c.getContext("2d",{alpha:!1});const u=d.font=`${o} ${l} 200px ${a}`,{actualBoundingBoxLeft:h,actualBoundingBoxRight:p,actualBoundingBoxAscent:f,actualBoundingBoxDescent:g,fontBoundingBoxAscent:m,fontBoundingBoxDescent:v,width:b}=d.measureText(t),y=1.5,w=Math.ceil(Math.max(Math.abs(h)+Math.abs(p)||0,b)*y),x=Math.ceil(Math.max(Math.abs(f)+Math.abs(g)||200,Math.abs(m)+Math.abs(v)||200)*y);c=new OffscreenCanvas(w,x),d=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=u,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,w,x),d.fillStyle="black",d.fillText(t,.5*w/2,1.5*x/2);const _=this.#fl(d.getImageData(0,0,w,x).data),S=this.#pl(_),k=this.#gl(S),A=this.#cl(_,w,x,k);return this.processDrawnLines({lines:{curves:A,width:w,height:x},pageWidth:n,pageHeight:i,rotation:s,innerMargin:r,mustSmooth:!0,areContours:!0})}static process(t,e,n,i,s){const[r,a,o]=this.#ml(t),[l,c]=this.#hl(r,a,o,Math.hypot(a,o)*this.#sl.sigmaSFactor,this.#sl.sigmaR,this.#sl.kernelSize),d=this.#gl(c),u=this.#cl(l,a,o,d);return this.processDrawnLines({lines:{curves:u,width:a,height:o},pageWidth:e,pageHeight:n,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines(t){let{lines:e,pageWidth:n,pageHeight:i,rotation:s,innerMargin:r,mustSmooth:a,areContours:o}=t;s%180!==0&&([n,i]=[i,n]);const{curves:l,width:c,height:d}=e,u=e.thickness??0,h=[],p=Math.min(n/c,i/d),f=p/n,g=p/i,m=[];for(const{points:b}of l){const t=a?this.#ul(b):b;if(!t)continue;m.push(t);const e=t.length,n=new Float32Array(e),i=new Float32Array(3*(2===e?2:e-2));if(h.push({line:i,points:n}),2===e){n[0]=t[0]*f,n[1]=t[1]*g,i.set([NaN,NaN,NaN,NaN,n[0],n[1]],0);continue}let[s,r,o,l]=t;s*=f,r*=g,o*=f,l*=g,n.set([s,r,o,l],0),i.set([NaN,NaN,NaN,NaN,s,r],0);for(let a=4;a<e;a+=2){const e=n[a]=t[a]*f,c=n[a+1]=t[a+1]*g;i.set(Xd.createBezierPoints(s,r,o,l,e,c),3*(a-2)),[s,r,o,l]=[o,l,e,c]}}if(0===h.length)return null;const v=o?new lu:new ru;return v.build(h,n,i,1,s,o?0:u,r),{outline:v,newCurves:m,areContours:o,thickness:u,width:c,height:d}}static async compressSignature(t){let e,{outlines:n,areContours:i,thickness:s,width:r,height:a}=t,o=1/0,l=-1/0,c=0;for(const b of n){c+=b.length;for(let t=2,e=b.length;t<e;t++){const e=b[t]-b[t-2];o=Math.min(o,e),l=Math.max(l,e)}}e=o>=-128&&l<=127?Int8Array:o>=-32768&&l<=32767?Int16Array:Int32Array;const d=n.length,u=8+3*d,h=new Uint32Array(u);let p=0;h[p++]=u*Uint32Array.BYTES_PER_ELEMENT+(c-2*d)*e.BYTES_PER_ELEMENT,h[p++]=0,h[p++]=r,h[p++]=a,h[p++]=i?0:1,h[p++]=Math.max(0,Math.floor(s??0)),h[p++]=d,h[p++]=e.BYTES_PER_ELEMENT;for(const b of n)h[p++]=b.length-2,h[p++]=b[0],h[p++]=b[1];const f=new CompressionStream("deflate-raw"),g=f.writable.getWriter();await g.ready,g.write(h);const m=e.prototype.constructor;for(const b of n){const t=new m(b.length-2);for(let e=2,n=b.length;e<n;e++)t[e-2]=b[e]-b[e-2];g.write(t)}g.close();const v=await new Response(f.readable).arrayBuffer();return Ka(new Uint8Array(v))}static async decompressSignature(t){try{const n=(e=t,Uint8Array.fromBase64?Uint8Array.fromBase64(e):Ua(atob(e))),{readable:i,writable:s}=new DecompressionStream("deflate-raw"),r=s.getWriter();await r.ready,r.write(n).then((async()=>{await r.ready,await r.close()})).catch((()=>{}));let a=null,o=0;for await(const t of i)a||=new Uint8Array(new Uint32Array(t.buffer,0,4)[0]),a.set(t,o),o+=t.length;const l=new Uint32Array(a.buffer,0,a.length>>2),c=l[1];if(0!==c)throw new Error(`Invalid version: ${c}`);const d=l[2],u=l[3],h=0===l[4],p=l[5],f=l[6],g=l[7],m=[],v=(8+3*f)*Uint32Array.BYTES_PER_ELEMENT;let b;switch(g){case Int8Array.BYTES_PER_ELEMENT:b=new Int8Array(a.buffer,v);break;case Int16Array.BYTES_PER_ELEMENT:b=new Int16Array(a.buffer,v);break;case Int32Array.BYTES_PER_ELEMENT:b=new Int32Array(a.buffer,v)}o=0;for(let t=0;t<f;t++){const e=l[3*t+8],n=new Float32Array(e+2);m.push(n);for(let i=0;i<2;i++)n[i]=l[3*t+8+i+1];for(let t=0;t<e;t++)n[t+2]=n[t]+b[o++]}return{areContours:h,thickness:p,outlines:m,width:d,height:u}}catch(gh){return Ca(`decompressSignature: ${gh}`),null}var e}}class du extends nu{constructor(){super(),super.updateProperties({fill:Fo._defaultLineColor,"stroke-width":0})}clone(){const t=new du;return t.updateAll(this),t}}class uu extends au{constructor(t){super(t),super.updateProperties({stroke:Fo._defaultLineColor,"stroke-width":1})}clone(){const t=new uu(this._viewParameters);return t.updateAll(this),t}}class hu extends iu{#vl=!1;#bl=null;#yl=null;#wl=null;static _type="signature";static _editorType=(()=>ea.SIGNATURE)();static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#yl=t.signatureData||null,this.#bl=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){Fo.initialize(t,e),this._defaultDrawingOptions=new du,this._defaultDrawnSignatureOptions=new uu(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return Da(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#bl}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){null!==this._drawId&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),null===this._drawId)if(this.#yl){const{lines:t,mustSmooth:e,areContours:n,description:i,uuid:s,heightInPage:r}=this.#yl,{rawDims:{pageWidth:a,pageHeight:o},rotation:l}=this.parent.viewport,c=cu.processDrawnLines({lines:t,pageWidth:a,pageHeight:o,rotation:l,innerMargin:hu._INNER_MARGIN,mustSmooth:e,areContours:n});this.addSignature(c,r,i,s)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#bl||""}));return n&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#wl=t,this.addEditToolbar()}getUuid(){return this.#wl}get description(){return this.#bl}set description(t){this.#bl=t,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then((e=>{e?.updateEditSignatureButton(t)})))}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:n,width:i,height:s}=this.#yl,r=Math.max(i,s);return{areContours:e,outline:cu.processDrawnLines({lines:{curves:t.map((t=>({points:t}))),thickness:n,width:i,height:s},pageWidth:r,pageHeight:r,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e}).outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,n,i){const{x:s,y:r}=this,{outline:a}=this.#yl=t;let o;this.#vl=a instanceof lu,this.description=n,this.#vl?o=hu.getDefaultDrawingOptions():(o=hu._defaultDrawnSignatureOptions.clone(),o.updateProperties({"stroke-width":a.thickness})),this._addOutlines({drawOutlines:a,drawingOptions:o});const[,l]=this.pageDimensions;let c=e/l;c=c>=1?.5:c,this.width*=c/this.height,this.width>=1&&(c*=.9/this.width,this.width=.9),this.height=c,this.setDims(),this.x=s,this.y=r,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:i}=this.parent.viewport;return cu.process(t,e,n,i,hu._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:n,pageHeight:i},rotation:s}=this.parent.viewport;return cu.extractContoursFromText(t,e,n,i,s,hu._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:i}=this.parent.viewport;return cu.processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:i,innerMargin:hu._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions(t){let{areContours:e,thickness:n}=t;e?this._drawingOptions=hu.getDefaultDrawingOptions():(this._drawingOptions=hu._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;const{lines:e,points:n}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":i}}=this,s=Object.assign(super.serialize(t),{isSignature:!0,areContours:this.#vl,color:[0,0,0],thickness:this.#vl?0:i});return this.addComment(s),t?(s.paths={lines:e,points:n},s.uuid=this.#wl,s.isCopy=!0):s.lines=e,this.#bl&&(s.accessibilityData={type:"Figure",alt:this.#bl}),s}static deserializeDraw(t,e,n,i,s,r){return r.areContours?lu.deserialize(t,e,n,i,s,r):ru.deserialize(t,e,n,i,s,r)}static async deserialize(t,e,n){const i=await super.deserialize(t,e,n);return i.#vl=t.areContours,i.description=t.accessibilityData?.alt||"",i.#wl=t.uuid,i}}class pu extends Fo{#xl=null;#_l=null;#Sl=null;#kl=null;#Al=null;#Cl="";#El=null;#Tl=!1;#Pl=null;#Ml=!1;#Dl=!1;static _type="stamp";static _editorType=(()=>ea.STAMP)();constructor(t){super({...t,name:"stampEditor"}),this.#kl=t.bitmapUrl,this.#Al=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){Fo.initialize(t,e)}static isHandlingMimeForPasting(t){return mo.includes(t)}static paste(t,e){e.pasteEditor({mode:ea.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#Rl(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?(this.#xl=t.bitmap,e||(this.#_l=t.id,this.#Ml=t.isSvg),t.file&&(this.#Cl=t.file.name),this.#Il()):this.remove()}#Ll(){if(this.#Sl=null,this._uiManager.enableWaiting(!1),this.#El)if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#xl)this.addEditToolbar().then((()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)}));else{if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#xl){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:s,height:r}=t||this.copyCanvas(null,null,!0).imageData,a=await n.guess({name:"altText",request:{data:i,width:s,height:r,channels:i.length/(s*r)}});if(!a)throw new Error("No response from the AI service.");if(a.error)throw new Error("Error from the AI service.");if(a.cancel)return null;if(!a.output)throw new Error("No valid response from the AI service.");const o=a.output;return await this.setGuessedAltText(o),e&&!this.hasAltTextData()&&(this.altTextData={alt:o,decorative:!1}),o}#Ol(){if(this.#_l)return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(this.#_l).then((t=>this.#Rl(t,!0))).finally((()=>this.#Ll()));if(this.#kl){const t=this.#kl;return this.#kl=null,this._uiManager.enableWaiting(!0),void(this.#Sl=this._uiManager.imageManager.getFromUrl(t).then((t=>this.#Rl(t))).finally((()=>this.#Ll())))}if(this.#Al){const t=this.#Al;return this.#Al=null,this._uiManager.enableWaiting(!0),void(this.#Sl=this._uiManager.imageManager.getFromFile(t).then((t=>this.#Rl(t))).finally((()=>this.#Ll())))}const t=document.createElement("input");t.type="file",t.accept=mo.join(",");const e=this._uiManager._signal;this.#Sl=new Promise((n=>{t.addEventListener("change",(async()=>{if(t.files&&0!==t.files.length){this._uiManager.enableWaiting(!0);const e=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#Rl(e)}else this.remove();n()}),{signal:e}),t.addEventListener("cancel",(()=>{this.remove(),n()}),{signal:e})})).finally((()=>this.#Ll())),t.click()}remove(){this.#_l&&(this.#xl=null,this._uiManager.imageManager.deleteId(this.#_l),this.#El?.remove(),this.#El=null,this.#Pl&&(clearTimeout(this.#Pl),this.#Pl=null)),super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(this.#_l&&null===this.#El&&this.#Ol(),this.isAttachedToDOM||this.parent.add(this))):this.#_l&&this.#Ol()}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#Sl||this.#xl||this.#kl||this.#Al||this.#_l||this.#Tl)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#Tl||(this.#xl?this.#Il():this.#Ol()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:n,bitmap:i}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(this.#_l=n,i&&(this.#xl=i),this.#Tl=!1,this.#Il())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;null!==this.#Pl&&clearTimeout(this.#Pl);this.#Pl=setTimeout((()=>{this.#Pl=null,this.#Fl()}),200)}#Il(){const{div:t}=this;let{width:e,height:n}=this.#xl;const[i,s]=this.pageDimensions,r=.75;if(this.width)e=this.width*i,n=this.height*s;else if(e>r*i||n>r*s){const t=Math.min(r*i/e,r*s/n);e*=t,n*=t}this._uiManager.enableWaiting(!1);const a=this.#El=document.createElement("canvas");a.setAttribute("role","img"),this.addContainer(a),this.width=e/i,this.height=n/s,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&!this.annotationElementId||(t.hidden=!1),this.#Fl(),this.#Dl||(this.parent.addUndoableEditor(this),this.#Dl=!0),this._reportTelemetry({action:"inserted_image"}),this.#Cl&&this.div.setAttribute("aria-description",this.#Cl),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t||(t=224);const{width:i,height:s}=this.#xl,r=new go;let a=this.#xl,o=i,l=s,c=null;if(e){if(i>e||s>e){const t=Math.min(e/i,e/s);o=Math.floor(i*t),l=Math.floor(s*t)}c=document.createElement("canvas");const t=c.width=Math.ceil(o*r.sx),n=c.height=Math.ceil(l*r.sy);this.#Ml||(a=this.#Bl(t,n));const d=c.getContext("2d");d.filter=this._uiManager.hcmFilter;let u="white",h="#cfcfd8";"none"!==this._uiManager.hcmFilter?h="black":vo.isDarkMode&&(u="#8f8f9d",h="#42414d");const p=15,f=p*r.sx,g=p*r.sy,m=new OffscreenCanvas(2*f,2*g),v=m.getContext("2d");v.fillStyle=u,v.fillRect(0,0,2*f,2*g),v.fillStyle=h,v.fillRect(0,0,f,g),v.fillRect(f,g,f,g),d.fillStyle=d.createPattern(m,"repeat"),d.fillRect(0,0,t,n),d.drawImage(a,0,0,a.width,a.height,0,0,t,n)}let d=null;if(n){let e,n;if(r.symmetric&&a.width<t&&a.height<t)e=a.width,n=a.height;else if(a=this.#xl,i>t||s>t){const r=Math.min(t/i,t/s);e=Math.floor(i*r),n=Math.floor(s*r),this.#Ml||(a=this.#Bl(e,n))}const o=new OffscreenCanvas(e,n).getContext("2d",{willReadFrequently:!0});o.drawImage(a,0,0,a.width,a.height,0,0,e,n),d={width:e,height:n,data:o.getImageData(0,0,e,n).data}}return{canvas:c,width:o,height:l,imageData:d}}#Bl(t,e){const{width:n,height:i}=this.#xl;let s=n,r=i,a=this.#xl;for(;s>2*t||r>2*e;){const n=s,i=r;s>2*t&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),r>2*e&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2));const o=new OffscreenCanvas(s,r);o.getContext("2d").drawImage(a,0,0,n,i,0,0,s,r),a=o.transferToImageBitmap()}return a}#Fl(){const[t,e]=this.parentDimensions,{width:n,height:i}=this,s=new go,r=Math.ceil(n*t*s.sx),a=Math.ceil(i*e*s.sy),o=this.#El;if(!o||o.width===r&&o.height===a)return;o.width=r,o.height=a;const l=this.#Ml?this.#xl:this.#Bl(r,a),c=o.getContext("2d");c.filter=this._uiManager.hcmFilter,c.drawImage(l,0,0,l.width,l.height,0,0,r,a)}#Nl(t){if(t){if(this.#Ml){const t=this._uiManager.imageManager.getSvgUrl(this.#_l);if(t)return t}const t=document.createElement("canvas");({width:t.width,height:t.height}=this.#xl);return t.getContext("2d").drawImage(this.#xl,0,0),t.toDataURL()}if(this.#Ml){const[t,e]=this.pageDimensions,n=Math.round(this.width*t*Za.PDF_TO_CSS_UNITS),i=Math.round(this.height*e*Za.PDF_TO_CSS_UNITS),s=new OffscreenCanvas(n,i);return s.getContext("2d").drawImage(this.#xl,0,0,this.#xl.width,this.#xl.height,0,0,n,i),s.transferToImageBitmap()}return structuredClone(this.#xl)}static async deserialize(t,e,n){let i=null,s=!1;if(t instanceof Vd){const{data:{rect:r,rotation:a,id:o,structParent:l,popupRef:c,richText:d,contentsObj:u,creationDate:h,modificationDate:p},container:f,parent:{page:{pageNumber:g}},canvas:m}=t;let v,b;m?(delete t.canvas,({id:v,bitmap:b}=n.imageManager.getFromCanvas(f.id,m)),m.remove()):(s=!0,t._hasNoCanvas=!0);const y=(await e._structTree.getAriaAttributes(`${qa}${o}`))?.get("aria-label")||"";i=t={annotationType:ea.STAMP,bitmapId:v,bitmap:b,pageIndex:g-1,rect:r.slice(0),rotation:a,annotationElementId:o,id:o,deleted:!1,accessibilityData:{decorative:!1,altText:y},isSvg:!1,structParent:l,popupRef:c,richText:d,comment:u?.str||null,creationDate:h,modificationDate:p}}const r=await super.deserialize(t,e,n),{rect:a,bitmap:o,bitmapUrl:l,bitmapId:c,isSvg:d,accessibilityData:u}=t;s?(n.addMissingCanvas(t.id,r),r.#Tl=!0):c&&n.imageManager.isValidId(c)?(r.#_l=c,o&&(r.#xl=o)):r.#kl=l,r.#Ml=d;const[h,p]=r.pageDimensions;return r.width=(a[2]-a[0])/h,r.height=(a[3]-a[1])/p,u&&(r.altTextData=u),r._initialData=i,t.comment&&r.setCommentData(t),r.#Dl=!!i,r}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Object.assign(super.serialize(t),{bitmapId:this.#_l,isSvg:this.#Ml});if(this.addComment(n),t)return n.bitmapUrl=this.#Nl(!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:i,altText:s}=this.serializeAltText(!1);if(!i&&s&&(n.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const t=this.#_a(n);return t.isSame?null:(t.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1,n.id=this.annotationElementId,delete n.bitmapId,n)}if(null===e)return n;e.stamps||=new Map;const r=this.#Ml?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(e.stamps.has(this.#_l)){if(this.#Ml){const t=e.stamps.get(this.#_l);r>t.area&&(t.area=r,t.serialized.bitmap.close(),t.serialized.bitmap=this.#Nl(!1))}}else e.stamps.set(this.#_l,{area:r,serialized:n}),n.bitmap=this.#Nl(!1);return n}#_a(t){const{pageIndex:e,accessibilityData:{altText:n}}=this._initialData,i=t.pageIndex===e,s=(t.accessibilityData?.alt||"")===n;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&i&&s,isSameAltText:s}}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class fu{#ra;#zl=!1;#Ul=null;#jl=null;#Hl=null;#Vl=(()=>new Map)();#$l=!1;#Wl=!1;#Gl=!1;#ql=null;#Xl=null;#Kl=null;#Yl=null;#Ql=null;#Jl=-1;#v;static _initialized=!1;static#W=(()=>new Map([qd,ou,pu,eu,hu].map((t=>[t._editorType,t]))))();constructor(t){let{uiManager:e,pageIndex:n,div:i,structTreeLayer:s,accessibilityManager:r,annotationLayer:a,drawLayer:o,textLayer:l,viewport:c,l10n:d}=t;const u=[...fu.#W.values()];if(!fu._initialized){fu._initialized=!0;for(const t of u)t.initialize(d,e)}e.registerEditorTypes(u),this.#v=e,this.pageIndex=n,this.div=i,this.#ra=r,this.#Ul=a,this.viewport=c,this.#Kl=l,this.drawLayer=o,this._structTree=s,this.#v.addLayer(this)}get isEmpty(){return 0===this.#Vl.size}get isInvisible(){return this.isEmpty&&this.#v.getMode()===ea.NONE}updateToolbar(t){this.#v.updateToolbar(t)}updateMode(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.#v.getMode();switch(this.#Zl(),t){case ea.NONE:return this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case ea.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case ea.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;if(e.toggle("nonEditing",!1),t===ea.POPUP)e.toggle("commentEditing",!0);else{e.toggle("commentEditing",!1);for(const n of fu.#W.values())e.toggle(`${n._type}Editing`,t===n._editorType)}this.div.hidden=!1}hasTextLayer(t){return t===this.#Kl?.div}setEditingState(t){this.#v.setEditingState(t)}addCommands(t){this.#v.addCommands(t)}cleanUndoStack(t){this.#v.cleanUndoStack(t)}toggleDrawing(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("drawing",!t)}togglePointerEvents(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#Ul?.div.classList.toggle("disabled",!t)}get#tc(){return 0!==this.#Vl.size?this.#Vl.values():this.#v.getEditors(this.pageIndex)}async enable(){this.#Gl=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#Ql?.abort(),this.#Ql=null;const t=new Set;for(const n of this.#tc)n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#v.removeChangedExistingAnnotation(n),t.add(n.annotationElementId));const e=this.#Ul;if(e)for(const n of e.getEditableAnnotations()){if(n.hide(),this.#v.isDeletedAnnotationElement(n.data.id))continue;if(t.has(n.data.id))continue;const e=await this.deserialize(n);e&&(this.addOrRebuild(e),e.enableEditing())}this.#Gl=!1,this.#v._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#Wl=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#Kl&&!this.#Ql){this.#Ql=new AbortController;const t=this.#v.combinedSignal(this.#Ql);this.#Kl.div.addEventListener("pointerdown",(t=>{const{clientX:e,clientY:n,timeStamp:i}=t;if(i-this.#Jl>500)return void(this.#Jl=i);this.#Jl=-1;const{classList:s}=this.div;s.toggle("getElements",!0);const r=document.elementsFromPoint(e,n);if(s.toggle("getElements",!1),!this.div.contains(r[0]))return;let a;const o=new RegExp(`^${ta}[0-9]+$`);for(const c of r)if(o.test(c.id)){a=c.id;break}if(!a)return;const l=this.#Vl.get(a);null===l?.annotationElementId&&(t.stopPropagation(),t.preventDefault(),l.dblclick(t))}),{signal:t,capture:!0})}const t=this.#Ul;if(t){const e=new Map,n=new Map;for(const s of this.#tc)s.disableEditing(),s.annotationElementId?null===s.serialize()?(n.set(s.annotationElementId,s),this.getEditableAnnotation(s.annotationElementId)?.show(),s.remove()):e.set(s.annotationElementId,s):s.updateFakeAnnotationElement(t);const i=t.getEditableAnnotations();for(const t of i){const{id:i}=t.data;if(this.#v.isDeletedAnnotationElement(i)){t.updateEdited({deleted:!0});continue}let s=n.get(i);s?(s.resetAnnotationElement(t),s.show(!1),t.show()):(s=e.get(i),s&&(this.#v.addChangedExistingAnnotation(s),s.renderAnnotationElement(t)&&s.show(!1)),t.show())}}this.#Zl(),this.isEmpty&&(this.div.hidden=!0);const{classList:e}=this.div;for(const n of fu.#W.values())e.remove(`${n._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#Wl=!1}getEditableAnnotation(t){return this.#Ul?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#v.getActive()!==t&&this.#v.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#Kl?.div&&!this.#Yl){this.#Yl=new AbortController;const t=this.#v.combinedSignal(this.#Yl);this.#Kl.div.addEventListener("pointerdown",this.#ec.bind(this),{signal:t}),this.#Kl.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#Kl?.div&&this.#Yl&&(this.#Yl.abort(),this.#Yl=null,this.#Kl.div.classList.remove("highlighting"))}#ec(t){this.#v.unselectAll();const{target:e}=t;if(e===this.#Kl.div||("img"===e.getAttribute("role")||e.classList.contains("endOfContent"))&&this.#Kl.div.contains(e)){const{isMac:e}=ja.platform;if(0!==t.button||t.ctrlKey&&e)return;this.#v.showAllEditors("highlight",!0,!0),this.#Kl.div.classList.add("free"),this.toggleDrawing(),eu.startHighlighting(this,"ltr"===this.#v.direction,{target:this.#Kl.div,x:t.x,y:t.y}),this.#Kl.div.addEventListener("pointerup",(()=>{this.#Kl.div.classList.remove("free"),this.toggleDrawing(!0)}),{once:!0,signal:this.#v._signal}),t.preventDefault()}}enableClick(){if(this.#jl)return;this.#jl=new AbortController;const t=this.#v.combinedSignal(this.#jl);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#jl?.abort(),this.#jl=null}attach(t){this.#Vl.set(t.id,t);const{annotationElementId:e}=t;e&&this.#v.isDeletedAnnotationElement(e)&&this.#v.removeDeletedAnnotationElement(t)}detach(t){this.#Vl.delete(t.id),this.#ra?.removePointerInTextLayer(t.contentDiv),!this.#Wl&&t.annotationElementId&&this.#v.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#v.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#v.addDeletedAnnotationElement(t.annotationElementId),Fo.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(t.parent!==this||!t.isAttachedToDOM){if(this.changeParent(t),this.#v.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#Gl),this.#v.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#Hl&&(t._focusEventsAllowed=!1,this.#Hl=setTimeout((()=>{this.#Hl=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",(()=>{t._focusEventsAllowed=!0}),{once:!0,signal:this.#v._signal}),e.focus())}),0)),t._structTreeParentId=this.#ra?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){this.addCommands({cmd:()=>t._uiManager.rebuild(t),undo:()=>{t.remove()},mustExec:!1})}getEditorByUID(t){for(const e of this.#Vl.values())if(e.uid===t)return e;return null}getNextId(){return this.#v.getId()}get#nc(){return fu.#W.get(this.#v.getMode())}combinedSignal(t){return this.#v.combinedSignal(t)}#ic(t){const e=this.#nc;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#nc?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#v.updateMode(t.mode);const{offsetX:n,offsetY:i}=this.#sc(),s=this.getNextId(),r=this.#ic({parent:this,id:s,x:n,y:i,uiManager:this.#v,isCentered:!0,...e});r&&this.add(r)}async deserialize(t){return await(fu.#W.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#v))||null}createAndAddNewEditor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=this.getNextId(),s=this.#ic({parent:this,id:i,x:t.offsetX,y:t.offsetY,uiManager:this.#v,isCentered:e,...n});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}#sc(){const{x:t,y:e,width:n,height:i}=this.boundingClientRect,s=Math.max(0,t),r=Math.max(0,e),a=(s+Math.min(window.innerWidth,t+n))/2-t,o=(r+Math.min(window.innerHeight,e+i))/2-e,[l,c]=this.viewport.rotation%180===0?[a,o]:[o,a];return{offsetX:l,offsetY:c}}addNewEditor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.createAndAddNewEditor(this.#sc(),!0,t)}setSelected(t){this.#v.setSelected(t)}toggleSelected(t){this.#v.toggleSelected(t)}unselect(t){this.#v.unselect(t)}pointerup(t){const{isMac:e}=ja.platform;if(0!==t.button||t.ctrlKey&&e)return;if(t.target!==this.div)return;if(!this.#$l)return;if(this.#$l=!1,this.#nc?.isDrawer&&this.#nc.supportMultipleDrawings)return;if(!this.#zl)return void(this.#zl=!0);const n=this.#v.getMode();n!==ea.STAMP&&n!==ea.SIGNATURE?this.createAndAddNewEditor(t,!1):this.#v.unselectAll()}pointerdown(t){if(this.#v.getMode()===ea.HIGHLIGHT&&this.enableTextSelection(),this.#$l)return void(this.#$l=!1);const{isMac:e}=ja.platform;if(0!==t.button||t.ctrlKey&&e)return;if(t.target!==this.div)return;if(this.#$l=!0,this.#nc?.isDrawer)return void this.startDrawingSession(t);const n=this.#v.getActive();this.#zl=!n||n.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#ql)return void this.#nc.startDrawing(this,this.#v,!1,t);this.#v.setCurrentDrawingSession(this),this.#ql=new AbortController;const e=this.#v.combinedSignal(this.#ql);this.div.addEventListener("blur",(t=>{let{relatedTarget:e}=t;e&&!this.div.contains(e)&&(this.#Xl=null,this.commitOrRemove())}),{signal:e}),this.#nc.startDrawing(this,this.#v,!1,t)}pause(t){if(t){const{activeElement:t}=document;this.div.contains(t)&&(this.#Xl=t)}else this.#Xl&&setTimeout((()=>{this.#Xl?.focus(),this.#Xl=null}),0)}endDrawingSession(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.#ql?(this.#v.setCurrentDrawingSession(null),this.#ql.abort(),this.#ql=null,this.#Xl=null,this.#nc.endDrawing(t)):null}findNewParent(t,e,n){const i=this.#v.findParent(e,n);return null!==i&&i!==this&&(i.changeParent(t),!0)}commitOrRemove(){return!!this.#ql&&(this.endDrawingSession(),!0)}onScaleChanging(){this.#ql&&this.#nc.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#v.getActive()?.parent===this&&(this.#v.commitOrRemove(),this.#v.setActiveEditor(null)),this.#Hl&&(clearTimeout(this.#Hl),this.#Hl=null);for(const t of this.#Vl.values())this.#ra?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#Vl.clear(),this.#v.removeLayer(this)}#Zl(){for(const t of this.#Vl.values())t.isEmpty()&&t.remove()}render(t){let{viewport:e}=t;this.viewport=e,fo(this.div,e);for(const n of this.#v.getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update(t){let{viewport:e}=t;this.#v.commitOrRemove(),this.#Zl();const n=this.viewport.rotation,i=e.rotation;if(this.viewport=e,fo(this.div,{rotation:i}),n!==i)for(const s of this.#Vl.values())s.rotate(i)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#v.viewParameters.realScale}}class gu{#Pr=null;#rc=(()=>new Map)();#ac=(()=>new Map)();static#x=0;constructor(t){let{pageIndex:e}=t;this.pageIndex=e}setParent(t){if(this.#Pr){if(this.#Pr!==t){if(this.#rc.size>0)for(const e of this.#rc.values())e.remove(),t.append(e);this.#Pr=t}}else this.#Pr=t}static get _svgFactory(){return Da(this,"_svgFactory",new fd)}static#oc(t,e){let[n,i,s,r]=e;const{style:a}=t;a.top=100*i+"%",a.left=100*n+"%",a.width=100*s+"%",a.height=100*r+"%"}#lc(){const t=gu._svgFactory.create(1,1,!0);return this.#Pr.append(t),t.setAttribute("aria-hidden",!0),t}#cc(t,e){const n=gu._svgFactory.createElement("clipPath");t.append(n);const i=`clip_${e}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const s=gu._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${e}`),s.classList.add("clip"),i}#dc(t,e){for(const[n,i]of Object.entries(e))null===i?t.removeAttribute(n):t.setAttribute(n,i)}draw(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=gu.#x++,s=this.#lc(),r=gu._svgFactory.createElement("defs");s.append(r);const a=gu._svgFactory.createElement("path");r.append(a);const o=`path_p${this.pageIndex}_${i}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#ac.set(i,a);const l=n?this.#cc(r,o):null,c=gu._svgFactory.createElement("use");return s.append(c),c.setAttribute("href",`#${o}`),this.updateProperties(s,t),this.#rc.set(i,s),{id:i,clipPathId:`url(#${l})`}}drawOutline(t,e){const n=gu.#x++,i=this.#lc(),s=gu._svgFactory.createElement("defs");i.append(s);const r=gu._svgFactory.createElement("path");s.append(r);const a=`path_p${this.pageIndex}_${n}`;let o;if(r.setAttribute("id",a),r.setAttribute("vector-effect","non-scaling-stroke"),e){const t=gu._svgFactory.createElement("mask");s.append(t),o=`mask_p${this.pageIndex}_${n}`,t.setAttribute("id",o),t.setAttribute("maskUnits","objectBoundingBox");const e=gu._svgFactory.createElement("rect");t.append(e),e.setAttribute("width","1"),e.setAttribute("height","1"),e.setAttribute("fill","white");const i=gu._svgFactory.createElement("use");t.append(i),i.setAttribute("href",`#${a}`),i.setAttribute("stroke","none"),i.setAttribute("fill","black"),i.setAttribute("fill-rule","nonzero"),i.classList.add("mask")}const l=gu._svgFactory.createElement("use");i.append(l),l.setAttribute("href",`#${a}`),o&&l.setAttribute("mask",`url(#${o})`);const c=l.cloneNode();return i.append(c),l.classList.add("mainOutline"),c.classList.add("secondaryOutline"),this.updateProperties(i,t),this.#rc.set(n,i),n}finalizeDraw(t,e){this.#ac.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:n,bbox:i,rootClass:s,path:r}=e,a="number"===typeof t?this.#rc.get(t):t;if(a){if(n&&this.#dc(a,n),i&&gu.#oc(a,i),s){const{classList:t}=a;for(const[e,n]of Object.entries(s))t.toggle(e,n)}if(r){const t=a.firstChild.firstChild;this.#dc(t,r)}}}updateParent(t,e){if(e===this)return;const n=this.#rc.get(t);n&&(e.#Pr.append(n),this.#rc.delete(t),e.#rc.set(t,n))}remove(t){this.#ac.delete(t),null!==this.#Pr&&(this.#rc.get(t).remove(),this.#rc.delete(t))}destroy(){this.#Pr=null;for(const t of this.#rc.values())t.remove();this.#rc.clear(),this.#ac.clear()}}function mu(t){var e,n,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t)if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=mu(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}globalThis._pdfjsTestingUtils={HighlightOutliner:Qd},globalThis.pdfjsLib={AbortException:Na,AnnotationEditorLayer:fu,AnnotationEditorParamsType:na,AnnotationEditorType:ea,AnnotationEditorUIManager:Ro,AnnotationLayer:Wd,AnnotationMode:Zr,AnnotationType:da,applyOpacity:function(t,e,n,i){const s=255*(1-(i=Math.min(Math.max(i??1,0),1)));return[t=Math.round(t*i+s),e=Math.round(e*i+s),n=Math.round(n*i+s)]},build:"f56dc8601",ColorPicker:ld,createValidAbsoluteUrl:Pa,CSSConstants:class{static get commentForegroundColor(){const t=document.createElement("span");t.classList.add("comment","sidebar");const{style:e}=t;e.width=e.height="0",e.display="none",e.color="var(--comment-fg-color)",document.body.append(t);const{color:n}=window.getComputedStyle(t);return t.remove(),Da(this,"commentForegroundColor",uo(n))}},DOMSVGFactory:fd,DrawLayer:gu,FeatureTest:ja,fetchData:to,findContrastColor:function(t,e){const n=t[0]+256*t[1]+65536*t[2]+16777216*e[0]+4294967296*e[1]+1099511627776*e[2];let i=_o.get(n);if(i)return i;const s=new Float32Array(9),r=s.subarray(0,3),a=s.subarray(3,6);bo(t,a);const o=s.subarray(6,9);bo(e,o);const l=o[2]<.5,c=l?12:4.5;if(a[2]=l?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),xo(a,o,r)<c){let t,e;l?(t=a[2],e=1):(t=0,e=a[2]);const n=.005;for(;e-t>n;){const n=a[2]=(t+e)/2;l===xo(a,o,r)<c?t=n:e=n}a[2]=l?e:t}return yo(a,r),i=Va.makeHexColor(Math.round(255*r[0]),Math.round(255*r[1]),Math.round(255*r[2])),_o.set(n,i),i},getDocument:Jc,getFilenameFromUrl:function(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)},getPdfFilenameFromUrl:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof t)return e;if(io(t))return Ca('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(t=>{try{return new URL(t)}catch{try{return new URL(decodeURIComponent(t))}catch{try{return new URL(t,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(t),"https://foo.bar")}catch{return null}}}}})(t);if(!n)return e;const i=t=>{try{let e=decodeURIComponent(t);return e.includes("/")?(e=e.split("/").at(-1),e.test(/^\.pdf$/i)?e:t):e}catch{return t}},s=/\.pdf$/i,r=n.pathname.split("/").at(-1);if(s.test(r))return i(r);if(n.searchParams.size>0){const t=Array.from(n.searchParams.values()).reverse();for(const n of t)if(s.test(n))return i(n);const e=Array.from(n.searchParams.keys()).reverse();for(const n of e)if(s.test(n))return i(n)}if(n.hash){const t=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(t)return i(t[0])}return e},getRGB:uo,getUuid:Ga,getXfaPageViewport:function(t,e){let{scale:n=1,rotation:i=0}=e;const{width:s,height:r}=t.attributes.style,a=[0,0,parseInt(s),parseInt(r)];return new eo({viewBox:a,userUnit:1,scale:n,rotation:i})},GlobalWorkerOptions:_c,ImageKind:ca,InvalidPDFException:Oa,isDataScheme:io,isPdfFile:so,isValidExplicitDest:Ko,MathClamp:Xa,noContextMenu:oo,normalizeUnicode:function(t){return $a||($a=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Wa=new Map([["\ufb05","\u017ft"]])),t.replaceAll($a,((t,e,n)=>e?e.normalize("NFKC"):Wa.get(n)))},OPS:va,OutputScale:go,PasswordResponses:{NEED_PASSWORD:1,INCORRECT_PASSWORD:2},PDFDataRangeTransport:td,PDFDateString:co,PDFWorker:id,PermissionFlag:{PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},PixelsPerInch:Za,RenderingCancelledException:no,renderRichText:So,ResponseException:Fa,setLayerDimensions:fo,shadow:Da,SignatureExtractor:cu,stopEvent:lo,SupportedImageMimeTypes:mo,TextLayer:Qc,TouchManager:Oo,updateUrlHash:Ma,Util:Va,VerbosityLevel:ma,version:od,XfaLayer:Qa};const vu=function(){for(var t,e,n=0,i="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=mu(t))&&(i&&(i+=" "),i+=e);return i};var bu=Object.prototype.hasOwnProperty;function yu(t,e,n){for(n of t.keys())if(wu(n,e))return n}function wu(t,e){var n,i,s;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((i=t.length)===e.length)for(;i--&&wu(t[i],e[i]););return-1===i}if(n===Set){if(t.size!==e.size)return!1;for(i of t){if((s=i)&&"object"===typeof s&&!(s=yu(e,s)))return!1;if(!e.has(s))return!1}return!0}if(n===Map){if(t.size!==e.size)return!1;for(i of t){if((s=i[0])&&"object"===typeof s&&!(s=yu(e,s)))return!1;if(!wu(i[1],e.get(s)))return!1}return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((i=t.byteLength)===e.byteLength)for(;i--&&t.getInt8(i)===e.getInt8(i););return-1===i}if(ArrayBuffer.isView(t)){if((i=t.byteLength)===e.byteLength)for(;i--&&t[i]===e[i];);return-1===i}if(!n||"object"===typeof t){for(n in i=0,t){if(bu.call(t,n)&&++i&&!bu.call(e,n))return!1;if(!(n in e)||!wu(t[n],e[n]))return!1}return Object.keys(e).length===i}}return t!==t&&e!==e}function xu(t){let e=!1;return{promise:new Promise(((n,i)=>{t.then((t=>!e&&n(t))).catch((t=>!e&&i(t)))})),cancel(){e=!0}}}const _u=["onCopy","onCut","onPaste","onCompositionEnd","onCompositionStart","onCompositionUpdate","onFocus","onBlur","onInput","onInvalid","onReset","onSubmit","onLoad","onError","onKeyDown","onKeyPress","onKeyUp","onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting","onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut","onScroll","onWheel","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionEnd","onChange","onToggle"];function Su(t,e){const n={};for(const i of _u){const s=t[i];s&&(n[i]=e?t=>s(t,e(i)):s)}return n}var ku="Invariant failed";function Au(t,e){if(!t)throw new Error(ku)}var Cu=n(440);const Eu=(0,r.createContext)(null);class Tu{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Au(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){Au(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}addLinkAttributes(t,e,n){t.href=e,t.rel=this.externalLinkRel||"noopener noreferrer nofollow",t.target=n?"_blank":this.externalLinkTarget||""}goToDestination(t){return new Promise((e=>{Au(this.pdfDocument),Au(t),"string"===typeof t?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)})).then((t=>{Au(Array.isArray(t));const e=t[0];new Promise((t=>{Au(this.pdfDocument),e instanceof Object?this.pdfDocument.getPageIndex(e).then((e=>{t(e)})).catch((()=>{Au(!1)})):"number"===typeof e?t(e):Au(!1)})).then((e=>{const n=e+1;Au(this.pdfViewer),Au(n>=1&&n<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:e,pageNumber:n})}))}))}goToPage(t){const e=t-1;Au(this.pdfViewer),Au(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(t){this.goToDestination(t)}}function Pu(t){let{children:e,type:n}=t;return(0,zr.jsx)("div",{className:`react-pdf__message react-pdf__message--${n}`,children:e})}const Mu={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function Du(t,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return t}}function Ru(){return(0,r.useReducer)(Du,{value:void 0,error:void 0})}const Iu="undefined"!==typeof window,Lu=Iu&&"file:"===window.location.protocol;function Ou(t){return function(t){return"undefined"!==typeof t}(t)&&null!==t}function Fu(t){return function(t){return"string"===typeof t}(t)&&/^data:/.test(t)}function Bu(t){Au(Fu(t));const[e="",n=""]=t.split(",");return-1!==e.split(";").indexOf("base64")?atob(n):unescape(n)}function Nu(){return Iu&&window.devicePixelRatio||1}const zu="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function Uu(){Cu(!Lu,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${zu}`)}function ju(t){(null===t||void 0===t?void 0:t.cancel)&&t.cancel()}function Hu(t,e){return Object.defineProperty(t,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(t,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(t,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(t,"originalHeight",{get(){return this.view[3]},configurable:!0}),t}const{Tm:Vu}=i,$u=(t,e)=>{switch(e){case Mu.NEED_PASSWORD:t(prompt("Enter the password to open this PDF file."));break;case Mu.INCORRECT_PASSWORD:t(prompt("Invalid password. Please try again."));break}};function Wu(t){return"object"===typeof t&&null!==t&&("data"in t||"range"in t||"url"in t)}const Gu=(0,r.forwardRef)((function(t,e){let{children:n,className:i,error:s="Failed to load PDF file.",externalLinkRel:a,externalLinkTarget:o,file:l,inputRef:c,imageResourcesPath:d,loading:u="Loading PDF\u2026",noData:h="No PDF file specified.",onItemClick:p,onLoadError:f,onLoadProgress:g,onLoadSuccess:m,onPassword:v=$u,onSourceError:b,onSourceSuccess:y,options:w,renderMode:x,rotate:_,scale:S,...k}=t;const[A,C]=Ru(),{value:E,error:T}=A,[P,M]=Ru(),{value:D,error:R}=P,I=(0,r.useRef)(new Tu),L=(0,r.useRef)([]),O=(0,r.useRef)(void 0),F=(0,r.useRef)(void 0);l&&l!==O.current&&Wu(l)&&(Cu(!wu(l,O.current),'File prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.'),O.current=l),w&&w!==F.current&&(Cu(!wu(w,F.current),'Options prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.'),F.current=w);const B=(0,r.useRef)({scrollPageIntoView:t=>{const{dest:e,pageNumber:n,pageIndex:i=n-1}=t;if(p)return void p({dest:e,pageIndex:i,pageNumber:n});const s=L.current[i];s?s.scrollIntoView():Cu(!1,`An internal link leading to page ${n} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});(0,r.useImperativeHandle)(e,(()=>({linkService:I,pages:L,viewer:B})),[]),(0,r.useEffect)((function(){C({type:"RESET"})}),[l,C]);const N=(0,r.useCallback)((async()=>{if(!l)return null;if("string"===typeof l){if(Fu(l)){return{data:Bu(l)}}return Uu(),{url:l}}if(l instanceof Vu)return{range:l};if(l instanceof ArrayBuffer)return{data:l};if(Iu&&function(t){return Au(Iu),t instanceof Blob}(l)){const t=await function(t){return new Promise(((e,n)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return n(new Error("Error while reading a file."));e(i.result)},i.onerror=t=>{if(!t.target)return n(new Error("Error while reading a file."));const{error:e}=t.target;if(!e)return n(new Error("Error while reading a file."));switch(e.code){case e.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case e.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case e.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},i.readAsArrayBuffer(t)}))}(l);return{data:t}}if(Au("object"===typeof l),Au(Wu(l)),"url"in l&&"string"===typeof l.url){if(Fu(l.url)){const{url:t,...e}=l;return{data:Bu(t),...e}}Uu()}return l}),[l]);(0,r.useEffect)((()=>{const t=xu(N());return t.promise.then((t=>{C({type:"RESOLVE",value:t})})).catch((t=>{C({type:"REJECT",error:t})})),()=>{ju(t)}}),[N,C]),(0,r.useEffect)((()=>{"undefined"!==typeof E&&(!1!==E?y&&y():T&&(Cu(!1,T.toString()),b&&b(T)))}),[E]),(0,r.useEffect)((function(){M({type:"RESET"})}),[M,E]),(0,r.useEffect)((function(){if(!E)return;const t=Jc(w?{...E,...w}:E);g&&(t.onProgress=g),v&&(t.onPassword=v);const e=t,n=e.promise.then((t=>{M({type:"RESOLVE",value:t})})).catch((t=>{e.destroyed||M({type:"REJECT",error:t})}));return()=>{n.finally((()=>e.destroy()))}}),[w,M,E]),(0,r.useEffect)((()=>{"undefined"!==typeof D&&(!1!==D?D&&(m&&m(D),L.current=new Array(D.numPages),I.current.setDocument(D)):R&&(Cu(!1,R.toString()),f&&f(R)))}),[D]),(0,r.useEffect)((function(){I.current.setViewer(B.current),I.current.setExternalLinkRel(a),I.current.setExternalLinkTarget(o)}),[a,o]);const z=(0,r.useCallback)(((t,e)=>{L.current[t]=e}),[]),U=(0,r.useCallback)((t=>{delete L.current[t]}),[]),j=(0,r.useMemo)((()=>({imageResourcesPath:d,linkService:I.current,onItemClick:p,pdf:D,registerPage:z,renderMode:x,rotate:_,scale:S,unregisterPage:U})),[d,p,D,z,x,_,S,U]),H=(0,r.useMemo)((()=>Su(k,(()=>D))),[k,D]);return(0,zr.jsx)("div",{className:vu("react-pdf__Document",i),ref:c,...H,children:l?void 0===D||null===D?(0,zr.jsx)(Pu,{type:"loading",children:"function"===typeof u?u():u}):!1===D?(0,zr.jsx)(Pu,{type:"error",children:"function"===typeof s?s():s}):function(){if(t=j,!Boolean(null===t||void 0===t?void 0:t.pdf))throw new Error("pdf is undefined");var t;const e="function"===typeof n?n(j):n;return(0,zr.jsx)(Eu.Provider,{value:j,children:e})}():(0,zr.jsx)(Pu,{type:"no-data",children:"function"===typeof h?h():h})})})),qu=Gu;function Xu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.filter(Boolean);return n.length<=1?n[0]||null:function(t){for(var e=0,i=n;e<i.length;e++){var s=i[e];"function"===typeof s?s(t):s&&(s.current=t)}}}function Ku(){return(0,r.useContext)(Eu)}const Yu=(0,r.createContext)(null);function Qu(){return(0,r.useContext)(Yu)}function Ju(){const t=Ku(),e=Qu();Au(e);const n={...t,...e},{imageResourcesPath:i,linkService:s,onGetAnnotationsError:a,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:l,onRenderAnnotationLayerSuccess:c,page:d,pdf:u,renderForms:h,rotate:p,scale:f=1}=n;Au(u),Au(d),Au(s);const[g,m]=Ru(),{value:v,error:b}=g,y=(0,r.useRef)(null);Cu(1===Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10),"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations"),(0,r.useEffect)((function(){m({type:"RESET"})}),[m,d]),(0,r.useEffect)((function(){if(!d)return;const t=xu(d.getAnnotations()),e=t;return t.promise.then((t=>{m({type:"RESOLVE",value:t})})).catch((t=>{m({type:"REJECT",error:t})})),()=>{ju(e)}}),[m,d]),(0,r.useEffect)((()=>{void 0!==v&&(!1!==v?v&&o&&o(v):b&&(Cu(!1,b.toString()),a&&a(b)))}),[v]);const w=(0,r.useMemo)((()=>d.getViewport({scale:f,rotation:p})),[d,p,f]);return(0,r.useEffect)((function(){if(!u||!d||!s||!v)return;const{current:t}=y;if(!t)return;const e=w.clone({dontFlip:!0}),n={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:u.annotationStorage,commentManager:null,div:t,l10n:null,linkService:s,page:d,structTreeLayer:null,viewport:e},r={annotations:v,annotationStorage:u.annotationStorage,div:t,imageResourcesPath:i,linkService:s,page:d,renderForms:h,viewport:e};t.innerHTML="";try{new Wd(n).render(r),c&&c()}catch(a){!function(t){Cu(!1,`${t}`),l&&l(t)}(a)}return()=>{}}),[v,i,s,d,u,h,w]),(0,zr.jsx)("div",{className:vu("react-pdf__Page__annotations","annotationLayer"),ref:y})}const Zu={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},th=/^H(\d+)$/;function eh(t){return"children"in t}function nh(t){return!!eh(t)&&(1===t.children.length&&0 in t.children&&"id"in t.children[0])}function ih(t){const e={};if(eh(t)){const{role:n}=t,i=n.match(th);if(i)e.role="heading",e["aria-level"]=Number(i[1]);else if(function(t){return t in Zu}(n)){const t=Zu[n];t&&(e.role=t)}}return e}function sh(t){const e={};if(eh(t)){if(void 0!==t.alt&&(e["aria-label"]=t.alt),void 0!==t.lang&&(e.lang=t.lang),nh(t)){const[n]=t.children;if(n){const t=sh(n);return{...e,...t}}}}else"id"in t&&(e["aria-owns"]=t.id);return e}function rh(t){let{className:e,node:n}=t;const i=(0,r.useMemo)((()=>function(t){return t?{...ih(t),...sh(t)}:null}(n)),[n]),s=(0,r.useMemo)((()=>eh(n)?nh(n)?null:n.children.map(((t,e)=>(0,zr.jsx)(rh,{node:t},e))):null),[n]);return(0,zr.jsx)("span",{className:e,...i,children:s})}function ah(){const t=Qu();Au(t);const{onGetStructTreeError:e,onGetStructTreeSuccess:n}=t,[i,s]=Ru(),{value:a,error:o}=i,{customTextRenderer:l,page:c}=t;return(0,r.useEffect)((function(){s({type:"RESET"})}),[s,c]),(0,r.useEffect)((function(){if(l)return;if(!c)return;const t=xu(c.getStructTree()),e=t;return t.promise.then((t=>{s({type:"RESOLVE",value:t})})).catch((t=>{s({type:"REJECT",error:t})})),()=>ju(e)}),[l,c,s]),(0,r.useEffect)((()=>{void 0!==a&&(!1!==a?a&&n&&n(a):o&&(Cu(!1,o.toString()),e&&e(o)))}),[a]),a?(0,zr.jsx)(rh,{className:"react-pdf__Page__structTree structTree",node:a}):null}const oh=Zr;function lh(t){const e=Qu();Au(e);const n={...e,...t},{_className:i,canvasBackground:s,devicePixelRatio:a=Nu(),onRenderError:o,onRenderSuccess:l,page:c,renderForms:d,renderTextLayer:u,rotate:h,scale:p}=n,{canvasRef:f}=t;Au(c);const g=(0,r.useRef)(null);function m(t){(function(t){return"RenderingCancelledException"===t.name})(t)||(Cu(!1,t.toString()),o&&o(t))}const v=(0,r.useMemo)((()=>c.getViewport({scale:p*a,rotation:h})),[a,c,h,p]),b=(0,r.useMemo)((()=>c.getViewport({scale:p,rotation:h})),[c,h,p]);(0,r.useEffect)((function(){if(!c)return;c.cleanup();const{current:t}=g;if(!t)return;t.width=v.width,t.height=v.height,t.style.width=`${Math.floor(b.width)}px`,t.style.height=`${Math.floor(b.height)}px`,t.style.visibility="hidden";const e={annotationMode:d?oh.ENABLE_FORMS:oh.ENABLE,canvas:t,canvasContext:t.getContext("2d",{alpha:!1}),viewport:v};s&&(e.background=s);const n=c.render(e),i=n;return n.promise.then((()=>{t.style.visibility="",c&&l&&l(Hu(c,p))})).catch(m),()=>ju(i)}),[s,c,d,v,b]);const y=(0,r.useCallback)((()=>{const{current:t}=g;t&&(t.width=0,t.height=0)}),[]);return(0,r.useEffect)((()=>y),[y]),(0,zr.jsx)("canvas",{className:`${i}__canvas`,dir:"ltr",ref:Xu(f,g),style:{display:"block",userSelect:"none"},children:u?(0,zr.jsx)(ah,{}):null})}function ch(){const t=Qu();Au(t);const{customTextRenderer:e,onGetTextError:n,onGetTextSuccess:i,onRenderTextLayerError:s,onRenderTextLayerSuccess:a,page:o,pageIndex:l,pageNumber:c,rotate:d,scale:u}=t;Au(o);const[h,p]=Ru(),{value:f,error:g}=h,m=(0,r.useRef)(null);Cu(1===Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10),"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer"),(0,r.useEffect)((function(){p({type:"RESET"})}),[o,p]),(0,r.useEffect)((function(){if(!o)return;const t=xu(o.getTextContent()),e=t;return t.promise.then((t=>{p({type:"RESOLVE",value:t})})).catch((t=>{p({type:"REJECT",error:t})})),()=>ju(e)}),[o,p]),(0,r.useEffect)((()=>{void 0!==f&&(!1!==f?f&&i&&i(f):g&&(Cu(!1,g.toString()),n&&n(g)))}),[f]);const v=(0,r.useCallback)((()=>{a&&a()}),[a]),b=(0,r.useCallback)((t=>{Cu(!1,t.toString()),s&&s(t)}),[s]);const y=(0,r.useMemo)((()=>o.getViewport({scale:u,rotation:d})),[o,d,u]);return(0,r.useLayoutEffect)((function(){if(!o||!f)return;const{current:t}=m;if(!t)return;t.innerHTML="";const n=o.streamTextContent({includeMarkedContent:!0}),i=new Qc({container:t,textContentSource:n,viewport:y}),s=i;return i.render().then((()=>{const n=document.createElement("div");n.className="endOfContent",t.append(n);const i=t.querySelectorAll('[role="presentation"]');if(e){let t=0;f.items.forEach(((n,s)=>{if(!function(t){return"str"in t}(n))return;const r=i[t];if(!r)return;const a=e({pageIndex:l,pageNumber:c,itemIndex:s,...n});r.innerHTML=a,t+=n.str&&n.hasEOL?2:1}))}v()})).catch(b),()=>ju(s)}),[e,b,v,o,l,c,f,y]),(0,zr.jsx)("div",{className:vu("react-pdf__Page__textContent","textLayer"),onMouseUp:function(){const t=m.current;t&&t.classList.remove("selecting")},onMouseDown:function(){const t=m.current;t&&t.classList.add("selecting")},ref:m})}const dh=1;function uh(t){const e={...Ku(),...t},{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:s,canvasRef:a,children:o,className:l,customRenderer:c,customTextRenderer:d,devicePixelRatio:u,error:h="Failed to load the page.",height:p,inputRef:f,loading:g="Loading page\u2026",noData:m="No page specified.",onGetAnnotationsError:v,onGetAnnotationsSuccess:b,onGetStructTreeError:y,onGetStructTreeSuccess:w,onGetTextError:x,onGetTextSuccess:_,onLoadError:S,onLoadSuccess:k,onRenderAnnotationLayerError:A,onRenderAnnotationLayerSuccess:C,onRenderError:E,onRenderSuccess:T,onRenderTextLayerError:P,onRenderTextLayerSuccess:M,pageIndex:D,pageNumber:R,pdf:I,registerPage:L,renderAnnotationLayer:O=!0,renderForms:F=!1,renderMode:B="canvas",renderTextLayer:N=!0,rotate:z,scale:U=dh,unregisterPage:j,width:H,...V}=e,[$,W]=Ru(),{value:G,error:q}=$,X=(0,r.useRef)(null);Au(I);const K=Ou(R)?R-1:null!==D&&void 0!==D?D:null,Y=null!==R&&void 0!==R?R:Ou(D)?D+1:null,Q=null!==z&&void 0!==z?z:G?G.rotate:null,J=(0,r.useMemo)((()=>{if(!G)return null;let t=1;const e=null!==U&&void 0!==U?U:dh;if(H||p){const e=G.getViewport({scale:1,rotation:Q});H?t=H/e.width:p&&(t=p/e.height)}return e*t}),[p,G,Q,U,H]);(0,r.useEffect)((function(){return()=>{Ou(K)&&i&&j&&j(K)}}),[i,I,K,j]),(0,r.useEffect)((function(){W({type:"RESET"})}),[W,I,K]),(0,r.useEffect)((function(){if(!I||!Y)return;const t=xu(I.getPage(Y)),e=t;return t.promise.then((t=>{W({type:"RESOLVE",value:t})})).catch((t=>{W({type:"REJECT",error:t})})),()=>ju(e)}),[W,I,Y]),(0,r.useEffect)((()=>{void 0!==G&&(!1!==G?function(){if(k){if(!G||!J)return;k(Hu(G,J))}if(i&&L){if(!Ou(K)||!X.current)return;L(K,X.current)}}():q&&(Cu(!1,q.toString()),S&&S(q)))}),[G,J]);const Z=(0,r.useMemo)((()=>Ou(K)&&Y&&Ou(Q)&&Ou(J)?{_className:n,canvasBackground:s,customTextRenderer:d,devicePixelRatio:u,onGetAnnotationsError:v,onGetAnnotationsSuccess:b,onGetStructTreeError:y,onGetStructTreeSuccess:w,onGetTextError:x,onGetTextSuccess:_,onRenderAnnotationLayerError:A,onRenderAnnotationLayerSuccess:C,onRenderError:E,onRenderSuccess:T,onRenderTextLayerError:P,onRenderTextLayerSuccess:M,page:G,pageIndex:K,pageNumber:Y,renderForms:F,renderTextLayer:N,rotate:Q,scale:J}:null),[n,s,d,u,v,b,y,w,x,_,A,C,E,T,P,M,G,K,Y,F,N,Q,J]),tt=(0,r.useMemo)((()=>Su(V,(()=>G?J?Hu(G,J):void 0:G))),[V,G,J]),et=`${K}@${J}/${Q}`;function nt(){switch(B){case"custom":return Au(c),(0,zr.jsx)(c,{},`${et}_custom`);case"none":return null;default:return(0,zr.jsx)(lh,{canvasRef:a},`${et}_canvas`)}}return(0,zr.jsx)("div",{className:vu(n,l),"data-page-number":Y,ref:Xu(f,X),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${J}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...tt,children:Y?null===I||void 0===G||null===G?(0,zr.jsx)(Pu,{type:"loading",children:"function"===typeof g?g():g}):!1===I||!1===G?(0,zr.jsx)(Pu,{type:"error",children:"function"===typeof h?h():h}):function(){if(t=Z,!Boolean(null===t||void 0===t?void 0:t.page))throw new Error("page is undefined");var t;const e="function"===typeof o?o(Z):o;return(0,zr.jsxs)(Yu.Provider,{value:Z,children:[nt(),N?(0,zr.jsx)(ch,{},`${et}_text`):null,O?(0,zr.jsx)(Ju,{},`${et}_annotations`):null,e]})}():(0,zr.jsx)(Pu,{type:"no-data",children:"function"===typeof m?m():m})})}_c.workerSrc=`https://unpkg.com/pdfjs-dist@${od}/build/pdf.worker.min.mjs`;const hh=function(){const[t,e]=(0,r.useState)(null),[n]=(0,r.useState)(1),i=it(),s=(0,r.useCallback)((async t=>{await Nr(t)}),[]);return r.useEffect((()=>(document.body.style.overflow="auto",document.documentElement.style.overflow="auto",()=>{})),[]),(0,zr.jsxs)("div",{className:"cv-page-container",children:[(0,zr.jsx)(Yi,{id:"tsparticles",init:s,options:{background:{color:{value:"#0a0a1e"}},fpsLimit:60,interactivity:{events:{onHover:{enable:!0,mode:"grab"},onClick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:140,links:{opacity:.5}},push:{quantity:2}}},particles:{color:{value:"#60a5fa"},links:{color:"#60a5fa",distance:120,enable:!0,opacity:.4,width:1},move:{direction:"none",enable:!0,outModes:{default:"bounce"},random:!1,speed:1,straight:!1},number:{density:{enable:!0,area:800},value:50},opacity:{value:.7},shape:{type:"circle"},size:{value:3}},detectRetina:!0},className:"cv-particles"}),(0,zr.jsxs)("button",{className:"cv-home-button",onClick:()=>{i("/")},children:[(0,zr.jsx)(Wt,{size:window.innerWidth<=768?16:24}),"Home"]}),(0,zr.jsx)(qu,{file:"/portfolio/CV.pdf",onLoadSuccess:function(t){let{numPages:n}=t;e(n),console.log("PDF loaded successfully with",n,"pages")},onLoadError:function(t){console.error("Error loading PDF:",t)},options:{cMapUrl:`https://unpkg.com/pdfjs-dist@${od}/cmaps/`,cMapPacked:!0},loading:(0,zr.jsx)("div",{style:{color:"white",fontSize:"18px",zIndex:10,position:"relative"},children:"Loading PDF..."}),error:(0,zr.jsxs)("div",{style:{color:"white",textAlign:"center",zIndex:10,position:"relative"},children:[(0,zr.jsx)("p",{children:"Failed to load PDF."}),(0,zr.jsx)("a",{href:"/CV.pdf",target:"_blank",rel:"noopener noreferrer",style:{color:"#4a9eff",textDecoration:"underline"},children:"Click here to open PDF in new tab"})]}),className:"cv-document-container",children:(0,zr.jsx)(uh,{pageNumber:n,renderTextLayer:!0,renderAnnotationLayer:!0,width:Math.min(window.innerWidth-40,1200)})}),t&&(0,zr.jsx)("div",{className:"cv-page-info",children:(0,zr.jsxs)("p",{children:["Page ",n," of ",t]})})]})};const ph=function(){return(0,zr.jsx)(_t,{basename:"/portfolio",children:(0,zr.jsx)("div",{className:"App",children:(0,zr.jsxs)(yt,{children:[(0,zr.jsx)(vt,{path:"/",element:(0,zr.jsx)(Ur,{})}),(0,zr.jsx)(vt,{path:"/demos",element:(0,zr.jsx)(jr,{})}),(0,zr.jsx)(vt,{path:"/cv",element:(0,zr.jsx)(hh,{})})]})})})},fh=t=>{t&&t instanceof Function&&n.e(453).then(n.bind(n,453)).then((e=>{let{getCLS:n,getFID:i,getFCP:s,getLCP:r,getTTFB:a}=e;n(t),i(t),s(t),r(t),a(t)}))};o.createRoot(document.getElementById("root")).render((0,zr.jsx)(r.StrictMode,{children:(0,zr.jsx)(ph,{})})),fh()})();
//# sourceMappingURL=main.5c075fdd.js.map